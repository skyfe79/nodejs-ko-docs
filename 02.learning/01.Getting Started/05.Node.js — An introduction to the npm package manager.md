# [An introduction to the npm package manager](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#an-introduction-to-the-npm-package-manager)





## [npm 소개](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#introduction-to-npm)

`npm`은 Node.js의 표준 패키지 관리자입니다.

2022년 9월 기준으로 npm 레지스트리에는 210만 개 이상의 패키지가 등록되어 있습니다. 이는 지구상에서 가장 큰 단일 언어 코드 저장소이며, 거의 모든 것을 위한 패키지가 있다고 확신할 수 있습니다.

npm은 Node.js 패키지의 의존성을 다운로드하고 관리하는 도구로 시작했지만, 현재는 프론트엔드 자바스크립트에서도 사용되는 도구로 발전했습니다.

> [**Yarn**](https://yarnpkg.com/en/)과 [**pnpm**](https://pnpm.io)은 npm cli의 대안입니다. 이들도 확인해 보세요.


## [패키지](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#packages)

`npm`은 여러분의 프로젝트에 필요한 의존성을 설치, 업데이트, 관리합니다. 의존성은 라이브러리나 패키지처럼 미리 작성된 코드 조각으로, Node.js 애플리케이션이 동작하기 위해 필요합니다.


### [모든 의존성 설치하기](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#installing-all-dependencies)

프로젝트에 `package.json` 파일이 있다면, 다음 명령어를 실행하면 됩니다.

```bash
npm install
```

이 명령어는 프로젝트에 필요한 모든 의존성을 `node_modules` 폴더에 설치합니다. 해당 폴더가 없으면 자동으로 생성됩니다.


### [단일 패키지 설치하기](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#installing-a-single-package)

특정 패키지를 설치하려면 다음 명령어를 실행하면 됩니다.

```bash
npm install <package-name>
```

또한, npm 5 버전부터는 이 명령어가 `package.json` 파일의 *dependencies*에 `<package-name>`을 자동으로 추가합니다. 5 버전 이전에는 `--save` 플래그를 추가해야 했습니다.

이 명령어에 자주 사용되는 플래그들은 다음과 같습니다:

- `--save-dev`: 패키지를 설치하고 `package.json` 파일의 *devDependencies*에 추가
- `--no-save`: 패키지를 설치하지만 `package.json` 파일의 *dependencies*에 추가하지 않음
- `--save-optional`: 패키지를 설치하고 `package.json` 파일의 *optionalDependencies*에 추가
- `--no-optional`: 선택적 의존성(optional dependencies) 설치를 방지

이 플래그들은 짧은 형태로도 사용할 수 있습니다:

- `-S`: `--save`
- `-D`: `--save-dev`
- `-O`: `--save-optional`

*devDependencies*와 *dependencies*의 차이점은 전자가 테스트 라이브러리와 같은 개발 도구를 포함하는 반면, 후자는 프로덕션 환경에서 앱과 함께 번들된다는 점입니다.

*optionalDependencies*의 경우, 의존성 빌드가 실패해도 설치가 중단되지 않는다는 차이점이 있습니다. 하지만 의존성이 없는 상황을 처리하는 것은 여러분의 프로그램의 책임입니다. [선택적 의존성](https://docs.npmjs.com/cli/configuring-npm/package-json#optionaldependencies)에 대해 더 알아보세요.


### [패키지 업데이트](https://nodejs.org/ko/learn/getting-started/introduction-to-nodejs#updating-packages)

패키지를 업데이트하는 것도 간단합니다. 다음 명령어를 실행하면 됩니다.

```bash
npm update
```

`npm`은 여러분이 지정한 버전 제약 조건을 만족하는 새로운 버전이 있는지 모든 패키지를 확인합니다.

특정 패키지만 업데이트할 수도 있습니다.

```bash
npm update <패키지명>
```


## 버전 관리

단순 다운로드 외에도 `npm`은 **버전 관리**를 지원합니다. 이를 통해 특정 버전의 패키지를 지정하거나, 필요한 버전보다 높거나 낮은 버전을 요구할 수 있습니다.

종종 라이브러리가 다른 라이브러리의 특정 메이저 버전과만 호환되는 경우가 있습니다. 또는 최신 버전의 라이브러리에 아직 수정되지 않은 버그가 있어 문제를 일으킬 수도 있습니다.

명시적으로 라이브러리 버전을 지정하면 모든 팀원이 동일한 버전의 패키지를 사용할 수 있습니다. 이렇게 하면 `package.json` 파일이 업데이트될 때까지 전체 팀이 동일한 버전을 실행하게 됩니다.

이러한 모든 경우에 버전 관리는 큰 도움이 되며, `npm`은 시맨틱 버저닝(semver) 표준을 따릅니다.

특정 버전의 패키지를 설치하려면 다음 명령어를 실행하면 됩니다.

```bash
npm install <패키지명>@<버전>
```


## 작업 실행하기

`package.json` 파일은 커맨드라인 작업을 지정할 수 있는 형식을 지원합니다. 이 작업들은 `npm run` 명령어를 통해 실행할 수 있습니다.

예를 들어:

```json
{
  "scripts": {
    "start-dev": "node lib/server-development",
    "start": "node lib/server-production"
  }
}
```

이 기능은 Webpack을 실행할 때 자주 사용됩니다:

```json
{
  "scripts": {
    "watch": "webpack --watch --progress --colors --config webpack.conf.js",
    "dev": "webpack --progress --colors --config webpack.conf.js",
    "prod": "NODE_ENV=production webpack -p --config webpack.conf.js"
  }
}
```

따라서 길고 복잡한 명령어를 직접 입력하는 대신, 다음과 같이 간단하게 실행할 수 있습니다:

```bash
$ npm run watch
$ npm run dev
$ npm run prod
```


