# 파일 시스템

**소스 코드:** [lib/fs.js](https://github.com/nodejs/node/blob/v23.5.0/lib/fs.js)

`node:fs` 모듈은 표준 POSIX 함수를 기반으로 파일 시스템과 상호작용할 수 있게 해줍니다.

Promise 기반 API를 사용하려면:

```js
import * as fs from 'node:fs/promises';
```

콜백과 동기 API를 사용하려면:

```js
import * as fs from 'node:fs';
```

모든 파일 시스템 작업은 동기, 콜백, Promise 기반 형태로 제공되며, CommonJS 문법과 ES6 모듈(ESM) 모두에서 접근할 수 있습니다.


### Promise 예제[#](https://nodejs.org/docs/latest/api/fs.html#promise-example)

Promise 기반의 작업은 비동기 작업이 완료될 때 이행되는 Promise를 반환합니다.

```js
import { unlink } from 'node:fs/promises';

try {
    await unlink('/tmp/hello');
    console.log('/tmp/hello 파일을 성공적으로 삭제했습니다.');
} catch (error) {
    console.error('오류가 발생했습니다:', error.message);
}
```


### 콜백 예제

콜백 형태는 마지막 인자로 완료 콜백 함수를 받고, 비동기적으로 작업을 실행합니다. 완료 콜백에 전달되는 인자는 메서드에 따라 다르지만, 첫 번째 인자는 항상 예외를 위해 예약됩니다. 작업이 성공적으로 완료되면 첫 번째 인자는 `null` 또는 `undefined`가 됩니다.

```js
import { unlink } from 'node:fs';

unlink('/tmp/hello', (err) => {
    if (err) throw err;
    console.log('successfully deleted /tmp/hello');
});
```

`node:fs` 모듈 API의 콜백 기반 버전은 최대 성능(실행 시간과 메모리 할당 측면에서)이 필요할 때 Promise API를 사용하는 것보다 선호됩니다.


### 동기식 예제

동기식 API는 작업이 완료될 때까지 Node.js 이벤트 루프와 추가적인 자바스크립트 실행을 차단합니다. 예외는 즉시 발생하며, `try…catch`를 사용해 처리하거나 그대로 전파되도록 할 수 있습니다.

```js
import { unlinkSync } from 'node:fs';

try {
    unlinkSync('/tmp/hello');
    console.log('successfully deleted /tmp/hello');
} catch (err) {
    // 에러 처리
}
```


### Promise API

`fs/promises` API는 파일 시스템 작업을 비동기적으로 처리하고 Promise를 반환하는 메서드를 제공합니다.

이 Promise API는 Node.js의 스레드 풀을 사용하여 이벤트 루프 스레드 외부에서 파일 시스템 작업을 수행합니다. 이러한 작업은 동기화되지 않으며 스레드 안전하지 않습니다. 따라서 동일한 파일에 대해 여러 작업을 동시에 수행할 때 주의해야 합니다. 그렇지 않으면 데이터 손상이 발생할 수 있습니다.


#### 클래스: `FileHandle`[#](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)

추가된 버전: v10.0.0

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체는 숫자 파일 디스크립터를 감싸는 객체입니다.

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체의 인스턴스는 `fsPromises.open()` 메서드를 통해 생성됩니다.

모든 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체는 [`<EventEmitter>`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)입니다.

만약 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)이 `filehandle.close()` 메서드를 사용하여 닫히지 않으면, 파일 디스크립터를 자동으로 닫으려고 시도하고 프로세스 경고를 발생시켜 메모리 누수를 방지합니다. 하지만 이 동작은 신뢰할 수 없을 수 있으며 파일이 닫히지 않을 수도 있으므로, 이에 의존하지 마세요. 대신 항상 명시적으로 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)을 닫아야 합니다. Node.js는 이 동작을 미래에 변경할 수 있습니다.


##### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/fs.html#event-close)

추가된 버전: v15.4.0

`'close'` 이벤트는 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)이 닫히고 더 이상 사용할 수 없을 때 발생합니다.


##### `filehandle.appendFile(data[, options])`

- `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) | [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface) | [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) | [`<Stream>`](https://nodejs.org/docs/latest/api/stream.html#stream)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    - `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 파일을 닫기 전에 파일 디스크립터를 플러시합니다. **기본값:** `false`.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

이 메서드는 [`filehandle.writeFile()`](https://nodejs.org/docs/latest/api/fs.html#filehandlewritefiledata-options)의 별칭입니다.

파일 핸들을 다룰 때, 모드는 [`fsPromises.open()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesopenpath-flags-mode)로 설정된 값에서 변경할 수 없습니다. 따라서 이 메서드는 [`filehandle.writeFile()`](https://nodejs.org/docs/latest/api/fs.html#filehandlewritefiledata-options)과 동일하게 동작합니다.


##### `filehandle.chmod(mode)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlechmodmode)

v10.0.0에서 추가됨

-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 모드 비트 마스크
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

파일의 권한을 수정합니다. 자세한 내용은 [`chmod(2)`](http://man7.org/linux/man-pages/man2/chmod.2.html)를 참고하세요.


##### `filehandle.chown(uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlechownuid-gid)

추가된 버전: v10.0.0

-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 소유자 사용자 ID.
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 그룹 ID.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

파일의 소유권을 변경합니다. [`chown(2)`](http://man7.org/linux/man-pages/man2/chown.2.html)의 래퍼 함수입니다.


##### `filehandle.close()`[#](https://nodejs.org/docs/latest/api/fs.html#filehandleclose)

추가된 버전: v10.0.0

-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행된다.

파일 핸들에서 진행 중인 모든 작업이 완료될 때까지 기다린 후 파일 핸들을 닫는다.

```js
import { open } from 'node:fs/promises';

let filehandle;
try {
    filehandle = await open('thefile.txt', 'r');
} finally {
    await filehandle?.close();
}
```


##### `filehandle.createReadStream([options])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlecreatereadstreamoptions)

v16.11.0 버전에서 추가됨

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `null`
    -   `autoClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    -   `emitClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    -   `start` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `end` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `Infinity`
    -   `highWaterMark` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `64 * 1024`
    -   `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type) **기본값:** `undefined`
-   반환값: [`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)

`options`에 `start`와 `end` 값을 지정하면 파일 전체가 아닌 특정 범위의 바이트만 읽을 수 있습니다. `start`와 `end`는 모두 포함되며, 0부터 시작합니다. 허용되는 값의 범위는 \[0, [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)\]입니다. `start`가 생략되거나 `undefined`인 경우, `filehandle.createReadStream()`은 현재 파일 위치부터 순차적으로 읽습니다. `encoding`은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)에서 허용하는 값 중 하나일 수 있습니다.

`FileHandle`이 블로킹 읽기만 지원하는 문자 장치(예: 키보드나 사운드 카드)를 가리키는 경우, 데이터가 사용 가능할 때까지 읽기 작업이 완료되지 않습니다. 이로 인해 프로세스가 종료되지 않거나 스트림이 자연스럽게 닫히지 않을 수 있습니다.

기본적으로 스트림은 파괴된 후 `'close'` 이벤트를 발생시킵니다. 이 동작을 변경하려면 `emitClose` 옵션을 `false`로 설정하세요.

```js
import { open } from 'node:fs/promises';

const fd = await open('/dev/input/event0'); // 문자 장치에서 스트림 생성
const stream = fd.createReadStream();

setTimeout(() => {
    stream.close(); // 이렇게 해도 스트림이 닫히지 않을 수 있음
    // 스트림의 끝을 인위적으로 표시하면 스트림이 닫힐 수 있음
    // 이는 보류 중인 읽기 작업을 취소하지 않으며, 해당 작업이 완료될 때까지 프로세스가 종료되지 않을 수 있음
    stream.push(null);
    stream.read(0);
}, 100);
```

`autoClose`가 `false`인 경우, 오류가 발생해도 파일 디스크립터가 닫히지 않습니다. 애플리케이션에서 파일 디스크립터를 닫고 누수가 발생하지 않도록 해야 합니다. `autoClose`가 `true`(기본 동작)인 경우, `'error'` 또는 `'end'` 이벤트 발생 시 파일 디스크립터가 자동으로 닫힙니다.

100바이트 길이의 파일에서 마지막 10바이트를 읽는 예제:

```js
import { open } from 'node:fs/promises';

const fd = await open('sample.txt');
fd.createReadStream({ start: 90, end: 99 });
```


##### `filehandle.createWriteStream([options])`

- `options` [`<Object>`]
  - `encoding` [`<string>`] **기본값:** `'utf8'`
  - `autoClose` [`<boolean>`] **기본값:** `true`
  - `emitClose` [`<boolean>`] **기본값:** `true`
  - `start` [`<integer>`]
  - `highWaterMark` [`<number>`] **기본값:** `16384`
  - `flush` [`<boolean>`] `true`로 설정하면 파일 디스크립터를 닫기 전에 플러시합니다. **기본값:** `false`
- 반환값: [`<fs.WriteStream>`]

`options`에는 파일의 시작 부분 이후 특정 위치에 데이터를 쓰기 위한 `start` 옵션을 포함할 수 있습니다. 허용되는 값은 \[0, [`Number.MAX_SAFE_INTEGER`\] 범위입니다. 파일을 교체하지 않고 수정하려면 `flags` `open` 옵션을 기본값 `r` 대신 `r+`로 설정해야 할 수 있습니다. `encoding`은 [`<Buffer>`]에서 허용하는 모든 값 중 하나일 수 있습니다.

`autoClose`가 `true`로 설정되면(기본 동작), `'error'` 또는 `'finish'` 이벤트 발생 시 파일 디스크립터가 자동으로 닫힙니다. `autoClose`가 `false`인 경우, 오류가 발생하더라도 파일 디스크립터가 닫히지 않습니다. 이 경우 애플리케이션에서 파일 디스크립터를 닫고 파일 디스크립터 누수가 발생하지 않도록 해야 합니다.

기본적으로 스트림은 파괴된 후 `'close'` 이벤트를 발생시킵니다. 이 동작을 변경하려면 `emitClose` 옵션을 `false`로 설정합니다.


##### `filehandle.datasync()`[#](https://nodejs.org/docs/latest/api/fs.html#filehandledatasync)

추가된 버전: v10.0.0

-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

파일과 관련된 모든 대기 중인 I/O 작업을 운영체제의 동기화된 I/O 완료 상태로 강제합니다. 자세한 내용은 POSIX [`fdatasync(2)`](http://man7.org/linux/man-pages/man2/fdatasync.2.html) 문서를 참고하세요.

`filehandle.sync`와 달리 이 메서드는 수정된 메타데이터를 플러시하지 않습니다.


##### `filehandle.fd`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlefd)

추가된 버전: v10.0.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체가 관리하는 숫자 형식의 파일 디스크립터입니다.


##### `filehandle.read(buffer, offset, length, position)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlereadbuffer-offset-length-position)

- `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)  
  파일 데이터를 저장할 버퍼입니다.

- `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
  버퍼에서 데이터를 채우기 시작할 위치입니다. **기본값:** `0`

- `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
  읽을 바이트 수입니다. **기본값:** `buffer.byteLength - offset`

- `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)  
  파일에서 데이터를 읽기 시작할 위치입니다. `null` 또는 `-1`인 경우, 현재 파일 위치에서 데이터를 읽고 위치가 업데이트됩니다. `position`이 음수가 아닌 정수인 경우, 현재 파일 위치는 변경되지 않습니다. **기본값:** `null`

- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)  
  성공 시 두 가지 속성을 가진 객체와 함께 이행됩니다:
    - `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
      읽은 바이트 수
    - `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)  
      전달된 `buffer` 인자의 참조

파일에서 데이터를 읽어 지정된 버퍼에 저장합니다.

파일이 동시에 수정되지 않는 경우, 읽은 바이트 수가 0이면 파일의 끝에 도달한 것입니다.


##### `filehandle.read([options])`

- `options` [`<Object>`]
  - `buffer` [`<Buffer>`] | [`<TypedArray>`] | [`<DataView>`] 파일 데이터를 읽어 저장할 버퍼. **기본값:** `Buffer.alloc(16384)`
  - `offset` [`<integer>`] 버퍼에서 데이터를 채우기 시작할 위치. **기본값:** `0`
  - `length` [`<integer>`] 읽을 바이트 수. **기본값:** `buffer.byteLength - offset`
  - `position` [`<integer>`] | [`<bigint>`] | [`<null>`] 파일에서 데이터를 읽기 시작할 위치. `null`이나 `-1`인 경우 현재 파일 위치에서 읽고, 위치가 업데이트된다. `position`이 음수가 아닌 정수라면 현재 파일 위치는 변경되지 않는다. **기본값:** `null`
- 반환값: [`<Promise>`] 성공 시 두 가지 속성을 가진 객체로 이행됨:
  - `bytesRead` [`<integer>`] 읽은 바이트 수
  - `buffer` [`<Buffer>`] | [`<TypedArray>`] | [`<DataView>`] 전달된 `buffer` 인자의 참조

파일에서 데이터를 읽어 지정된 버퍼에 저장한다.

파일이 동시에 수정되지 않는다면, 읽은 바이트 수가 0일 때 파일의 끝에 도달한 것으로 간주한다.


##### `filehandle.read(buffer[, options])`

- `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)  
  파일 데이터를 읽어서 저장할 버퍼입니다.

- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)  
  - `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
    버퍼에서 데이터를 채우기 시작할 위치입니다. **기본값:** `0`  
  - `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
    읽을 바이트 수입니다. **기본값:** `buffer.byteLength - offset`  
  - `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)  
    파일에서 데이터를 읽기 시작할 위치입니다. `null` 또는 `-1`인 경우, 현재 파일 위치에서 데이터를 읽고 위치가 업데이트됩니다. `position`이 음수가 아닌 정수라면, 현재 파일 위치는 변경되지 않습니다. **기본값:** `null`

- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)  
  성공 시 두 가지 속성을 가진 객체와 함께 이행됩니다:  
  - `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
    읽은 바이트 수  
  - `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)  
    전달된 `buffer` 인자의 참조

파일에서 데이터를 읽어서 주어진 버퍼에 저장합니다.

파일이 동시에 수정되지 않는다면, 읽은 바이트 수가 0일 때 파일의 끝에 도달한 것으로 간주됩니다.


### `filehandle.readableWebStream([options])`

- `options` [`<Object>`]
  - `type` [`<string>`] | [`<undefined>`]  
    일반 스트림 또는 `'bytes'` 스트림을 열지 여부를 결정합니다. **기본값:** `undefined`
- 반환값: [`<ReadableStream>`]  
  파일 데이터를 읽는 데 사용할 수 있는 `ReadableStream`을 반환합니다.

이 메서드는 파일 데이터를 읽기 위해 사용할 수 있는 `ReadableStream`을 반환합니다.  
이 메서드를 두 번 이상 호출하거나 `FileHandle`이 닫힌 후에 호출하면 오류가 발생합니다.

```javascript
import { open } from 'node:fs/promises';

const file = await open('./some/file/to/read');

for await (const chunk of file.readableWebStream()) {
    console.log(chunk);
}

await file.close();
```

`ReadableStream`은 파일을 끝까지 읽지만, `FileHandle`을 자동으로 닫지 않습니다.  
사용자는 반드시 `fileHandle.close()` 메서드를 직접 호출해야 합니다.


##### `filehandle.readFile(options)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlereadfileoptions)

추가된 버전: v10.0.0

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    -   `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 진행 중인 `readFile` 작업을 중단할 수 있음
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 파일 읽기가 성공적으로 완료되면 파일 내용을 반환. `options.encoding`을 지정하지 않으면 데이터는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 반환. 그렇지 않으면 문자열로 반환.

파일 전체 내용을 비동기적으로 읽습니다.

`options`가 문자열인 경우, 해당 문자열은 `encoding`을 지정합니다.

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)은 읽기 작업을 지원해야 합니다.

하나 이상의 `filehandle.read()` 호출이 파일 핸들에서 이루어진 후 `filehandle.readFile()`을 호출하면, 데이터는 현재 위치부터 파일 끝까지 읽힙니다. 항상 파일의 처음부터 읽는 것은 아닙니다.


##### `filehandle.readLines([options])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlereadlinesoptions)

추가된 버전: v18.11.0

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `null`
    -   `autoClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    -   `emitClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    -   `start` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `end` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `Infinity`
    -   `highWaterMark` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `64 * 1024`
-   반환값: [`<readline.InterfaceConstructor>`](https://nodejs.org/docs/latest/api/readline.html#class-interfaceconstructor)

파일을 읽기 위한 `readline` 인터페이스를 생성하고 스트림을 처리하는 편의 메서드입니다. 옵션에 대한 자세한 내용은 [`filehandle.createReadStream()`](https://nodejs.org/docs/latest/api/fs.html#filehandlecreatereadstreamoptions)을 참고하세요.

```js
import { open } from 'node:fs/promises';

const file = await open('./some/file/to/read');

for await (const line of file.readLines()) {
    console.log(line);
}
```


##### `filehandle.readv(buffers[, position])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlereadvbuffers-position)

추가된 버전: v13.13.0, v12.17.0

-   `buffers` [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 파일의 시작 위치에서 데이터를 읽어올 오프셋입니다. `position`이 `number` 타입이 아니라면, 현재 위치에서 데이터를 읽습니다. **기본값:** `null`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 두 가지 속성을 가진 객체를 반환합니다:
    -   `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 읽은 바이트 수
    -   `buffers` [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) 입력된 `buffers`에 대한 참조를 포함하는 속성

파일에서 데이터를 읽어 [`<ArrayBufferView>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView) 배열에 씁니다.


##### `filehandle.stat([options])`

- `options` [`<Object>`]
  - `bigint` [`<boolean>`] 반환된 [`<fs.Stats>`] 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부를 지정합니다. **기본값:** `false`.
- 반환값: [`<Promise>`] 파일에 대한 [`<fs.Stats>`] 객체를 반환합니다.

```javascript
const fs = require('fs').promises;

async function getFileStats() {
    const filehandle = await fs.open('example.txt', 'r');
    const stats = await filehandle.stat({ bigint: true });
    console.log(stats);
    await filehandle.close();
}

getFileStats();
```

위 예제에서는 `filehandle.stat()` 메서드를 사용하여 파일의 상태 정보를 가져옵니다. `bigint` 옵션을 `true`로 설정하면, 반환된 `fs.Stats` 객체의 숫자 값이 `bigint` 타입으로 제공됩니다. 이 메서드는 비동기적으로 동작하며, `Promise`를 반환하므로 `await` 키워드를 사용하여 결과를 기다릴 수 있습니다.


##### `filehandle.sync()`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlesync)

추가된 버전: v10.0.0

-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행된다.

열려 있는 파일 디스크립터의 모든 데이터가 저장 장치에 플러시되도록 요청한다. 구체적인 구현은 운영 체제와 장치에 따라 다르다. 자세한 내용은 POSIX [`fsync(2)`](http://man7.org/linux/man-pages/man2/fsync.2.html) 문서를 참고한다.


##### `filehandle.truncate(len)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandletruncatelen)

추가된 버전: v10.0.0

-   `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨.

파일을 잘라냅니다.

파일 크기가 `len` 바이트보다 크다면, 파일의 처음 `len` 바이트만 남기고 나머지는 삭제됩니다.

다음 예제는 파일의 처음 4바이트만 남깁니다:

```js
import { open } from 'node:fs/promises';

let filehandle = null;
try {
    filehandle = await open('temp.txt', 'r+');
    await filehandle.truncate(4);
} finally {
    await filehandle?.close();
}
```

파일이 이전에 `len` 바이트보다 짧았다면, 파일이 확장되고 확장된 부분은 null 바이트(`'\0'`)로 채워집니다.

`len`이 음수라면 `0`이 사용됩니다.


##### `filehandle.utimes(atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandleutimesatime-mtime)

추가된 버전: v10.0.0

-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)이 참조하는 파일의 타임스탬프를 변경합니다. 성공 시 Promise는 인자 없이 이행됩니다.


##### `filehandle.write(buffer, offset[, length[, position]])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlewritebuffer-offset-length-position)

-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `buffer`에서 데이터를 쓰기 시작할 위치
-   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `buffer`에서 쓸 바이트 수. **기본값:** `buffer.byteLength - offset`
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 파일의 시작점에서 `buffer` 데이터를 쓸 위치. `position`이 숫자가 아닌 경우, 현재 위치에 데이터를 씁니다. 자세한 내용은 POSIX [`pwrite(2)`](http://man7.org/linux/man-pages/man2/pwrite.2.html) 문서를 참고하세요. **기본값:** `null`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

`buffer`를 파일에 씁니다.

Promise는 두 가지 속성을 가진 객체로 이행됩니다:

-   `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 쓴 바이트 수
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) 쓴 `buffer`에 대한 참조

Promise가 이행(또는 거부)되기 전에 동일한 파일에 대해 `filehandle.write()`를 여러 번 사용하는 것은 안전하지 않습니다. 이런 경우에는 [`filehandle.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#filehandlecreatewritestreamoptions)을 사용하세요.

리눅스에서는 파일이 추가 모드로 열려 있을 때 위치 기반 쓰기가 작동하지 않습니다. 커널이 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.


##### `filehandle.write(buffer[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlewritebuffer-options)

추가된 버전: v18.3.0, v16.17.0

-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `null`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

`buffer`를 파일에 씁니다.

위의 `filehandle.write` 함수와 유사하지만, 이 버전은 선택적인 `options` 객체를 받습니다. `options` 객체가 지정되지 않으면 위의 기본값을 사용합니다.


##### `filehandle.write(string[, position[, encoding]])`

- `string` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)  
  파일의 시작 위치에서 `string` 데이터를 쓸 오프셋입니다. `position`이 숫자가 아닌 경우, 데이터는 현재 위치에 기록됩니다. 자세한 내용은 POSIX [`pwrite(2)`](http://man7.org/linux/man-pages/man2/pwrite.2.html) 문서를 참고하세요. **기본값:** `null`
- `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
  예상되는 문자열 인코딩입니다. **기본값:** `'utf8'`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

`string`을 파일에 씁니다. `string`이 문자열이 아닌 경우, Promise는 오류와 함께 거부됩니다.

Promise는 두 가지 속성을 포함하는 객체와 함께 이행됩니다:

- `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
  기록된 바이트 수
- `buffer` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
  기록된 `string`에 대한 참조

Promise가 이행(또는 거부)될 때까지 기다리지 않고 동일한 파일에 대해 `filehandle.write()`를 여러 번 사용하는 것은 안전하지 않습니다. 이런 경우에는 [`filehandle.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#filehandlecreatewritestreamoptions)을 사용하세요.

리눅스에서는 파일이 추가 모드로 열려 있을 때 위치 기반 쓰기가 작동하지 않습니다. 커널은 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.


##### `filehandle.writeFile(data, options)`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlewritefiledata-options)

-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) | [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface) | [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) | [`<Stream>`](https://nodejs.org/docs/latest/api/stream.html#stream)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) `data`가 문자열일 때 사용할 문자 인코딩. **기본값:** `'utf8'`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

파일에 데이터를 비동기적으로 씁니다. 파일이 이미 존재하면 해당 파일을 대체합니다. `data`는 문자열, 버퍼, [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface), 또는 [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) 객체가 될 수 있습니다. 성공 시 Promise는 인자 없이 이행됩니다.

`options`가 문자열인 경우, 이는 `encoding`을 지정합니다.

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)은 쓰기를 지원해야 합니다.

Promise가 이행되거나 거부될 때까지 기다리지 않고 동일한 파일에 `filehandle.writeFile()`을 여러 번 사용하는 것은 안전하지 않습니다.

파일 핸들에 하나 이상의 `filehandle.write()` 호출이 이루어진 후 `filehandle.writeFile()` 호출이 발생하면, 데이터는 현재 위치부터 파일 끝까지 기록됩니다. 항상 파일의 처음부터 쓰는 것은 아닙니다.


##### `filehandle.writev(buffers[, position])`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlewritevbuffers-position)

추가된 버전: v12.9.0

-   `buffers` [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 파일의 시작 위치에서 데이터를 쓸 오프셋. `position`이 숫자가 아닌 경우, 현재 위치에 데이터를 씁니다. **기본값:** `null`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

[`<ArrayBufferView>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView) 배열을 파일에 씁니다.

Promise는 두 가지 속성을 가진 객체로 이행됩니다:

-   `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 쓴 바이트 수
-   `buffers` [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) 입력된 `buffers`에 대한 참조

Promise가 이행(또는 거부)되기 전에 동일한 파일에 대해 `writev()`를 여러 번 호출하는 것은 안전하지 않습니다.

Linux에서는 파일이 추가 모드로 열려 있을 때 위치 기반 쓰기가 작동하지 않습니다. 커널이 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.


##### `filehandle[Symbol.asyncDispose]()`[#](https://nodejs.org/docs/latest/api/fs.html#filehandlesymbolasyncdispose)

추가된 버전: v20.4.0, v18.18.0

`filehandle.close()`의 별칭입니다.


#### `fsPromises.access(path[, mode])`

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `fs.constants.F_OK`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`를 반환

`path`로 지정된 파일 또는 디렉토리에 대한 사용자의 권한을 테스트합니다. `mode` 인자는 선택적 정수로, 수행할 접근성 검사를 지정합니다. `mode`는 `fs.constants.F_OK` 값이거나 `fs.constants.R_OK`, `fs.constants.W_OK`, `fs.constants.X_OK` 중 하나 이상의 비트 OR 연산으로 구성된 마스크여야 합니다 (예: `fs.constants.W_OK | fs.constants.R_OK`). 가능한 `mode` 값은 [File access constants](https://nodejs.org/docs/latest/api/fs.html#file-access-constants)를 참조하세요.

접근성 검사가 성공하면 Promise는 값을 반환하지 않고 이행됩니다. 접근성 검사 중 하나라도 실패하면 Promise는 [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) 객체와 함께 거부됩니다. 다음 예제는 현재 프로세스가 `/etc/passwd` 파일을 읽고 쓸 수 있는지 확인합니다.

```js
import { access, constants } from 'node:fs/promises';

try {
    await access('/etc/passwd', constants.R_OK | constants.W_OK);
    console.log('can access');
} catch {
    console.error('cannot access');
}
```

`fsPromises.open()`을 호출하기 전에 `fsPromises.access()`를 사용하여 파일의 접근성을 확인하는 것은 권장되지 않습니다. 이렇게 하면 두 호출 사이에 다른 프로세스가 파일 상태를 변경할 수 있기 때문에 경쟁 조건이 발생할 수 있습니다. 대신, 사용자 코드는 파일을 직접 열고/읽고/쓰고, 파일에 접근할 수 없는 경우 발생하는 오류를 처리해야 합니다.


#### `fsPromises.appendFile(path, data[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 파일 이름 또는 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)
- `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
  - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
  - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
  - `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'a'`
  - `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`인 경우, 파일 디스크립터를 닫기 전에 플러시합니다. **기본값:** `false`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

파일에 데이터를 비동기적으로 추가합니다. 파일이 존재하지 않으면 새로 생성합니다. `data`는 문자열 또는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)일 수 있습니다.

`options`가 문자열인 경우, 인코딩을 지정합니다.

`mode` 옵션은 새로 생성된 파일에만 영향을 미칩니다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조하세요.

`path`는 `fsPromises.open()`을 사용하여 추가 모드로 열린 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)로 지정할 수 있습니다.


#### `fsPromises.chmod(path, mode)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseschmodpath-mode)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨.

파일의 권한을 변경합니다.


#### `fsPromises.chown(path, uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseschownpath-uid-gid)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

파일의 소유권을 변경합니다.


#### `fsPromises.copyFile(src, dest[, mode])`

- `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api): 복사할 소스 파일명
- `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api): 복사 작업의 대상 파일명
- `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type): 복사 작업의 동작을 지정하는 선택적 수정자. 두 개 이상의 값을 비트 OR 연산으로 결합하여 마스크를 생성할 수 있음 (예: `fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE`). **기본값:** `0`.
  - `fs.constants.COPYFILE_EXCL`: `dest`가 이미 존재하면 복사 작업이 실패함.
  - `fs.constants.COPYFILE_FICLONE`: 복사 작업이 copy-on-write reflink를 생성하려고 시도함. 플랫폼이 copy-on-write를 지원하지 않으면 대체 복사 메커니즘이 사용됨.
  - `fs.constants.COPYFILE_FICLONE_FORCE`: 복사 작업이 copy-on-write reflink를 생성하려고 시도함. 플랫폼이 copy-on-write를 지원하지 않으면 작업이 실패함.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨.

`src`를 `dest`로 비동기적으로 복사함. 기본적으로 `dest`가 이미 존재하면 덮어쓰게 됨.

복사 작업의 원자성은 보장되지 않음. 대상 파일이 쓰기 위해 열린 후 오류가 발생하면, 대상 파일을 제거하려고 시도함.

```js
import { copyFile, constants } from 'node:fs/promises';

try {
    await copyFile('source.txt', 'destination.txt');
    console.log('source.txt was copied to destination.txt');
} catch {
    console.error('The file could not be copied');
}

// COPYFILE_EXCL을 사용하면 destination.txt가 이미 존재할 경우 작업이 실패함.
try {
    await copyFile('source.txt', 'destination.txt', constants.COPYFILE_EXCL);
    console.log('source.txt was copied to destination.txt');
} catch {
    console.error('The file could not be copied');
}
```


#### `fsPromises.cp(src, dest[, options])`

- `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 소스 경로
- `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 대상 경로
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `dereference` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 심볼릭 링크를 역참조할지 여부. **기본값:** `false`
    - `errorOnExist` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `force`가 `false`이고 대상이 이미 존재할 때 오류를 발생시킬지 여부. **기본값:** `false`
    - `filter` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 복사할 파일/디렉토리를 필터링하는 함수. `true`를 반환하면 항목을 복사하고, `false`를 반환하면 무시함. 디렉토리를 무시하면 그 안의 모든 내용도 건너뜀. `Promise`를 반환하여 `true` 또는 `false`로 resolve할 수도 있음. **기본값:** `undefined`
        - `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 소스 경로
        - `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 대상 경로
        - 반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) | [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) `boolean`으로 변환 가능한 값 또는 해당 값으로 resolve되는 `Promise`
    - `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 기존 파일이나 디렉토리를 덮어쓸지 여부. 이 값을 `false`로 설정하고 대상이 이미 존재하면 복사 작업이 오류를 무시함. `errorOnExist` 옵션을 사용하여 이 동작을 변경할 수 있음. **기본값:** `true`
    - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 복사 작업에 대한 수정자. **기본값:** `0`. [`fsPromises.copyFile()`](https://nodejs.org/docs/latest/api/fs.html#fspromisescopyfilesrc-dest-mode)의 `mode` 플래그 참조
    - `preserveTimestamps` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `src`의 타임스탬프를 보존함. **기본값:** `false`
    - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 디렉토리를 재귀적으로 복사할지 여부. **기본값:** `false`
    - `verbatimSymlinks` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 심볼릭 링크에 대한 경로 해석을 건너뜀. **기본값:** `false`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 resolve됨

`src`에서 `dest`로 디렉토리 구조 전체를 비동기적으로 복사함. 하위 디렉토리와 파일도 포함됨.

디렉토리를 다른 디렉토리로 복사할 때, glob 패턴은 지원되지 않으며 `cp dir1/ dir2/`와 유사하게 동작함.


#### `fsPromises.glob(pattern[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesglobpattern-options)

-   `pattern` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `cwd` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 현재 작업 디렉토리. **기본값:** `process.cwd()`
    -   `exclude` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 파일/디렉토리를 필터링하는 함수. `true`를 반환하면 항목을 제외하고, `false`를 반환하면 포함시킨다. **기본값:** `undefined`.
    -   `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 glob이 경로를 Dirents로 반환하고, `false`로 설정하면 그렇지 않다. **기본값:** `false`.
-   반환값: [`<AsyncIterator>`](https://tc39.github.io/ecma262/#sec-asynciterator-interface) 패턴과 일치하는 파일의 경로를 제공하는 AsyncIterator.

```js
import { glob } from 'node:fs/promises';

for await (const entry of glob('**/*.js')) {
    console.log(entry);
}
```


#### `fsPromises.lchmod(path, mode)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseslchmodpath-mode)

**v10.0.0부터 deprecated됨**

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

심볼릭 링크의 권한을 변경합니다.

이 메서드는 macOS에서만 구현되어 있습니다.


#### `fsPromises.lchown(path, uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseslchownpath-uid-gid)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

심볼릭 링크의 소유권을 변경합니다.


#### `fsPromises.lutimes(path, atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseslutimespath-atime-mtime)

추가된 버전: v14.5.0, v12.19.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`를 반환합니다.

이 함수는 [`fsPromises.utimes()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesutimespath-atime-mtime)와 동일한 방식으로 파일의 접근 시간과 수정 시간을 변경합니다. 단, 경로가 심볼릭 링크를 가리키는 경우, 링크를 따라가지 않고 심볼릭 링크 자체의 타임스탬프를 변경합니다.


#### `fsPromises.link(existingPath, newPath)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseslinkexistingpath-newpath)

추가된 버전: v10.0.0

-   `existingPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

`existingPath`에서 `newPath`로 새로운 링크를 생성합니다. 자세한 내용은 POSIX [`link(2)`](http://man7.org/linux/man-pages/man2/link.2.html) 문서를 참고하세요.


#### `fsPromises.lstat(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  - `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 주어진 심볼릭 링크 `path`에 대한 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체로 이행됩니다.

`path`가 심볼릭 링크를 가리키는 경우, [`fsPromises.stat()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesstatpath-options)과 동일하지만, 링크 자체를 대상으로 통계 정보를 가져옵니다. 링크가 가리키는 파일이 아닙니다. 자세한 내용은 POSIX [`lstat(2)`](http://man7.org/linux/man-pages/man2/lstat.2.html) 문서를 참고하세요.


#### `fsPromises.mkdir(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesmkdirpath-options)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    -   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) Windows에서는 지원되지 않음. **기본값:** `0o777`.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시, `recursive`가 `false`이면 `undefined`를 반환하고, `recursive`가 `true`이면 생성된 첫 번째 디렉토리 경로를 반환합니다.

비동기적으로 디렉토리를 생성합니다.

선택적 `options` 인자는 `mode`(권한 및 스틱키 비트)를 지정하는 정수이거나, `mode` 속성과 부모 디렉토리를 생성할지 여부를 나타내는 `recursive` 속성을 가진 객체일 수 있습니다. `path`가 이미 존재하는 디렉토리일 때 `fsPromises.mkdir()`을 호출하면 `recursive`가 `false`인 경우에만 거부됩니다.

```js
import { mkdir } from 'node:fs/promises';

try {
    const projectFolder = new URL('./test/project/', import.meta.url);
    const createDir = await mkdir(projectFolder, { recursive: true });
    console.log(`created ${createDir}`);
} catch (err) {
    console.error(err.message);
}
```


#### `fsPromises.mkdtemp(prefix[, options])`

- `prefix` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 새로 생성된 임시 디렉토리의 파일 시스템 경로를 포함한 문자열로 이행됩니다.

고유한 임시 디렉토리를 생성합니다. 제공된 `prefix` 끝에 6개의 랜덤 문자를 추가하여 고유한 디렉토리 이름이 생성됩니다. 플랫폼 간 불일치로 인해 `prefix` 끝에 `X` 문자를 사용하지 않는 것이 좋습니다. 특히 BSD 계열 플랫폼은 6개 이상의 랜덤 문자를 반환할 수 있으며, `prefix` 끝의 `X` 문자를 랜덤 문자로 대체할 수 있습니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다.

```js
import { mkdtemp } from 'node:fs/promises';
import { join } from 'node:path';
import { tmpdir } from 'node:os';

try {
  await mkdtemp(join(tmpdir(), 'foo-'));
} catch (err) {
  console.error(err);
}
```

`fsPromises.mkdtemp()` 메서드는 `prefix` 문자열 끝에 6개의 랜덤 문자를 직접 추가합니다. 예를 들어, `/tmp` 디렉토리가 주어졌을 때, `/tmp` *내부에* 임시 디렉토리를 생성하려면 `prefix`가 플랫폼별 경로 구분자(`require('node:path').sep`)로 끝나야 합니다.


#### `fsPromises.open(path, flags[, mode])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesopenpath-flags-mode)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `flags` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 시스템 `flags` 지원을 참조하세요. **기본값:** `'r'`.
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일이 생성될 때 파일 모드(권한 및 스틱키 비트)를 설정합니다. **기본값:** `0o666` (읽기 및 쓰기 가능)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체로 이행됩니다.

[`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)을 엽니다.

자세한 내용은 POSIX [`open(2)`](http://man7.org/linux/man-pages/man2/open.2.html) 문서를 참조하세요.

Windows에서는 일부 문자(`< > : " / \ | ? *`)가 예약되어 있습니다. 이는 [Naming Files, Paths, and Namespaces](https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file) 문서에 설명되어 있습니다. NTFS에서 파일 이름에 콜론이 포함된 경우, Node.js는 [이 MSDN 페이지](https://docs.microsoft.com/en-us/windows/desktop/FileIO/using-streams)에 설명된 대로 파일 시스템 스트림을 엽니다.


#### `fsPromises.opendir(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
  - `bufferSize` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 디렉토리에서 읽을 때 내부적으로 버퍼링되는 디렉토리 항목의 수입니다. 값이 높을수록 성능은 좋아지지만 메모리 사용량도 증가합니다. **기본값:** `32`
  - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 `Dir`은 모든 하위 파일과 디렉토리를 포함하는 [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface)이 됩니다. **기본값:** `false`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)로 이행됩니다.

디렉토리를 반복적으로 스캔하기 위해 비동기적으로 엽니다. 자세한 내용은 POSIX [`opendir(3)`](http://man7.org/linux/man-pages/man3/opendir.3.html) 문서를 참고하세요.

[`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)을 생성하며, 이 객체는 디렉토리에서 읽고 정리하는 데 필요한 모든 함수를 포함합니다.

`encoding` 옵션은 디렉토리를 열고 이후의 읽기 작업에서 `path`의 인코딩을 설정합니다.

비동기 반복을 사용한 예제:

```js
import { opendir } from 'node:fs/promises';

try {
    const dir = await opendir('./');
    for await (const dirent of dir) {
        console.log(dirent.name);
    }
} catch (err) {
    console.error(err);
}
```

비동기 반복자를 사용할 때, [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir) 객체는 반복자가 종료된 후 자동으로 닫힙니다.


#### `fsPromises.readdir(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
  - `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
  - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 디렉토리의 내용을 재귀적으로 읽습니다. 재귀 모드에서는 모든 파일, 하위 파일, 디렉토리를 나열합니다. **기본값:** `false`.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 디렉토리에 있는 파일 이름 배열로 이행됩니다. `'.'`와 `'..'`는 제외됩니다.

디렉토리의 내용을 읽습니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 파일 이름에 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 파일 이름은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

`options.withFileTypes`가 `true`로 설정되면, 반환된 배열은 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체를 포함합니다.

```js
import { readdir } from 'node:fs/promises';

try {
    const files = await readdir(path);
    for (const file of files) {
        console.log(file);
    }
} catch (err) {
    console.error(err);
}
```


#### `fsPromises.readFile(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 파일 이름 또는 `FileHandle`
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    - `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'r'`
    - `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 진행 중인 `readFile` 작업을 중단할 수 있음
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 파일 내용으로 이행됨

파일 전체 내용을 비동기적으로 읽어옵니다.

`options.encoding`을 통해 인코딩을 지정하지 않으면 데이터는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 반환됩니다. 그렇지 않으면 데이터는 문자열로 반환됩니다.

`options`가 문자열인 경우, 해당 문자열은 인코딩을 지정합니다.

`path`가 디렉터리일 때, `fsPromises.readFile()`의 동작은 플랫폼에 따라 다릅니다. macOS, Linux, Windows에서는 Promise가 에러와 함께 거부됩니다. FreeBSD에서는 디렉터리 내용의 표현이 반환됩니다.

실행 중인 코드와 같은 디렉터리에 있는 `package.json` 파일을 읽는 예제:

```js
import { readFile } from 'node:fs/promises';

try {
    const filePath = new URL('./package.json', import.meta.url);
    const contents = await readFile(filePath, { encoding: 'utf8' });
    console.log(contents);
} catch (err) {
    console.error(err.message);
}
```

[`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal)을 사용하여 진행 중인 `readFile` 작업을 중단할 수 있습니다. 요청이 중단되면 반환된 Promise는 `AbortError`와 함께 거부됩니다:

```js
import { readFile } from 'node:fs/promises';

try {
    const controller = new AbortController();
    const { signal } = controller;
    const promise = readFile(fileName, { signal });

    // Promise가 완료되기 전에 요청을 중단합니다.
    controller.abort();
    await promise;
} catch (err) {
    // 요청이 중단되면 err는 AbortError입니다.
    console.error(err);
}
```

진행 중인 요청을 중단하는 것은 개별 운영 체제 요청을 중단하는 것이 아니라, `fs.readFile`이 수행하는 내부 버퍼링을 중단하는 것입니다.

지정된 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)은 읽기 작업을 지원해야 합니다.


#### `fsPromises.readlink(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesreadlinkpath-options)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `linkString`으로 이행됨

`path`로 참조된 심볼릭 링크의 내용을 읽습니다. 자세한 내용은 POSIX [`readlink(2)`](http://man7.org/linux/man-pages/man2/readlink.2.html) 문서를 참고하세요. Promise는 성공 시 `linkString`으로 이행됩니다.

선택적 `options` 인자는 문자열로 인코딩을 지정하거나, 반환된 링크 경로에 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 링크 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.


#### `fsPromises.realpath(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesrealpathpath-options)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 실제 경로를 반환합니다.

`fs.realpath.native()` 함수와 동일한 방식으로 `path`의 실제 위치를 확인합니다.

UTF8 문자열로 변환 가능한 경로만 지원됩니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 경로에 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정된 경우, 반환된 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

Linux에서 Node.js가 musl libc에 연결된 경우, 이 함수가 작동하려면 procfs 파일 시스템이 `/proc`에 마운트되어 있어야 합니다. Glibc에는 이러한 제한이 없습니다.


#### `fsPromises.rename(oldPath, newPath)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesrenameoldpath-newpath)

추가된 버전: v10.0.0

-   `oldPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

`oldPath`를 `newPath`로 이름을 변경합니다.


#### `fsPromises.rmdir(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  - `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면, Node.js는 `retryDelay` 밀리초 간격으로 선형 백오프를 적용하여 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `0`.
  - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 디렉토리를 재귀적으로 삭제합니다. 재귀 모드에서는 실패 시 작업이 재시도됩니다. **기본값:** `false`. **더 이상 사용되지 않음.**
  - `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 간 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `100`.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

`path`로 지정된 디렉토리를 삭제합니다.

`fsPromises.rmdir()`을 파일(디렉토리가 아닌)에 사용하면, Windows에서는 `ENOENT` 오류가, POSIX에서는 `ENOTDIR` 오류가 발생하여 Promise가 거부됩니다.

`rm -rf` 유닉스 명령어와 유사한 동작을 원한다면, [`fsPromises.rm()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesrmpath-options)을 `{ recursive: true, force: true }` 옵션과 함께 사용하세요.


#### `fsPromises.rm(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesrmpath-options)

추가된 버전: v14.14.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `path`가 존재하지 않을 때 예외를 무시합니다. **기본값:** `false`.
    -   `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면 Node.js는 `retryDelay` 밀리초 간격으로 선형 백오프를 사용해 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `0`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 디렉토리를 재귀적으로 삭제합니다. 재귀 모드에서는 실패 시 작업이 재시도됩니다. **기본값:** `false`.
    -   `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 간 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `100`.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

파일과 디렉토리를 삭제합니다. (표준 POSIX `rm` 유틸리티를 모델로 함)


#### `fsPromises.stat(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesstatpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부를 지정한다. **기본값:** `false`.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 주어진 `path`에 대한 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체로 이행된다.


#### `fsPromises.statfs(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesstatfspath-options)

추가된 버전: v19.6.0, v18.15.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 주어진 `path`에 대한 [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs) 객체로 이행됩니다.


#### `fsPromises.symlink(target, path[, type])`

- `target` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

심볼릭 링크를 생성합니다.

`type` 인자는 윈도우 플랫폼에서만 사용되며, `'dir'`, `'file'`, `'junction'` 중 하나일 수 있습니다. `type` 인자가 `null`인 경우, Node.js는 `target`의 타입을 자동으로 감지하여 `'file'` 또는 `'dir'`을 사용합니다. `target`이 존재하지 않으면 `'file'`이 사용됩니다. 윈도우의 junction 포인트는 대상 경로가 절대 경로여야 합니다. `'junction'`을 사용할 때, `target` 인자는 자동으로 절대 경로로 정규화됩니다. NTFS 볼륨의 junction 포인트는 디렉토리만 가리킬 수 있습니다.


#### `fsPromises.truncate(path[, len])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisestruncatepath-len)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨.

`path`에 위치한 파일의 내용을 `len` 바이트로 잘라내거나 확장합니다.


#### `fsPromises.unlink(path)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesunlinkpath)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됨

`path`가 심볼릭 링크를 가리키는 경우, 해당 링크가 참조하는 파일이나 디렉토리에 영향을 주지 않고 링크만 제거됩니다. `path`가 심볼릭 링크가 아닌 파일 경로를 가리키는 경우, 파일이 삭제됩니다. 자세한 내용은 POSIX [`unlink(2)`](http://man7.org/linux/man-pages/man2/unlink.2.html) 문서를 참고하세요.


#### `fsPromises.utimes(path, atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesutimespath-atime-mtime)

추가된 버전: v10.0.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`를 반환합니다.

`path`로 참조된 파일 시스템 객체의 타임스탬프를 변경합니다.

`atime`과 `mtime` 인자는 다음과 같은 규칙을 따릅니다:

-   값은 Unix epoch 시간을 나타내는 숫자, `Date` 객체, 또는 `'123456789.0'`과 같은 숫자 문자열이 될 수 있습니다.
-   값이 숫자로 변환될 수 없거나, `NaN`, `Infinity`, `-Infinity`인 경우, `Error`가 발생합니다.


#### `fsPromises.watch(filename[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fspromiseswatchfilename-options)

추가된 버전: v15.9.0, v14.18.0

-   `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `persistent` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 파일이 감시되는 동안 프로세스가 계속 실행될지 여부를 나타냅니다. **기본값:** `true`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 모든 하위 디렉토리를 감시할지, 아니면 현재 디렉토리만 감시할지 여부를 나타냅니다. 이 옵션은 디렉토리가 지정된 경우에만 적용되며, 지원되는 플랫폼에서만 동작합니다 ([주의사항](https://nodejs.org/docs/latest/api/fs.html#caveats) 참조). **기본값:** `false`.
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 리스너에 전달된 파일명에 사용할 문자 인코딩을 지정합니다. **기본값:** `'utf8'`.
    -   `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 감시를 중단해야 할 때 신호를 보내는 데 사용되는 [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal)입니다.
-   반환값: [`<AsyncIterator>`](https://tc39.github.io/ecma262/#sec-asynciterator-interface) 객체의 속성:
    -   `eventType` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 변경 유형
    -   `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 변경된 파일의 이름

`filename`에서 발생하는 변경 사항을 감시하는 비동기 이터레이터를 반환합니다. `filename`은 파일 또는 디렉토리일 수 있습니다.

```js
const { watch } = require('node:fs/promises');
const ac = new AbortController();
const { signal } = ac;
setTimeout(() => ac.abort(), 10000);

(async () => {
    try {
        const watcher = watch(__filename, { signal });
        for await (const event of watcher) {
            console.log(event);
        }
    } catch (err) {
        if (err.name === 'AbortError') return;
        throw err;
    }
})();
```

대부분의 플랫폼에서 디렉토리 내 파일명이 나타나거나 사라질 때마다 `'rename'` 이벤트가 발생합니다.

`fs.watch()`의 모든 [주의사항](https://nodejs.org/docs/latest/api/fs.html#caveats)은 `fsPromises.watch()`에도 동일하게 적용됩니다.


#### `fsPromises.writeFile(file, data[, options])`

- `file` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 파일 이름 또는 `FileHandle`
- `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) | [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface) | [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) | [`<Stream>`](https://nodejs.org/docs/latest/api/stream.html#stream)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
  - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
  - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
  - `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'w'`
  - `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 모든 데이터가 파일에 성공적으로 쓰여지고 `flush`가 `true`인 경우, `filehandle.sync()`를 사용하여 데이터를 플러시합니다. **기본값:** `false`
  - `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 진행 중인 `writeFile`을 중단할 수 있도록 합니다.
- 반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 `undefined`로 이행됩니다.

비동기적으로 데이터를 파일에 씁니다. 파일이 이미 존재하는 경우, 해당 파일을 대체합니다. `data`는 문자열, 버퍼, [`<AsyncIterable>`](https://tc39.github.io/ecma262/#sec-asynciterable-interface), 또는 [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) 객체일 수 있습니다.

`data`가 버퍼인 경우, `encoding` 옵션은 무시됩니다.

`options`가 문자열인 경우, 인코딩을 지정합니다.

`mode` 옵션은 새로 생성된 파일에만 영향을 미칩니다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조하세요.

지정된 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle)은 쓰기를 지원해야 합니다.

Promise가 완료되기 전에 동일한 파일에 `fsPromises.writeFile()`을 여러 번 사용하는 것은 안전하지 않습니다.

`fsPromises.readFile`과 마찬가지로, `fsPromises.writeFile`은 내부적으로 여러 번의 `write` 호출을 수행하는 편의 메서드입니다. 성능이 중요한 코드에서는 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options) 또는 [`filehandle.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#filehandlecreatewritestreamoptions)을 사용하는 것을 고려하세요.

[`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal)을 사용하여 `fsPromises.writeFile()`을 취소할 수 있습니다. 취소는 "최선의 노력"이며, 일부 데이터는 여전히 쓰여질 가능성이 있습니다.

```js
import { writeFile } from 'node:fs/promises';
import { Buffer } from 'node:buffer';

try {
    const controller = new AbortController();
    const { signal } = controller;
    const data = new Uint8Array(Buffer.from('Hello Node.js'));
    const promise = writeFile('message.txt', data, { signal });

    // Promise가 완료되기 전에 요청을 중단합니다.
    controller.abort();
    await promise;
} catch (err) {
    // 요청이 중단되면 err는 AbortError입니다.
    console.error(err);
}
```

진행 중인 요청을 중단해도 개별 운영 체제 요청을 중단하는 것이 아니라, `fs.writeFile`이 수행하는 내부 버퍼링을 중단합니다.


#### `fsPromises.constants`[#](https://nodejs.org/docs/latest/api/fs.html#fspromisesconstants)

추가된 버전: v18.4.0, v16.17.0

- [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

파일 시스템 작업에 자주 사용되는 상수들을 담은 객체를 반환합니다. 이 객체는 `fs.constants`와 동일합니다. 자세한 내용은 [FS constants](https://nodejs.org/docs/latest/api/fs.html#fs-constants)를 참고하세요.


### 콜백 API[#](https://nodejs.org/docs/latest/api/fs.html#callback-api)

콜백 API는 모든 작업을 비동기적으로 수행하며, 이벤트 루프를 차단하지 않습니다. 작업이 완료되거나 오류가 발생하면 콜백 함수를 호출합니다.

콜백 API는 Node.js의 내부 스레드 풀을 사용하여 파일 시스템 작업을 이벤트 루프 스레드 외부에서 실행합니다. 이러한 작업은 동기화되지 않으며 스레드 안전하지 않습니다. 동일한 파일에 대해 여러 동시 수정 작업을 수행할 때는 주의가 필요하며, 그렇지 않으면 데이터 손상이 발생할 수 있습니다.


#### `fs.access(path[, mode], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsaccesspath-mode-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `fs.constants.F_OK`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`path`로 지정된 파일 또는 디렉토리에 대한 사용자의 권한을 테스트합니다. `mode` 인자는 선택적 정수로, 수행할 접근성 검사를 지정합니다. `mode`는 `fs.constants.F_OK` 값이거나 `fs.constants.R_OK`, `fs.constants.W_OK`, `fs.constants.X_OK` 중 하나 이상의 비트 OR 연산으로 구성된 마스크여야 합니다 (예: `fs.constants.W_OK | fs.constants.R_OK`). 가능한 `mode` 값은 [파일 접근 상수](https://nodejs.org/docs/latest/api/fs.html#file-access-constants)를 참고하세요.

마지막 인자인 `callback`은 가능한 오류 인자와 함께 호출되는 콜백 함수입니다. 접근성 검사 중 하나라도 실패하면 오류 인자는 `Error` 객체가 됩니다. 다음 예제는 `package.json` 파일이 존재하는지, 읽기 또는 쓰기가 가능한지 확인합니다.

```js
import { access, constants } from 'node:fs';

const file = 'package.json';

// 현재 디렉토리에 파일이 존재하는지 확인
access(file, constants.F_OK, (err) => {
    console.log(`${file} ${err ? 'does not exist' : 'exists'}`);
});

// 파일이 읽기 가능한지 확인
access(file, constants.R_OK, (err) => {
    console.log(`${file} ${err ? 'is not readable' : 'is readable'}`);
});

// 파일이 쓰기 가능한지 확인
access(file, constants.W_OK, (err) => {
    console.log(`${file} ${err ? 'is not writable' : 'is writable'}`);
});

// 파일이 읽기 및 쓰기 가능한지 확인
access(file, constants.R_OK | constants.W_OK, (err) => {
    console.log(`${file} ${err ? 'is not' : 'is'} readable and writable`);
});
```

`fs.open()`, `fs.readFile()`, `fs.writeFile()`을 호출하기 전에 파일의 접근성을 확인하기 위해 `fs.access()`를 사용하지 마세요. 이렇게 하면 두 호출 사이에 다른 프로세스가 파일 상태를 변경할 수 있으므로 경쟁 조건이 발생할 수 있습니다. 대신, 파일을 직접 열거나 읽고 쓰면서 접근 불가능한 경우 발생하는 오류를 처리하세요.

**비추천 방식 (쓰기)**

```js
import { access, open, close } from 'node:fs';

access('myfile', (err) => {
    if (!err) {
        console.error('myfile already exists');
        return;
    }

    open('myfile', 'wx', (err, fd) => {
        if (err) throw err;
        try {
            writeMyData(fd);
        } finally {
            close(fd, (err) => {
                if (err) throw err;
            });
        }
    });
});
```

**추천 방식 (쓰기)**

```js
import { open, close } from 'node:fs';

open('myfile', 'wx', (err, fd) => {
    if (err) {
        if (err.code === 'EEXIST') {
            console.error('myfile already exists');
            return;
        }
        throw err;
    }

    try {
        writeMyData(fd);
    } finally {
        close(fd, (err) => {
            if (err) throw err;
        });
    }
});
```

**비추천 방식 (읽기)**

```js
import { access, open, close } from 'node:fs';

access('myfile', (err) => {
    if (err) {
        if (err.code === 'ENOENT') {
            console.error('myfile does not exist');
            return;
        }
        throw err;
    }

    open('myfile', 'r', (err, fd) => {
        if (err) throw err;
        try {
            readMyData(fd);
        } finally {
            close(fd, (err) => {
                if (err) throw err;
            });
        }
    });
});
```

**추천 방식 (읽기)**

```js
import { open, close } from 'node:fs';

open('myfile', 'r', (err, fd) => {
    if (err) {
        if (err.code === 'ENOENT') {
            console.error('myfile does not exist');
            return;
        }
        throw err;
    }

    try {
        readMyData(fd);
    } finally {
        close(fd, (err) => {
            if (err) throw err;
        });
    }
});
```

위의 "비추천" 예제는 접근성을 확인한 후 파일을 사용합니다. 반면 "추천" 예제는 파일을 직접 사용하고 오류를 처리하기 때문에 더 나은 방식입니다.

일반적으로 파일을 직접 사용하지 않을 때만 파일의 접근성을 확인하세요. 예를 들어, 다른 프로세스에서 파일 접근성을 신호로 사용하는 경우가 있습니다.

윈도우에서는 디렉토리의 접근 제어 정책(ACL)이 파일이나 디렉토리에 대한 접근을 제한할 수 있습니다. 그러나 `fs.access()` 함수는 ACL을 확인하지 않으므로 ACL이 사용자의 읽기 또는 쓰기를 제한하더라도 경로가 접근 가능하다고 보고할 수 있습니다.


#### `fs.appendFile(path, data[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsappendfilepath-data-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    -   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    -   `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'a'`.
    -   `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`일 경우, 파일 디스크립터를 닫기 전에 플러시합니다. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

비동기적으로 파일에 데이터를 추가합니다. 파일이 존재하지 않으면 새로 생성합니다. `data`는 문자열 또는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)일 수 있습니다.

`mode` 옵션은 새로 생성된 파일에만 영향을 미칩니다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조하세요.

```js
import { appendFile } from 'node:fs';

appendFile('message.txt', 'data to append', (err) => {
    if (err) throw err;
    console.log('The "data to append" was appended to file!');
});
```

`options`가 문자열인 경우, 인코딩을 지정합니다:

```js
import { appendFile } from 'node:fs';

appendFile('message.txt', 'data to append', 'utf8', callback);
```

`path`는 추가 모드로 열린 숫자 파일 디스크립터(`fs.open()` 또는 `fs.openSync()` 사용)로 지정할 수 있습니다. 파일 디스크립터는 자동으로 닫히지 않습니다.

```js
import { open, close, appendFile } from 'node:fs';

function closeFd(fd) {
    close(fd, (err) => {
        if (err) throw err;
    });
}

open('message.txt', 'a', (err, fd) => {
    if (err) throw err;
    try {
        appendFile(fd, 'data to append', 'utf8', (err) => {
            closeFd(fd);
            if (err) throw err;
        });
    } catch (err) {
        closeFd(fd);
        throw err;
    }
});
```


#### `fs.chmod(path, mode, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fschmodpath-mode-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`fs.chmod`는 파일의 권한을 비동기적으로 변경합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`chmod(2)`](http://man7.org/linux/man-pages/man2/chmod.2.html) 문서를 참고하세요.

```js
import { chmod } from 'node:fs';

chmod('my_file.txt', 0o775, (err) => {
    if (err) throw err;
    console.log('The permissions for file "my_file.txt" have been changed!');
});
```


##### 파일 모드

`fs.chmod()`와 `fs.chmodSync()` 메서드에서 사용되는 `mode` 인자는 다음 상수들을 논리 OR 연산으로 결합하여 생성된 숫자 비트마스크입니다.

| 상수 | 8진수 | 설명 |
| --- | --- | --- |
| `fs.constants.S_IRUSR` | `0o400` | 소유자 읽기 권한 |
| `fs.constants.S_IWUSR` | `0o200` | 소유자 쓰기 권한 |
| `fs.constants.S_IXUSR` | `0o100` | 소유자 실행/검색 권한 |
| `fs.constants.S_IRGRP` | `0o40` | 그룹 읽기 권한 |
| `fs.constants.S_IWGRP` | `0o20` | 그룹 쓰기 권한 |
| `fs.constants.S_IXGRP` | `0o10` | 그룹 실행/검색 권한 |
| `fs.constants.S_IROTH` | `0o4` | 기타 사용자 읽기 권한 |
| `fs.constants.S_IWOTH` | `0o2` | 기타 사용자 쓰기 권한 |
| `fs.constants.S_IXOTH` | `0o1` | 기타 사용자 실행/검색 권한 |

`mode`를 구성하는 더 쉬운 방법은 세 자리의 8진수를 사용하는 것입니다 (예: `765`). 가장 왼쪽의 숫자(예제에서는 `7`)는 파일 소유자의 권한을 지정합니다. 가운데 숫자(예제에서는 `6`)는 그룹의 권한을 지정합니다. 가장 오른쪽의 숫자(예제에서는 `5`)는 기타 사용자의 권한을 지정합니다.

| 숫자 | 설명 |
| --- | --- |
| `7` | 읽기, 쓰기, 실행 권한 |
| `6` | 읽기, 쓰기 권한 |
| `5` | 읽기, 실행 권한 |
| `4` | 읽기 권한만 |
| `3` | 쓰기, 실행 권한 |
| `2` | 쓰기 권한만 |
| `1` | 실행 권한만 |
| `0` | 권한 없음 |

예를 들어, 8진수 값 `0o765`은 다음을 의미합니다:

-   소유자는 파일을 읽고, 쓰고, 실행할 수 있습니다.
-   그룹은 파일을 읽고 쓸 수 있습니다.
-   기타 사용자는 파일을 읽고 실행할 수 있습니다.

파일 모드가 필요한 곳에서 원시 숫자를 사용할 때, `0o777`보다 큰 값은 플랫폼별로 일관되게 동작하지 않을 수 있는 특정 동작을 유발할 수 있습니다. 따라서 `S_ISVTX`, `S_ISGID`, `S_ISUID`와 같은 상수들은 `fs.constants`에 노출되지 않습니다.

주의: 윈도우에서는 쓰기 권한만 변경할 수 있으며, 그룹, 소유자, 기타 사용자 간의 권한 구분은 구현되지 않았습니다.


#### `fs.chown(path, uid, gid, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fschownpath-uid-gid-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`fs.chown`은 파일의 소유자와 그룹을 비동기적으로 변경합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`chown(2)`](http://man7.org/linux/man-pages/man2/chown.2.html) 문서를 참고하세요.


#### `fs.close(fd[, callback])`

- `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
- `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
  - `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일 디스크립터를 닫습니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

다른 `fs` 작업을 통해 현재 사용 중인 파일 디스크립터(`fd`)에 대해 `fs.close()`를 호출하면 예상치 못한 동작이 발생할 수 있습니다.

자세한 내용은 POSIX [`close(2)`](http://man7.org/linux/man-pages/man2/close.2.html) 문서를 참고하세요.


#### `fs.copyFile(src, dest[, mode], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fscopyfilesrc-dest-mode-callback)

-   `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 소스 파일명
-   `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사 작업의 대상 파일명
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 복사 작업의 동작을 지정하는 옵션. **기본값:** `0`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`src`를 `dest`로 비동기적으로 복사합니다. 기본적으로 `dest`가 이미 존재하면 덮어씁니다. 콜백 함수에는 가능한 예외를 제외하고 아무런 인자가 전달되지 않습니다. Node.js는 복사 작업의 원자성을 보장하지 않습니다. 대상 파일을 쓰기 위해 열고 난 후에 오류가 발생하면, Node.js는 대상을 제거하려고 시도합니다.

`mode`는 복사 작업의 동작을 지정하는 선택적 정수입니다. 두 개 이상의 값을 비트 OR 연산으로 조합하여 마스크를 만들 수 있습니다 (예: `fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE`).

-   `fs.constants.COPYFILE_EXCL`: `dest`가 이미 존재하면 복사 작업이 실패합니다.
-   `fs.constants.COPYFILE_FICLONE`: 복사 작업은 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면, 대체 복사 메커니즘이 사용됩니다.
-   `fs.constants.COPYFILE_FICLONE_FORCE`: 복사 작업은 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면, 작업이 실패합니다.

```js
import { copyFile, constants } from 'node:fs';

function callback(err) {
    if (err) throw err;
    console.log('source.txt가 destination.txt로 복사되었습니다.');
}

// destination.txt는 기본적으로 생성되거나 덮어쓰여집니다.
copyFile('source.txt', 'destination.txt', callback);

// COPYFILE_EXCL을 사용하면 destination.txt가 이미 존재할 경우 작업이 실패합니다.
copyFile('source.txt', 'destination.txt', constants.COPYFILE_EXCL, callback);
```


#### `fs.cp(src, dest[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fscpsrc-dest-options-callback)

-   `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 소스 경로
-   `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 대상 경로
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `dereference` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 심볼릭 링크를 역참조할지 여부. **기본값:** `false`
    -   `errorOnExist` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `force`가 `false`이고 대상 경로가 이미 존재할 때 오류를 발생시킬지 여부. **기본값:** `false`
    -   `filter` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 복사할 파일/디렉토리를 필터링하는 함수. `true`를 반환하면 항목을 복사하고, `false`를 반환하면 무시합니다. 디렉토리를 무시하면 그 안의 모든 내용도 건너뜁니다. `Promise`를 반환하여 `true` 또는 `false`로 resolve할 수도 있습니다. **기본값:** `undefined`
        -   `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 소스 경로
        -   `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 대상 경로
        -   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) | [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) `boolean`으로 변환 가능한 값 또는 해당 값으로 resolve되는 `Promise`
    -   `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 기존 파일이나 디렉토리를 덮어쓸지 여부. 이 값을 `false`로 설정하고 대상 경로가 이미 존재하면 복사 작업은 오류를 무시합니다. `errorOnExist` 옵션을 사용하여 이 동작을 변경할 수 있습니다. **기본값:** `true`
    -   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 복사 작업에 대한 모드 수정자. **기본값:** `0`. [`fs.copyFile()`](https://nodejs.org/docs/latest/api/fs.html#fscopyfilesrc-dest-mode-callback)의 `mode` 플래그 참조
    -   `preserveTimestamps` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `src`의 타임스탬프를 보존합니다. **기본값:** `false`
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 디렉토리를 재귀적으로 복사할지 여부. **기본값:** `false`
    -   `verbatimSymlinks` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 심볼릭 링크에 대한 경로 해석을 건너뜁니다. **기본값:** `false`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`src`에서 `dest`로 디렉토리 구조 전체를 비동기적으로 복사합니다. 하위 디렉토리와 파일도 포함됩니다.

디렉토리를 다른 디렉토리로 복사할 때, glob 패턴은 지원되지 않으며 `cp dir1/ dir2/`와 유사하게 동작합니다.


#### `fs.createReadStream(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `flags` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 파일 시스템 `flags` 지원을 참조하세요. **기본값:** `'r'`.
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `null`
    - `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) **기본값:** `null`
    - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    - `autoClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    - `emitClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    - `start` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    - `end` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `Infinity`
    - `highWaterMark` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `64 * 1024`
    - `fs` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    - `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
- 반환값: [`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)

`options`에 `start`와 `end` 값을 지정하면 파일 전체가 아닌 특정 범위의 바이트만 읽을 수 있습니다. `start`와 `end`는 모두 포함되며, 0부터 시작합니다. 허용되는 값은 \[0, [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)\] 범위입니다. `fd`가 지정되고 `start`가 생략되거나 `undefined`인 경우, `fs.createReadStream()`은 현재 파일 위치부터 순차적으로 읽습니다. `encoding`은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)가 허용하는 모든 값 중 하나일 수 있습니다.

`fd`가 지정되면 `ReadStream`은 `path` 인수를 무시하고 지정된 파일 디스크립터를 사용합니다. 이 경우 `'open'` 이벤트가 발생하지 않습니다. `fd`는 블로킹 방식이어야 하며, 논블로킹 `fd`는 [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)에 전달해야 합니다.

`fd`가 키보드나 사운드 카드와 같이 블로킹 읽기만 지원하는 문자 장치를 가리키는 경우, 데이터가 사용 가능할 때까지 읽기 작업이 완료되지 않습니다. 이로 인해 프로세스가 종료되지 않고 스트림이 자연스럽게 닫히지 않을 수 있습니다.

기본적으로 스트림은 파괴된 후 `'close'` 이벤트를 발생시킵니다. 이 동작을 변경하려면 `emitClose` 옵션을 `false`로 설정하세요.

`fs` 옵션을 제공하면 `open`, `read`, `close`에 해당하는 `fs` 구현을 재정의할 수 있습니다. `fs` 옵션을 제공할 때는 `read`에 대한 재정의가 필수입니다. `fd`가 제공되지 않으면 `open`에 대한 재정의도 필요합니다. `autoClose`가 `true`인 경우 `close`에 대한 재정의도 필요합니다.

```js
import { createReadStream } from 'node:fs';

// 특정 문자 장치에서 스트림 생성
const stream = createReadStream('/dev/input/event0');

setTimeout(() => {
    stream.close(); // 이렇게 해도 스트림이 닫히지 않을 수 있음
    // 스트림의 끝을 인위적으로 표시하면 스트림이 닫힐 수 있음
    // 이는 보류 중인 읽기 작업을 취소하지 않으며, 해당 작업이 완료될 때까지 프로세스가 종료되지 않을 수 있음
    stream.push(null);
    stream.read(0);
}, 100);
```

`autoClose`가 `false`인 경우, 오류가 발생해도 파일 디스크립터가 닫히지 않습니다. 애플리케이션에서 파일 디스크립터를 닫고 누수가 발생하지 않도록 해야 합니다. `autoClose`가 `true`로 설정된 경우(기본 동작), `'error'` 또는 `'end'` 이벤트 발생 시 파일 디스크립터가 자동으로 닫힙니다.

`mode`는 파일 모드(권한 및 스틱키 비트)를 설정하지만, 파일이 생성된 경우에만 적용됩니다.

100바이트 길이의 파일에서 마지막 10바이트를 읽는 예제:

```js
import { createReadStream } from 'node:fs';

createReadStream('sample.txt', { start: 90, end: 99 });
```

`options`가 문자열인 경우, 인코딩을 지정합니다.


#### `fs.createWriteStream(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `flags` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 파일 시스템 `flags` 지원을 참조하세요. **기본값:** `'w'`.
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
    - `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) **기본값:** `null`
    - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    - `autoClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    - `emitClose` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    - `start` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    - `fs` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    - `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    - `highWaterMark` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `16384`
    - `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 파일 디스크립터를 닫기 전에 플러시됩니다. **기본값:** `false`.
- 반환값: [`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)

`options`에는 파일의 시작 부분 이후 특정 위치에 데이터를 쓰기 위한 `start` 옵션도 포함될 수 있습니다. 허용되는 값은 \[0, [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER)\] 범위입니다. 파일을 교체하지 않고 수정하려면 `flags` 옵션을 기본값인 `w` 대신 `r+`로 설정해야 할 수 있습니다. `encoding`은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)에서 허용하는 모든 값 중 하나일 수 있습니다.

`autoClose`가 `true`로 설정되면(기본 동작), `'error'` 또는 `'finish'` 이벤트 발생 시 파일 디스크립터가 자동으로 닫힙니다. `autoClose`가 `false`인 경우, 오류가 발생해도 파일 디스크립터가 닫히지 않습니다. 이 경우 애플리케이션에서 파일 디스크립터를 닫고 파일 디스크립터 누수를 방지해야 합니다.

기본적으로 스트림은 파괴된 후 `'close'` 이벤트를 발생시킵니다. 이 동작을 변경하려면 `emitClose` 옵션을 `false`로 설정하세요.

`fs` 옵션을 제공하면 `open`, `write`, `writev`, `close`에 해당하는 `fs` 구현을 재정의할 수 있습니다. `writev()` 없이 `write()`만 재정의하면 성능이 저하될 수 있습니다. 이는 일부 최적화(`_writev()`)가 비활성화되기 때문입니다. `fs` 옵션을 제공할 때는 `write`와 `writev` 중 적어도 하나를 재정의해야 합니다. `fd` 옵션이 제공되지 않으면 `open`도 재정의해야 합니다. `autoClose`가 `true`인 경우 `close`도 재정의해야 합니다.

[`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)과 마찬가지로, `fd`가 지정되면 [`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)은 `path` 인수를 무시하고 지정된 파일 디스크립터를 사용합니다. 이 경우 `'open'` 이벤트가 발생하지 않습니다. `fd`는 블로킹 방식이어야 하며, 논블로킹 `fd`는 [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)에 전달해야 합니다.

`options`가 문자열인 경우, 이는 인코딩을 지정합니다.


#### `fs.exists(path, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsexistspath-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `exists` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

주어진 `path`에 위치한 엘리먼트가 파일 시스템에 존재하는지 확인합니다. 그 후 `callback` 인자를 통해 `true` 또는 `false`를 반환합니다:

```js
import { exists } from 'node:fs';
exists('/etc/passwd', (e) => {
    console.log(e ? 'it exists' : 'no passwd!');
});
```

**이 콜백의 매개변수는 다른 Node.js 콜백과 일관성이 없습니다.** 일반적으로 Node.js 콜백의 첫 번째 매개변수는 `err`이며, 선택적으로 다른 매개변수가 따라옵니다. 하지만 `fs.exists()` 콜백은 단일 불리언 매개변수만을 가집니다. 이는 `fs.exists()` 대신 `fs.access()`를 권장하는 이유 중 하나입니다.

만약 `path`가 심볼릭 링크라면, 이를 따라갑니다. 따라서 `path`가 존재하지만 존재하지 않는 엘리먼트를 가리키는 경우, 콜백은 `false` 값을 받습니다.

`fs.open()`, `fs.readFile()`, 또는 `fs.writeFile()`을 호출하기 전에 `fs.exists()`를 사용하여 파일의 존재 여부를 확인하는 것은 권장되지 않습니다. 이렇게 하면 두 호출 사이에 다른 프로세스가 파일의 상태를 변경할 수 있기 때문에 경쟁 조건이 발생할 수 있습니다. 대신, 사용자 코드는 파일을 직접 열거나 읽거나 쓰고, 파일이 존재하지 않을 경우 발생하는 오류를 처리해야 합니다.

**쓰기 (권장되지 않음)**

```js
import { exists, open, close } from 'node:fs';
exists('myfile', (e) => {
    if (e) {
        console.error('myfile already exists');
    } else {
        open('myfile', 'wx', (err, fd) => {
            if (err) throw err;
            try {
                writeMyData(fd);
            } finally {
                close(fd, (err) => {
                    if (err) throw err;
                });
            }
        });
    }
});
```

**쓰기 (권장)**

```js
import { open, close } from 'node:fs';
open('myfile', 'wx', (err, fd) => {
    if (err) {
        if (err.code === 'EEXIST') {
            console.error('myfile already exists');
            return;
        }
        throw err;
    }
    try {
        writeMyData(fd);
    } finally {
        close(fd, (err) => {
            if (err) throw err;
        });
    }
});
```

**읽기 (권장되지 않음)**

```js
import { open, close, exists } from 'node:fs';
exists('myfile', (e) => {
    if (e) {
        open('myfile', 'r', (err, fd) => {
            if (err) throw err;
            try {
                readMyData(fd);
            } finally {
                close(fd, (err) => {
                    if (err) throw err;
                });
            }
        });
    } else {
        console.error('myfile does not exist');
    }
});
```

**읽기 (권장)**

```js
import { open, close } from 'node:fs';
open('myfile', 'r', (err, fd) => {
    if (err) {
        if (err.code === 'ENOENT') {
            console.error('myfile does not exist');
            return;
        }
        throw err;
    }
    try {
        readMyData(fd);
    } finally {
        close(fd, (err) => {
            if (err) throw err;
        });
    }
});
```

위의 "권장되지 않음" 예제는 파일의 존재 여부를 확인한 후 파일을 사용합니다. 반면 "권장" 예제는 파일을 직접 사용하고 오류가 발생할 경우 이를 처리하기 때문에 더 나은 방법입니다.

일반적으로 파일을 직접 사용하지 않고, 예를 들어 다른 프로세스로부터의 신호로 파일의 존재 여부를 확인해야 할 때만 파일의 존재 여부를 확인하세요.


#### `fs.fchmod(fd, mode, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfchmodfd-mode-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일의 권한을 설정합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`fchmod(2)`](http://man7.org/linux/man-pages/man2/fchmod.2.html) 문서를 참고하세요.


#### `fs.fchown(fd, uid, gid, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfchownfd-uid-gid-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일의 소유자를 설정합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`fchown(2)`](http://man7.org/linux/man-pages/man2/fchown.2.html) 문서를 참고하세요.


#### `fs.fdatasync(fd, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfdatasyncfd-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일과 관련된 모든 대기 중인 I/O 작업을 운영체제의 동기화된 I/O 완료 상태로 강제합니다. 자세한 내용은 POSIX [`fdatasync(2)`](http://man7.org/linux/man-pages/man2/fdatasync.2.html) 문서를 참조하세요. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.


#### `fs.fstat(fd[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfstatfd-options-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `stats` [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

파일 디스크립터에 대한 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체를 콜백 함수로 전달합니다.

자세한 내용은 POSIX [`fstat(2)`](http://man7.org/linux/man-pages/man2/fstat.2.html) 문서를 참고하세요.


#### `fs.fsync(fd, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfsyncfd-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

열려 있는 파일 디스크립터(`fd`)의 모든 데이터를 저장 장치에 강제로 기록하도록 요청합니다. 이 기능의 구체적인 구현은 운영체제와 장치에 따라 다릅니다. 자세한 내용은 POSIX [`fsync(2)`](http://man7.org/linux/man-pages/man2/fsync.2.html) 문서를 참고하세요. 완료 콜백에는 예외가 발생한 경우를 제외하고는 추가 인자가 전달되지 않습니다.


#### `fs.ftruncate(fd[, len], callback)`

- `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
- `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
- `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
  - `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일 디스크립터를 잘라냅니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`ftruncate(2)`](http://man7.org/linux/man-pages/man2/ftruncate.2.html) 문서를 참고하세요.

파일 디스크립터가 참조하는 파일의 크기가 `len` 바이트보다 큰 경우, 파일의 첫 `len` 바이트만 유지됩니다.

예를 들어, 다음 프로그램은 파일의 첫 4바이트만 유지합니다:

```js
import { open, close, ftruncate } from 'node:fs';

function closeFd(fd) {
    close(fd, (err) => {
        if (err) throw err;
    });
}

open('temp.txt', 'r+', (err, fd) => {
    if (err) throw err;
    try {
        ftruncate(fd, 4, (err) => {
            closeFd(fd);
            if (err) throw err;
        });
    } catch (err) {
        closeFd(fd);
        if (err) throw err;
    }
});
```

파일이 이전에 `len` 바이트보다 짧았다면, 파일이 확장되고 확장된 부분은 null 바이트(`'\0'`)로 채워집니다.

`len`이 음수라면 `0`이 사용됩니다.


#### `fs.futimes(fd, atime, mtime, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfutimesfd-atime-mtime-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

제공된 파일 디스크립터가 참조하는 객체의 파일 시스템 타임스탬프를 변경합니다. 자세한 내용은 [`fs.utimes()`](https://nodejs.org/docs/latest/api/fs.html#fsutimespath-atime-mtime-callback)를 참고하세요.


#### `fs.glob(pattern[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsglobpattern-options-callback)

-   `pattern` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    
    -   `cwd` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 현재 작업 디렉토리. **기본값:** `process.cwd()`
    -   `exclude` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 파일이나 디렉토리를 필터링하는 함수. `true`를 반환하면 항목을 제외하고, `false`를 반환하면 포함시킨다. **기본값:** `undefined`.
    -   `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 glob이 경로를 Dirents로 반환한다. `false`일 경우 일반 경로를 반환한다. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
-   지정된 패턴과 일치하는 파일을 가져온다.

```js
import { glob } from 'node:fs';

glob('**/*.js', (err, matches) => {
    if (err) throw err;
    console.log(matches);
});
```


#### `fs.lchmod(path, mode, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fslchmodpath-mode-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | [`<AggregateError>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError)

심볼릭 링크의 권한을 변경합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

이 메서드는 macOS에서만 구현되어 있습니다.

자세한 내용은 POSIX [`lchmod(2)`](https://www.freebsd.org/cgi/man.cgi?query=lchmod&sektion=2) 문서를 참고하세요.


#### `fs.lchown(path, uid, gid, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fslchownpath-uid-gid-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

심볼릭 링크의 소유자를 설정합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`lchown(2)`](http://man7.org/linux/man-pages/man2/lchown.2.html) 문서를 참고하세요.


#### `fs.lutimes(path, atime, mtime, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fslutimespath-atime-mtime-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`fs.lutimes()`는 파일의 접근 시간과 수정 시간을 변경하는 함수입니다. 이 함수는 [`fs.utimes()`](https://nodejs.org/docs/latest/api/fs.html#fsutimespath-atime-mtime-callback)와 유사하게 동작하지만, 경로가 심볼릭 링크를 가리키는 경우 심볼릭 링크 자체의 타임스탬프를 변경합니다. 심볼릭 링크가 가리키는 실제 파일의 타임스탬프는 변경되지 않습니다.

완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.


#### `fs.link(existingPath, newPath, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fslinkexistingpath-newpath-callback)

-   `existingPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`fs.link` 함수는 `existingPath`에 있는 파일에 대한 새로운 링크를 `newPath`에 생성합니다. 자세한 내용은 POSIX [`link(2)`](http://man7.org/linux/man-pages/man2/link.2.html) 문서를 참고하세요. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.


#### `fs.lstat(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입인지 여부. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `stats` [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

`path`가 가리키는 심볼릭 링크의 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 정보를 가져옵니다. 콜백은 `(err, stats)` 두 개의 인자를 받으며, `stats`는 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체입니다. `lstat()`은 `stat()`과 동일하지만, `path`가 심볼릭 링크일 경우 링크 자체의 정보를 가져오고, 링크가 가리키는 파일의 정보는 가져오지 않습니다.

자세한 내용은 POSIX [`lstat(2)`](http://man7.org/linux/man-pages/man2/lstat.2.html) 문서를 참고하세요.


#### `fs.mkdir(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsmkdirpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    -   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) Windows에서는 지원되지 않음. **기본값:** `0o777`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type) `recursive`가 `true`로 설정된 경우에만 생성된 첫 번째 디렉토리 경로가 포함됨.

비동기적으로 디렉토리를 생성합니다.

콜백은 가능한 예외와, `recursive`가 `true`인 경우 생성된 첫 번째 디렉토리 경로를 받습니다. `(err[, path])`. `recursive`가 `true`여도 디렉토리가 생성되지 않았다면(예: 이미 존재하는 경우), `path`는 `undefined`일 수 있습니다.

선택적 `options` 인자는 `mode`(권한 및 스틱키 비트)를 지정하는 정수이거나, `mode` 속성과 상위 디렉토리를 생성할지 여부를 나타내는 `recursive` 속성을 가진 객체일 수 있습니다. `fs.mkdir()`을 호출할 때 `path`가 이미 존재하는 디렉토리라면, `recursive`가 `false`인 경우에만 오류가 발생합니다. `recursive`가 `false`이고 디렉토리가 이미 존재하면 `EEXIST` 오류가 발생합니다.

```js
import { mkdir } from 'node:fs';

// ./tmp와 ./tmp/a가 존재하지 않더라도 ./tmp/a/apple 디렉토리를 생성합니다.
mkdir('./tmp/a/apple', { recursive: true }, (err) => {
    if (err) throw err;
});
```

Windows에서는 루트 디렉토리에 대해 `fs.mkdir()`을 사용하면 재귀 옵션을 설정하더라도 오류가 발생합니다:

```js
import { mkdir } from 'node:fs';

mkdir('/', { recursive: true }, (err) => {
    // => [Error: EPERM: operation not permitted, mkdir 'C:\']
});
```

자세한 내용은 POSIX [`mkdir(2)`](http://man7.org/linux/man-pages/man2/mkdir.2.html) 문서를 참고하세요.


#### `fs.mkdtemp(prefix[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsmkdtempprefix-options-callback)

-   `prefix` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `directory` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

고유한 임시 디렉터리를 생성합니다.

필수 `prefix` 뒤에 6개의 랜덤 문자를 추가하여 고유한 임시 디렉터리를 만듭니다. 플랫폼 간 불일치로 인해 `prefix` 끝에 `X` 문자를 사용하지 않는 것이 좋습니다. 일부 플랫폼, 특히 BSD 계열은 6개 이상의 랜덤 문자를 반환할 수 있으며, `prefix` 끝의 `X` 문자를 랜덤 문자로 대체할 수 있습니다.

생성된 디렉터리 경로는 문자열로 콜백의 두 번째 인자에 전달됩니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다.

```js
import { mkdtemp } from 'node:fs';
import { join } from 'node:path';
import { tmpdir } from 'node:os';

mkdtemp(join(tmpdir(), 'foo-'), (err, directory) => {
    if (err) throw err;
    console.log(directory); // 출력: /tmp/foo-itXde2 또는 C:\Users\...\AppData\Local\Temp\foo-itXde2
});
```

`fs.mkdtemp()` 메서드는 6개의 랜덤 문자를 `prefix` 문자열 바로 뒤에 추가합니다. 예를 들어, `/tmp` 디렉터리가 주어졌을 때, `/tmp` *내부에* 임시 디렉터리를 생성하려면 `prefix`가 플랫폼별 경로 구분자(`require('node:path').sep`)로 끝나야 합니다.

```js
import { tmpdir } from 'node:os';
import { mkdtemp } from 'node:fs';

// 새로운 임시 디렉터리의 부모 디렉터리
const tmpDir = tmpdir();

// 이 방법은 *잘못된* 예시입니다:
mkdtemp(tmpDir, (err, directory) => {
    if (err) throw err;
    console.log(directory); // `/tmpabc123`과 유사한 값을 출력합니다.
    // 새로운 임시 디렉터리가 파일 시스템 루트에 생성됩니다.
    // `/tmp` 디렉터리 *내부에* 생성되지 않습니다.
});

// 이 방법은 *올바른* 예시입니다:
import { sep } from 'node:path';
mkdtemp(`${tmpDir}${sep}`, (err, directory) => {
    if (err) throw err;
    console.log(directory); // `/tmp/abc123`과 유사한 값을 출력합니다.
    // 새로운 임시 디렉터리가 `/tmp` 디렉터리 내부에 생성됩니다.
});
```


#### `fs.open(path[, flags[, mode]], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `flags` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags)을 참고하세요. **기본값:** `'r'`.
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666` (읽기 및 쓰기 가능)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

비동기 파일 열기. 자세한 내용은 POSIX [`open(2)`](http://man7.org/linux/man-pages/man2/open.2.html) 문서를 참고하세요.

`mode`는 파일 모드(권한 및 스틱키 비트)를 설정하지만, 파일이 생성된 경우에만 적용됩니다. 윈도우에서는 쓰기 권한만 조작할 수 있습니다. 자세한 내용은 [`fs.chmod()`](https://nodejs.org/docs/latest/api/fs.html#fschmodpath-mode-callback)를 참고하세요.

콜백은 두 개의 인자 `(err, fd)`를 받습니다.

윈도우에서는 일부 문자(`< > : " / \ | ? *`)가 예약되어 있습니다. 이에 대한 자세한 내용은 [파일, 경로 및 네임스페이스 명명](https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file) 문서를 참고하세요. NTFS에서 파일 이름에 콜론이 포함된 경우, Node.js는 [이 MSDN 페이지](https://docs.microsoft.com/en-us/windows/desktop/FileIO/using-streams)에 설명된 대로 파일 시스템 스트림을 엽니다.

`fs.open()`을 기반으로 하는 함수들도 이 동작을 보입니다: `fs.writeFile()`, `fs.readFile()` 등.


#### `fs.openAsBlob(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsopenasblobpath-options)

추가된 버전: v19.8.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) Blob의 MIME 타입을 지정할 수 있는 옵션.
-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) 성공 시 [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob)을 반환.

주어진 파일을 기반으로 데이터를 가진 [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob)을 반환합니다.

Blob이 생성된 후에는 파일을 수정하면 안 됩니다. 파일을 수정하면 Blob 데이터를 읽을 때 `DOMException` 오류가 발생합니다. Blob이 생성될 때와 각 읽기 작업 전에 파일 데이터가 디스크에서 수정되었는지 감지하기 위해 동기적인 stat 작업이 수행됩니다.

```js
import { openAsBlob } from 'node:fs';

const blob = await openAsBlob('the.file.txt');
const ab = await blob.arrayBuffer();
blob.stream();
```


#### `fs.opendir(path[, options], callback)`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    - `bufferSize` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 디렉토리에서 읽을 때 내부적으로 버퍼링되는 디렉토리 항목의 수입니다. 값이 높을수록 성능은 좋아지지만 메모리 사용량도 증가합니다. **기본값:** `32`
    - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
- `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    - `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    - `dir` [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)

디렉토리를 비동기적으로 엽니다. 자세한 내용은 POSIX [`opendir(3)`](http://man7.org/linux/man-pages/man3/opendir.3.html) 문서를 참고하세요.

이 함수는 [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir) 객체를 생성하며, 이 객체는 디렉토리에서 읽고 정리하는 데 필요한 모든 함수를 포함합니다.

`encoding` 옵션은 디렉토리를 열고 이후의 읽기 작업에서 `path`의 인코딩을 설정합니다.


#### `fs.read(fd, buffer, offset, length, position, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-offset-length-position-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) 데이터가 기록될 버퍼
-   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 데이터를 기록할 버퍼 내 위치
-   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 읽을 바이트 수
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 파일에서 읽기를 시작할 위치. `position`이 `null`이거나 `-1`이면 현재 파일 위치에서 데이터를 읽고 파일 위치가 업데이트됩니다. `position`이 음수가 아닌 정수라면 파일 위치는 변경되지 않습니다.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

`fd`로 지정된 파일에서 데이터를 읽습니다.

콜백은 `(err, bytesRead, buffer)` 세 가지 인자를 받습니다.

파일이 동시에 수정되지 않았다면, 읽은 바이트 수가 0일 때 파일의 끝에 도달한 것입니다.

이 메서드를 [`util.promisify()`](https://nodejs.org/docs/latest/api/util.html#utilpromisifyoriginal) 버전으로 호출하면, `bytesRead`와 `buffer` 속성을 가진 객체에 대한 Promise를 반환합니다.

`fs.read()` 메서드는 파일 디스크립터(`fd`)로 지정된 파일에서 데이터를 읽습니다. `length` 인자는 Node.js가 커널에서 읽으려고 시도할 최대 바이트 수를 나타냅니다. 하지만 실제로 읽은 바이트 수(`bytesRead`)는 여러 이유로 지정된 `length`보다 작을 수 있습니다.

예를 들어:

-   파일이 지정된 `length`보다 짧다면, `bytesRead`는 실제로 읽은 바이트 수로 설정됩니다.
-   파일이 버퍼가 채워지기 전에 EOF(End of File)에 도달하면, Node.js는 EOF를 만날 때까지 사용 가능한 모든 바이트를 읽고, 콜백의 `bytesRead` 매개변수는 실제로 읽은 바이트 수를 나타내며, 이는 지정된 `length`보다 작을 수 있습니다.
-   파일이 느린 네트워크 `파일시스템`에 있거나 읽는 동안 다른 문제가 발생하면, `bytesRead`는 지정된 `length`보다 작을 수 있습니다.

따라서 `fs.read()`를 사용할 때는 실제로 파일에서 읽은 바이트 수를 확인하기 위해 `bytesRead` 값을 확인하는 것이 중요합니다. 애플리케이션 로직에 따라, 지정된 `length`보다 `bytesRead`가 작은 경우를 처리해야 할 수 있습니다. 예를 들어, 최소한의 바이트 수가 필요한 경우 읽기 호출을 루프로 감싸야 할 수 있습니다.

이 동작은 POSIX `preadv2` 함수와 유사합니다.


#### `fs.read(fd[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-options-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) **기본값:** `Buffer.alloc(16384)`
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

이 함수는 [`fs.read()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-offset-length-position-callback)와 유사하지만, 선택적으로 `options` 객체를 받습니다. `options` 객체가 지정되지 않으면 위의 기본값을 사용합니다.


#### `fs.read(fd, buffer[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-options-callback)

추가된 버전: v18.2.0, v16.17.0

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) 데이터가 기록될 버퍼
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

[`fs.read()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-offset-length-position-callback) 함수와 유사하게, 이 버전은 선택적인 `options` 객체를 받습니다. `options` 객체가 지정되지 않으면 위의 기본값으로 설정됩니다.


#### `fs.readdir(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreaddirpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
    -   `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 디렉토리의 내용을 재귀적으로 읽습니다. 재귀 모드에서는 모든 파일, 하위 파일 및 디렉토리를 나열합니다. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `files` [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<fs.Dirent\[\]>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)

디렉토리의 내용을 읽습니다. 콜백은 `(err, files)` 두 개의 인자를 받으며, `files`는 디렉토리에 있는 파일 이름의 배열입니다. 단, `'.'`와 `'..'`은 제외됩니다.

자세한 내용은 POSIX [`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html) 문서를 참고하세요.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 콜백에 전달될 파일 이름의 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 파일 이름은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

`options.withFileTypes`가 `true`로 설정되면, `files` 배열은 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체를 포함합니다.


#### `fs.readFile(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadfilepath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    -   `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'r'`.
    -   `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 진행 중인 `readFile` 작업을 중단할 수 있음
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | [`<AggregateError>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError)
    -   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

파일 전체 내용을 비동기적으로 읽어옵니다.

```js
import { readFile } from 'node:fs';

readFile('/etc/passwd', (err, data) => {
    if (err) throw err;
    console.log(data);
});
```

콜백은 두 개의 인자 `(err, data)`를 받습니다. 여기서 `data`는 파일의 내용입니다.

인코딩이 지정되지 않으면 원시 버퍼가 반환됩니다.

`options`가 문자열인 경우, 해당 문자열은 인코딩을 지정합니다:

```js
import { readFile } from 'node:fs';

readFile('/etc/passwd', 'utf8', callback);
```

경로가 디렉터리인 경우, `fs.readFile()`과 [`fs.readFileSync()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfilesyncpath-options)의 동작은 플랫폼에 따라 다릅니다. macOS, Linux, Windows에서는 오류가 반환됩니다. FreeBSD에서는 디렉터리 내용의 표현이 반환됩니다.

```js
import { readFile } from 'node:fs';

// macOS, Linux, Windows
readFile('', (err, data) => {
    // => [Error: EISDIR: illegal operation on a directory, read ]
});

// FreeBSD
readFile('', (err, data) => {
    // => null, 
});
```

`AbortSignal`을 사용하여 진행 중인 요청을 중단할 수 있습니다. 요청이 중단되면 콜백은 `AbortError`와 함께 호출됩니다:

```js
import { readFile } from 'node:fs';

const controller = new AbortController();
const signal = controller.signal;

readFile(fileInfo[0].name, { signal }, (err, buf) => {
    // ...
});

// 요청을 중단하려면
controller.abort();
```

`fs.readFile()` 함수는 파일 전체를 버퍼링합니다. 메모리 비용을 최소화하려면 가능한 경우 `fs.createReadStream()`을 통해 스트리밍하는 것을 권장합니다.

진행 중인 요청을 중단하는 것은 개별 운영 체제 요청을 중단하는 것이 아니라, `fs.readFile`이 수행하는 내부 버퍼링을 중단하는 것입니다.


##### 파일 디스크립터

1. 지정된 파일 디스크립터는 반드시 읽기를 지원해야 한다.
2. 파일 디스크립터가 `path`로 지정된 경우, 자동으로 닫히지 않는다.
3. 읽기는 현재 위치에서 시작된다. 예를 들어, 파일에 이미 `'Hello World'`가 있고 파일 디스크립터로 6바이트를 읽은 경우, 동일한 파일 디스크립터로 `fs.readFile()`을 호출하면 `'Hello World'` 대신 `'World'`를 반환한다.


##### 성능 고려사항

`fs.readFile()` 메서드는 파일의 내용을 비동기적으로 메모리로 읽어 들입니다. 이때 한 번에 한 덩어리씩 읽어들이며, 각 덩어리 사이에 이벤트 루프가 실행될 수 있도록 합니다. 이 방식은 파일 읽기 작업이 기본 libuv 스레드 풀을 사용하는 다른 작업에 미치는 영향을 줄여주지만, 파일 전체를 메모리로 읽어들이는 데 더 오랜 시간이 걸립니다.

추가적인 읽기 오버헤드는 시스템에 따라 크게 달라질 수 있으며, 읽는 파일의 타입에 따라 다릅니다. 만약 파일 타입이 일반 파일이 아닌 경우(예: 파이프) 그리고 Node.js가 실제 파일 크기를 확인할 수 없는 경우, 각 읽기 작업은 64 KiB의 데이터를 로드합니다. 일반 파일의 경우, 각 읽기 작업은 512 KiB의 데이터를 처리합니다.

파일 내용을 가능한 한 빠르게 읽어야 하는 애플리케이션의 경우, `fs.read()`를 직접 사용하고 애플리케이션 코드에서 파일 전체 내용을 읽는 작업을 관리하는 것이 더 좋습니다.

Node.js GitHub 이슈 [#25741](https://github.com/nodejs/node/issues/25741)에서는 다양한 파일 크기와 Node.js 버전에서 `fs.readFile()`의 성능에 대한 자세한 정보와 분석을 제공합니다.


#### `fs.readlink(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadlinkpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `linkString` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

`path`로 참조된 심볼릭 링크의 내용을 읽습니다. 콜백은 두 개의 인자 `(err, linkString)`를 받습니다.

자세한 내용은 POSIX [`readlink(2)`](http://man7.org/linux/man-pages/man2/readlink.2.html) 문서를 참고하세요.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 콜백에 전달될 링크 경로의 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 링크 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.


#### `fs.readv(fd, buffers[, position], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadvfd-buffers-position-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesRead` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)

`readv()`를 사용하여 `fd`로 지정된 파일에서 데이터를 읽고, `ArrayBufferView` 배열에 씁니다.

`position`은 파일의 시작 위치에서 데이터를 읽을 오프셋입니다. `typeof position !== 'number'`인 경우, 현재 위치에서 데이터를 읽습니다.

콜백은 `err`, `bytesRead`, `buffers` 세 가지 인자를 받습니다. `bytesRead`는 파일에서 읽은 바이트 수를 나타냅니다.

이 메서드를 [`util.promisify()`](https://nodejs.org/docs/latest/api/util.html#utilpromisifyoriginal) 버전으로 호출하면, `bytesRead`와 `buffers` 속성을 가진 객체를 반환하는 Promise가 생성됩니다.


#### `fs.realpath(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrealpathpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `resolvedPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

이 함수는 `.`, `..`, 그리고 심볼릭 링크를 해석하여 정규화된 경로명을 비동기적으로 계산합니다.

정규화된 경로명이 반드시 유일하지는 않습니다. 하드 링크와 바인드 마운트는 파일 시스템 엔티티를 여러 경로명으로 노출할 수 있습니다.

이 함수는 [`realpath(3)`](http://man7.org/linux/man-pages/man3/realpath.3.html)과 유사하게 동작하지만, 몇 가지 예외가 있습니다:

1.  대소문자를 구분하지 않는 파일 시스템에서는 대소문자 변환이 수행되지 않습니다.
    
2.  심볼릭 링크의 최대 수는 플랫폼에 독립적이며, 일반적으로 네이티브 [`realpath(3)`](http://man7.org/linux/man-pages/man3/realpath.3.html) 구현에서 지원하는 것보다 훨씬 높습니다.

`callback`은 두 개의 인자 `(err, resolvedPath)`를 받습니다. 상대 경로를 해석하기 위해 `process.cwd`를 사용할 수 있습니다.

UTF8 문자열로 변환할 수 있는 경로만 지원됩니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 콜백에 전달될 경로의 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

`path`가 소켓이나 파이프로 해석되면, 이 함수는 해당 객체에 대한 시스템 종속적인 이름을 반환합니다.

존재하지 않는 경로는 ENOENT 오류를 발생시킵니다. `error.path`는 절대 파일 경로입니다.


#### `fs.realpath.native(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrealpathnativepath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `resolvedPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

비동기 방식의 [`realpath(3)`](http://man7.org/linux/man-pages/man3/realpath.3.html) 함수입니다.

`callback`은 두 개의 인자 `(err, resolvedPath)`를 받습니다.

UTF8 문자열로 변환할 수 있는 경로만 지원됩니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 콜백에 전달될 경로의 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정된 경우, 반환된 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

Linux에서 Node.js가 musl libc에 연결된 경우, 이 함수가 작동하려면 procfs 파일 시스템이 `/proc`에 마운트되어 있어야 합니다. Glibc에는 이러한 제한이 없습니다.


#### `fs.rename(oldPath, newPath, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrenameoldpath-newpath-callback)

-   `oldPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`oldPath`에 있는 파일을 `newPath`로 비동기적으로 이름을 변경합니다. 만약 `newPath`에 이미 파일이 존재한다면, 해당 파일을 덮어쓰게 됩니다. 하지만 `newPath`가 디렉토리라면 에러가 발생합니다. 콜백 함수는 예외가 발생한 경우를 제외하고는 인자를 받지 않습니다.

참고: [`rename(2)`](http://man7.org/linux/man-pages/man2/rename.2.html).

```js
import { rename } from 'node:fs';

rename('oldFile.txt', 'newFile.txt', (err) => {
    if (err) throw err;
    console.log('이름 변경 완료!');
});
```


#### `fs.rmdir(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrmdirpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면, Node.js는 `retryDelay` 밀리초 간격으로 선형 백오프를 적용하여 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `0`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 디렉토리를 재귀적으로 삭제합니다. 재귀 모드에서는 실패 시 작업을 재시도합니다. **기본값:** `false`. **더 이상 사용되지 않음.**
    -   `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 간 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `100`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

비동기적으로 [`rmdir(2)`](http://man7.org/linux/man-pages/man2/rmdir.2.html)를 실행합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인수가 전달되지 않습니다.

디렉토리가 아닌 파일에 `fs.rmdir()`을 사용하면, Windows에서는 `ENOENT` 오류가 발생하고, POSIX 시스템에서는 `ENOTDIR` 오류가 발생합니다.

`rm -rf` 유닉스 명령어와 유사한 동작을 원한다면, [`fs.rm()`](https://nodejs.org/docs/latest/api/fs.html#fsrmpath-options-callback)을 `{ recursive: true, force: true }` 옵션과 함께 사용하세요.


#### `fs.rm(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrmpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `path`가 존재하지 않을 때 예외를 무시합니다. **기본값:** `false`.
    -   `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면, Node.js는 `retryDelay` 밀리초 간격으로 선형 백오프 대기 후 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `0`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 재귀적으로 삭제를 수행합니다. 재귀 모드에서는 실패 시 작업이 재시도됩니다. **기본값:** `false`.
    -   `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 간 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `100`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

이 함수는 파일과 디렉토리를 비동기적으로 삭제합니다. (표준 POSIX `rm` 유틸리티를 모델로 함). 완료 콜백에는 예외가 발생한 경우를 제외하고는 인수가 전달되지 않습니다.


#### `fs.stat(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsstatpath-options-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입인지 여부. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `stats` [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

비동기적으로 [`stat(2)`](http://man7.org/linux/man-pages/man2/stat.2.html)를 실행합니다. 콜백은 `(err, stats)` 두 개의 인자를 받으며, `stats`는 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체입니다.

에러가 발생하면 `err.code`는 [Common System Errors](https://nodejs.org/docs/latest/api/errors.html#common-system-errors) 중 하나가 됩니다.

[`fs.stat()`](https://nodejs.org/docs/latest/api/fs.html#fsstatpath-options-callback)은 심볼릭 링크를 따라갑니다. 링크 자체를 확인하려면 [`fs.lstat()`](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback)를 사용하세요.

`fs.open()`, `fs.readFile()`, `fs.writeFile()`을 호출하기 전에 파일의 존재 여부를 확인하기 위해 `fs.stat()`을 사용하는 것은 권장되지 않습니다. 대신, 파일을 직접 열거나 읽고 쓰면서 파일이 없는 경우 발생하는 에러를 처리하는 것이 좋습니다.

파일을 조작하지 않고 존재 여부만 확인하려면 [`fs.access()`](https://nodejs.org/docs/latest/api/fs.html#fsaccesspath-mode-callback)를 사용하는 것이 좋습니다.

예를 들어, 다음과 같은 디렉토리 구조가 있다고 가정해 봅시다:

```text
- txtDir -- file.txt - app.js
```

다음 프로그램은 주어진 경로의 상태를 확인합니다:

```js
import { stat } from 'node:fs';

const pathsToCheck = ['./txtDir', './txtDir/file.txt'];

for (let i = 0; i < pathsToCheck.length; i++) {
    stat(pathsToCheck[i], (err, stats) => {
        console.log(stats.isDirectory());
        console.log(stats);
    });
}
```

결과는 다음과 비슷하게 출력됩니다:

```console
true Stats { dev: 16777220, mode: 16877, nlink: 3, uid: 501, gid: 20, rdev: 0, blksize: 4096, ino: 14214262, size: 96, blocks: 0, atimeMs: 1561174653071.963, mtimeMs: 1561174614583.3518, ctimeMs: 1561174626623.5366, birthtimeMs: 1561174126937.2893, atime: 2019-06-22T03:37:33.072Z, mtime: 2019-06-22T03:36:54.583Z, ctime: 2019-06-22T03:37:06.624Z, birthtime: 2019-06-22T03:28:46.937Z }
false Stats { dev: 16777220, mode: 33188, nlink: 1, uid: 501, gid: 20, rdev: 0, blksize: 4096, ino: 14214074, size: 8, blocks: 8, atimeMs: 1561174616618.8555, mtimeMs: 1561174614584, ctimeMs: 1561174614583.8145, birthtimeMs: 1561174007710.7478, atime: 2019-06-22T03:36:56.619Z, mtime: 2019-06-22T03:36:54.584Z, ctime: 2019-06-22T03:36:54.584Z, birthtime: 2019-06-22T03:26:47.711Z }
```


#### `fs.statfs(path[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsstatfspath-options-callback)

추가된 버전: v19.6.0, v18.15.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs) 객체의 숫자 값이 `bigint` 타입인지 여부. **기본값:** `false`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `stats` [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs)

비동기적으로 [`statfs(2)`](http://man7.org/linux/man-pages/man2/statfs.2.html)를 실행합니다. `path`가 포함된 마운트된 파일 시스템에 대한 정보를 반환합니다. 콜백은 두 개의 인자 `(err, stats)`를 받으며, `stats`는 [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs) 객체입니다.

에러가 발생한 경우, `err.code`는 [Common System Errors](https://nodejs.org/docs/latest/api/errors.html#common-system-errors) 중 하나가 됩니다.


#### `fs.symlink(target, path[, type], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fssymlinktarget-path-type-callback)

-   `target` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`path`라는 이름의 링크를 생성하여 `target`을 가리키도록 합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

자세한 내용은 POSIX [`symlink(2)`](http://man7.org/linux/man-pages/man2/symlink.2.html) 문서를 참고하세요.

`type` 인자는 윈도우에서만 사용 가능하며, 다른 플랫폼에서는 무시됩니다. `'dir'`, `'file'`, 또는 `'junction'`으로 설정할 수 있습니다. `type` 인자가 `null`인 경우, Node.js는 `target`의 타입을 자동으로 감지하여 `'file'` 또는 `'dir'`을 사용합니다. `target`이 존재하지 않으면 `'file'`이 사용됩니다. 윈도우 junction point는 대상 경로가 절대 경로여야 합니다. `'junction'`을 사용할 때, `target` 인자는 자동으로 절대 경로로 정규화됩니다. NTFS 볼륨의 junction point는 디렉토리만 가리킬 수 있습니다.

상대 경로인 `target`은 링크의 부모 디렉토리를 기준으로 합니다.

```js
import { symlink } from 'node:fs'; symlink('./mew', './mewtwo', callback);
```

위 예제는 `mewtwo`라는 심볼릭 링크를 생성하여 같은 디렉토리에 있는 `mew`를 가리키도록 합니다.

```bash
$ tree . . ├── mew └── mewtwo -> ./mew
```


#### `fs.truncate(path[, len], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fstruncatepath-len-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | [`<AggregateError>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError)

파일을 잘라냅니다. 완료 콜백에는 예외 외에 다른 인자가 전달되지 않습니다. 파일 디스크립터를 첫 번째 인자로 전달할 수도 있습니다. 이 경우 `fs.ftruncate()`가 호출됩니다.

```js
import { truncate } from 'node:fs'; // 'path/file.txt'가 일반 파일이라고 가정합니다.
truncate('path/file.txt', (err) => {
    if (err) throw err;
    console.log('path/file.txt가 잘렸습니다.');
});
```

파일 디스크립터를 전달하는 방식은 더 이상 권장되지 않으며, 향후 오류가 발생할 수 있습니다.

자세한 내용은 POSIX [`truncate(2)`](http://man7.org/linux/man-pages/man2/truncate.2.html) 문서를 참고하세요.


#### `fs.unlink(path, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsunlinkpath-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`fs.unlink()`는 파일이나 심볼릭 링크를 비동기적으로 삭제합니다. 완료 콜백에는 예외가 발생한 경우를 제외하고는 인자가 전달되지 않습니다.

```js
import { unlink } from 'node:fs';

// 'path/file.txt'가 일반 파일이라고 가정합니다.
unlink('path/file.txt', (err) => {
    if (err) throw err;
    console.log('path/file.txt가 삭제되었습니다.');
});
```

`fs.unlink()`는 디렉터리에서는 작동하지 않습니다. 디렉터리를 삭제하려면 [`fs.rmdir()`](https://nodejs.org/docs/latest/api/fs.html#fsrmdirpath-options-callback)을 사용하세요.

자세한 내용은 POSIX [`unlink(2)`](http://man7.org/linux/man-pages/man2/unlink.2.html) 문서를 참고하세요.


#### `fs.unwatchFile(filename[, listener])`[#](https://nodejs.org/docs/latest/api/fs.html#fsunwatchfilefilename-listener)

추가된 버전: v0.1.31

-   `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `listener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 선택 사항, `fs.watchFile()`을 사용하여 이전에 추가된 리스너

`filename`에 대한 변경 감지를 중지합니다. `listener`가 지정된 경우, 해당 리스너만 제거됩니다. 그렇지 않으면 *모든* 리스너가 제거되어 `filename`에 대한 감시가 완전히 중단됩니다.

감시 중이지 않은 `filename`으로 `fs.unwatchFile()`을 호출해도 오류가 발생하지 않으며, 아무런 동작도 하지 않습니다.

[`fs.watch()`](https://nodejs.org/docs/latest/api/fs.html#fswatchfilename-options-listener)를 사용하는 것이 `fs.watchFile()`과 `fs.unwatchFile()`보다 더 효율적입니다. 가능한 경우 `fs.watchFile()`과 `fs.unwatchFile()` 대신 `fs.watch()`를 사용하는 것이 좋습니다.


#### `fs.utimes(path, atime, mtime, callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fsutimespath-atime-mtime-callback)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`path`로 참조된 파일 시스템 객체의 타임스탬프를 변경합니다.

`atime`과 `mtime` 인자는 다음과 같은 규칙을 따릅니다:

-   값은 Unix epoch 시간을 초 단위로 나타내는 숫자, `Date` 객체, 또는 `'123456789.0'`과 같은 숫자 형태의 문자열이 될 수 있습니다.
-   값이 숫자로 변환될 수 없거나 `NaN`, `Infinity`, `-Infinity`인 경우, `Error`가 발생합니다.


#### `fs.watch(filename[, options][, listener])`

- `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `persistent` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 파일 감시 중에도 프로세스가 계속 실행될지 여부를 나타냅니다. **기본값:** `true`.
    - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 모든 하위 디렉토리를 감시할지, 현재 디렉토리만 감시할지 여부를 나타냅니다. 이 옵션은 디렉토리가 지정된 경우에만 적용되며, 지원되는 플랫폼에서만 동작합니다. (자세한 내용은 [주의사항](https://nodejs.org/docs/latest/api/fs.html#caveats) 참조). **기본값:** `false`.
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 리스너에 전달되는 파일명의 문자 인코딩을 지정합니다. **기본값:** `'utf8'`.
    - `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) AbortSignal을 사용하여 감시기를 닫을 수 있습니다.
- `listener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type) **기본값:** `undefined`
    - `eventType` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    - `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)
- 반환값: [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)

`filename`에 대한 변경 사항을 감시합니다. `filename`은 파일 또는 디렉토리일 수 있습니다.

두 번째 인자는 선택 사항입니다. `options`가 문자열로 제공되면, 이는 `encoding`을 지정합니다. 그렇지 않으면 `options`는 객체로 전달되어야 합니다.

리스너 콜백은 두 개의 인자 `(eventType, filename)`를 받습니다. `eventType`은 `'rename'` 또는 `'change'` 중 하나이며, `filename`은 이벤트를 발생시킨 파일의 이름입니다.

대부분의 플랫폼에서, 디렉토리 내에서 파일명이 나타나거나 사라질 때마다 `'rename'`이 발생합니다.

리스너 콜백은 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)가 발생시키는 `'change'` 이벤트에 연결되지만, 이는 `eventType`의 `'change'` 값과 동일하지 않습니다.

`signal`이 전달되면, 해당 AbortController를 중단하면 반환된 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)가 닫힙니다.


##### 주의사항

`fs.watch` API는 플랫폼 간에 100% 일관되지 않으며, 특정 상황에서는 사용할 수 없습니다.

윈도우에서는 감시 중인 디렉토리가 이동되거나 이름이 변경되면 이벤트가 발생하지 않습니다. 감시 중인 디렉토리가 삭제되면 `EPERM` 오류가 보고됩니다.

###### 사용 가능성

이 기능은 파일 시스템 변경 사항을 알려주는 운영체제의 기능에 의존합니다.

-   리눅스 시스템에서는 [`inotify(7)`](https://man7.org/linux/man-pages/man7/inotify.7.html)를 사용합니다.
-   BSD 시스템에서는 [`kqueue(2)`](https://www.freebsd.org/cgi/man.cgi?query=kqueue&sektion=2)를 사용합니다.
-   macOS에서는 파일에 대해 [`kqueue(2)`](https://www.freebsd.org/cgi/man.cgi?query=kqueue&sektion=2)를, 디렉토리에 대해 [`FSEvents`](https://developer.apple.com/documentation/coreservices/file_system_events)를 사용합니다.
-   SunOS 시스템(솔라리스 및 스마트OS 포함)에서는 [`event ports`](https://illumos.org/man/port_create)를 사용합니다.
-   윈도우 시스템에서는 [`ReadDirectoryChangesW`](https://docs.microsoft.com/en-us/windows/desktop/api/winbase/nf-winbase-readdirectorychangesw)에 의존합니다.
-   AIX 시스템에서는 [`AHAFS`](https://developer.ibm.com/articles/au-aix_event_infrastructure/)를 사용하며, 이 기능이 활성화되어 있어야 합니다.
-   IBM i 시스템에서는 이 기능을 지원하지 않습니다.

기본 기능이 어떤 이유로 사용할 수 없는 경우, `fs.watch()`는 동작하지 않을 수 있으며 예외를 발생시킬 수 있습니다. 예를 들어, 네트워크 파일 시스템(NFS, SMB 등)이나 Vagrant나 Docker와 같은 가상화 소프트웨어를 사용할 때 파일이나 디렉토리를 감시하는 것이 불안정하거나 불가능할 수 있습니다.

`fs.watchFile()`을 사용할 수는 있지만, 이 방법은 stat 폴링을 사용하므로 더 느리고 덜 안정적입니다.

###### Inode

리눅스와 macOS 시스템에서 `fs.watch()`는 경로를 [inode](https://en.wikipedia.org/wiki/Inode)로 해석하고 inode를 감시합니다. 감시 중인 경로가 삭제되고 다시 생성되면 새로운 inode가 할당됩니다. 감시는 삭제 이벤트를 발생시키지만 *원래* inode를 계속 감시합니다. 새로운 inode에 대한 이벤트는 발생하지 않습니다. 이는 예상된 동작입니다.

AIX 파일은 파일의 수명 동안 동일한 inode를 유지합니다. AIX에서 감시 중인 파일을 저장하고 닫으면 두 개의 알림이 발생합니다(하나는 새로운 내용 추가, 다른 하나는 파일 잘림).

###### 파일명 인자

콜백에서 `filename` 인자를 제공하는 것은 리눅스, macOS, 윈도우, AIX에서만 지원됩니다. 지원되는 플랫폼에서도 `filename`이 항상 제공된다고 보장할 수 없습니다. 따라서 콜백에서 `filename` 인자가 항상 제공된다고 가정하지 말고, `null`인 경우를 대비해 대체 로직을 준비해야 합니다.

```js
import { watch } from 'node:fs';

watch('somedir', (eventType, filename) => {
    console.log(`event type is: ${eventType}`);
    if (filename) {
        console.log(`filename provided: ${filename}`);
    } else {
        console.log('filename not provided');
    }
});
```


#### `fs.watchFile(filename[, options], listener)`[#](https://nodejs.org/docs/latest/api/fs.html#fswatchfilefilename-options-listener)

-   `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    -   `persistent` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
    -   `interval` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `5007`
-   `listener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `current` [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)
    -   `previous` [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)
-   반환값: [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher)

`filename` 파일의 변경 사항을 감시합니다. 파일에 접근할 때마다 콜백 `listener`가 호출됩니다.

`options` 인자는 생략할 수 있습니다. 제공된다면 객체여야 합니다. `options` 객체는 `persistent`라는 불리언 값을 포함할 수 있으며, 이는 파일이 감시되는 동안 프로세스가 계속 실행되어야 하는지 여부를 나타냅니다. `options` 객체는 `interval` 속성을 지정할 수 있으며, 이는 대상 파일을 얼마나 자주 폴링할지 밀리초 단위로 나타냅니다.

`listener`는 두 개의 인자를 받습니다. 현재 상태 객체와 이전 상태 객체입니다:

```js
import { watchFile } from 'node:fs';

watchFile('message.text', (curr, prev) => {
    console.log(`현재 mtime은: ${curr.mtime}`);
    console.log(`이전 mtime은: ${prev.mtime}`);
});
```

이 상태 객체들은 `fs.Stat`의 인스턴스입니다. `bigint` 옵션이 `true`로 설정되면, 이 객체의 숫자 값들은 `BigInt`로 지정됩니다.

파일이 단순히 접근된 것이 아니라 수정되었을 때 알림을 받으려면, `curr.mtimeMs`와 `prev.mtimeMs`를 비교해야 합니다.

`fs.watchFile` 작업이 `ENOENT` 오류를 발생시키면, 리스너를 한 번 호출하며 모든 필드를 0으로 설정합니다(또는 날짜의 경우 Unix Epoch). 나중에 파일이 생성되면, 리스너가 다시 호출되며 최신 상태 객체를 전달합니다. 이는 v0.10 이후 기능 변경 사항입니다.

[`fs.watch()`](https://nodejs.org/docs/latest/api/fs.html#fswatchfilename-options-listener)를 사용하는 것이 `fs.watchFile`과 `fs.unwatchFile`보다 더 효율적입니다. 가능한 경우 `fs.watchFile`과 `fs.unwatchFile` 대신 `fs.watch`를 사용해야 합니다.

`fs.watchFile()`로 감시 중인 파일이 사라졌다가 다시 나타나면, 두 번째 콜백 이벤트(파일의 재등장)에서의 `previous` 내용은 첫 번째 콜백 이벤트(파일의 사라짐)에서의 `previous` 내용과 동일합니다.

이러한 현상은 다음과 같은 경우에 발생합니다:

- 파일이 삭제된 후 복원된 경우
- 파일의 이름이 변경된 후 다시 원래 이름으로 변경된 경우


#### `fs.write(fd, buffer, offset[, length[, position]], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-offset-length-position-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)

`buffer`를 `fd`로 지정된 파일에 씁니다.

`offset`은 버퍼에서 쓸 부분을 결정하고, `length`는 쓸 바이트 수를 지정하는 정수입니다.

`position`은 파일의 시작 부분에서 데이터를 쓸 위치를 나타냅니다. `typeof position !== 'number'`인 경우, 데이터는 현재 위치에 기록됩니다. 자세한 내용은 [`pwrite(2)`](http://man7.org/linux/man-pages/man2/pwrite.2.html)를 참조하세요.

콜백은 `(err, bytesWritten, buffer)` 세 개의 인자를 받습니다. 여기서 `bytesWritten`은 `buffer`에서 몇 바이트가 쓰였는지 나타냅니다.

이 메서드를 [`util.promisify()`](https://nodejs.org/docs/latest/api/util.html#utilpromisifyoriginal)로 변환한 버전으로 호출하면, `bytesWritten`과 `buffer` 속성을 가진 객체에 대한 Promise를 반환합니다.

콜백을 기다리지 않고 동일한 파일에 `fs.write()`를 여러 번 사용하는 것은 안전하지 않습니다. 이런 경우에는 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options)을 사용하는 것이 좋습니다.

리눅스에서는 파일이 추가 모드로 열려 있을 때 위치 지정 쓰기가 작동하지 않습니다. 커널은 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.


#### `fs.write(fd, buffer[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-options-callback)

추가된 버전: v18.3.0, v16.17.0

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)

`fd`로 지정된 파일에 `buffer`를 씁니다.

위의 `fs.write` 함수와 유사하지만, 이 버전은 선택적인 `options` 객체를 받습니다. `options` 객체가 지정되지 않으면 위의 기본값을 사용합니다.


#### `fs.write(fd, string[, position[, encoding]], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fswritefd-string-position-encoding-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `string` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `written` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `string` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`fd`로 지정된 파일에 `string`을 씁니다. `string`이 문자열이 아닌 경우 예외가 발생합니다.

`position`은 파일의 시작 위치에서 데이터를 쓸 오프셋을 나타냅니다. `typeof position !== 'number'`인 경우 데이터는 현재 위치에 기록됩니다. 자세한 내용은 [`pwrite(2)`](http://man7.org/linux/man-pages/man2/pwrite.2.html)를 참조하세요.

`encoding`은 예상되는 문자열 인코딩입니다.

콜백은 `(err, written, string)` 인자를 받습니다. 여기서 `written`은 전달된 문자열을 쓰는 데 필요한 바이트 수를 나타냅니다. 기록된 바이트 수는 반드시 문자열의 문자 수와 같지는 않습니다. 자세한 내용은 [`Buffer.byteLength`](https://nodejs.org/docs/latest/api/buffer.html#static-method-bufferbytelengthstring-encoding)를 참조하세요.

콜백을 기다리지 않고 동일한 파일에 `fs.write()`를 여러 번 사용하는 것은 안전하지 않습니다. 이런 경우 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options)을 사용하는 것이 좋습니다.

Linux에서는 파일이 추가 모드로 열려 있을 때 위치 기반 쓰기가 작동하지 않습니다. 커널은 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.

Windows에서는 파일 디스크립터가 콘솔에 연결된 경우(예: `fd == 1` 또는 `stdout`), 사용된 인코딩과 관계없이 비 ASCII 문자를 포함한 문자열이 기본적으로 제대로 렌더링되지 않습니다. `chcp 65001` 커맨드를 사용하여 활성 코드 페이지를 변경하면 콘솔이 UTF-8을 제대로 렌더링하도록 설정할 수 있습니다. 자세한 내용은 [chcp](https://ss64.com/nt/chcp.html) 문서를 참조하세요.


#### `fs.writeFile(file, data[, options], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fswritefilefile-data-options-callback)

-   `file` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    -   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    -   `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'w'`.
    -   `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 모든 데이터가 파일에 성공적으로 쓰여지고 `flush`가 `true`인 경우, `fs.fsync()`을 사용하여 데이터를 플러시한다. **기본값:** `false`.
    -   `signal` [`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal) 진행 중인 `writeFile`을 중단할 수 있음
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | [`<AggregateError>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError)

`file`이 파일 이름인 경우, 비동기적으로 데이터를 파일에 쓴다. 파일이 이미 존재하면 해당 파일을 대체한다. `data`는 문자열 또는 버퍼일 수 있다.

`file`이 파일 디스크립터인 경우, `fs.write()`를 직접 호출하는 것과 유사하게 동작한다(이 방법을 권장한다). 파일 디스크립터 사용에 대한 자세한 내용은 아래 참고 사항을 확인한다.

`data`가 버퍼인 경우 `encoding` 옵션은 무시된다.

`mode` 옵션은 새로 생성된 파일에만 영향을 미친다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조한다.

```js
import { writeFile } from 'node:fs';
import { Buffer } from 'node:buffer';

const data = new Uint8Array(Buffer.from('Hello Node.js'));
writeFile('message.txt', data, (err) => {
    if (err) throw err;
    console.log('The file has been saved!');
});
```

`options`가 문자열인 경우, 인코딩을 지정한다:

```js
import { writeFile } from 'node:fs';
writeFile('message.txt', 'Hello Node.js', 'utf8', callback);
```

콜백을 기다리지 않고 동일한 파일에 `fs.writeFile()`을 여러 번 사용하는 것은 안전하지 않다. 이런 경우 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options)을 사용하는 것이 좋다.

`fs.readFile`과 마찬가지로 `fs.writeFile`은 내부적으로 여러 번의 `write` 호출을 수행하는 편의 메서드다. 성능이 중요한 코드에서는 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options)을 고려하는 것이 좋다.

[`<AbortSignal>`](https://nodejs.org/docs/latest/api/globals.html#class-abortsignal)을 사용하여 `fs.writeFile()`을 취소할 수 있다. 취소는 "최선의 노력"이며, 일부 데이터는 여전히 쓰여질 가능성이 있다.

```js
import { writeFile } from 'node:fs';
import { Buffer } from 'node:buffer';

const controller = new AbortController();
const { signal } = controller;
const data = new Uint8Array(Buffer.from('Hello Node.js'));

writeFile('message.txt', data, { signal }, (err) => {
    // 요청이 중단되면 콜백이 AbortError와 함께 호출된다
});

// 요청을 중단해야 할 때
controller.abort();
```

진행 중인 요청을 중단해도 개별 운영 체제 요청을 중단하는 것이 아니라, `fs.writeFile`이 수행하는 내부 버퍼링을 중단한다.


##### `fs.writeFile()`을 파일 디스크립터와 함께 사용하기

`file`이 파일 디스크립터일 때, `fs.writeFile()`의 동작은 `fs.write()`를 직접 호출하는 것과 거의 동일합니다. 예를 들면 다음과 같습니다:

```js
import { write } from 'node:fs';
import { Buffer } from 'node:buffer';

write(fd, Buffer.from(data, options.encoding), callback);
```

`fs.write()`를 직접 호출하는 것과의 차이점은, 특이한 상황에서 `fs.write()`는 버퍼의 일부만 쓰고 나머지 데이터를 다시 시도해야 할 수 있는 반면, `fs.writeFile()`은 데이터가 완전히 쓰이거나 오류가 발생할 때까지 재시도한다는 것입니다.

이로 인해 혼란이 생기는 경우가 많습니다. 파일 디스크립터를 사용할 때, 파일이 교체되지 않습니다! 데이터가 반드시 파일의 처음부터 쓰여지는 것은 아니며, 파일의 원래 데이터가 새로 쓰여진 데이터 앞이나 뒤에 남아 있을 수 있습니다.

예를 들어, `fs.writeFile()`을 연속으로 두 번 호출하여 첫 번째에는 `'Hello'`를 쓰고, 두 번째에는 `', World'`를 쓴다면, 파일에는 `'Hello, World'`가 포함될 것입니다. 그리고 파일의 원래 데이터 일부도 남아 있을 수 있습니다(원본 파일의 크기와 파일 디스크립터의 위치에 따라 다름). 만약 파일 디스크립터 대신 파일 이름을 사용했다면, 파일에는 `', World'`만 포함되는 것이 보장됩니다.


#### `fs.writev(fd, buffers[, position], callback)`[#](https://nodejs.org/docs/latest/api/fs.html#fswritevfd-buffers-position-callback)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `bytesWritten` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)

`writev()`를 사용하여 `fd`로 지정된 파일에 `ArrayBufferView` 배열을 씁니다.

`position`은 파일의 시작 부분에서 데이터를 쓸 위치의 오프셋입니다. `typeof position !== 'number'`인 경우, 데이터는 현재 위치에 기록됩니다.

콜백은 `err`, `bytesWritten`, `buffers` 세 가지 인자를 받습니다. `bytesWritten`은 `buffers`에서 얼마나 많은 바이트가 기록되었는지를 나타냅니다.

이 메서드를 [`util.promisify()`](https://nodejs.org/docs/latest/api/util.html#utilpromisifyoriginal)로 변환하면, `bytesWritten`과 `buffers` 속성을 가진 객체에 대한 Promise를 반환합니다.

콜백을 기다리지 않고 동일한 파일에 `fs.writev()`를 여러 번 사용하는 것은 안전하지 않습니다. 이런 경우에는 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options)을 사용하세요.

리눅스에서는 파일이 추가 모드로 열려 있을 때 위치 기반 쓰기가 작동하지 않습니다. 커널이 위치 인자를 무시하고 항상 파일의 끝에 데이터를 추가합니다.


### 동기식 API[#](https://nodejs.org/docs/latest/api/fs.html#synchronous-api)

동기식 API는 모든 작업을 동기적으로 수행합니다. 작업이 완료되거나 실패할 때까지 이벤트 루프를 차단합니다.


#### `fs.accessSync(path[, mode])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `fs.constants.F_OK`

`path`로 지정된 파일 또는 디렉터리에 대한 사용자의 권한을 동기적으로 테스트합니다. `mode` 인자는 선택적 정수로, 수행할 접근성 검사를 지정합니다. `mode`는 `fs.constants.F_OK` 값이거나 `fs.constants.R_OK`, `fs.constants.W_OK`, `fs.constants.X_OK` 중 하나 이상을 비트 OR 연산한 값이어야 합니다 (예: `fs.constants.W_OK | fs.constants.R_OK`). 가능한 `mode` 값은 [파일 접근 상수](https://nodejs.org/docs/latest/api/fs.html#file-access-constants)를 참고하세요.

접근성 검사 중 하나라도 실패하면 `Error`가 발생합니다. 그렇지 않으면 메서드는 `undefined`를 반환합니다.

```js
import { accessSync, constants } from 'node:fs';

try {
    accessSync('etc/passwd', constants.R_OK | constants.W_OK);
    console.log('읽기/쓰기 가능');
} catch (err) {
    console.error('접근 불가!');
}
```


#### `fs.appendFileSync(path, data[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
- `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    - `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    - `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'a'`.
    - `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`인 경우, 파일 디스크립터를 닫기 전에 플러시합니다. **기본값:** `false`.

파일에 데이터를 동기적으로 추가합니다. 파일이 존재하지 않으면 새로 생성합니다. `data`는 문자열 또는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)일 수 있습니다.

`mode` 옵션은 새로 생성된 파일에만 영향을 미칩니다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조하세요.

```js
import { appendFileSync } from 'node:fs';

try {
    appendFileSync('message.txt', 'data to append');
    console.log('The "data to append" was appended to file!');
} catch (err) {
    // 에러 처리
}
```

`options`가 문자열인 경우, 인코딩을 지정합니다:

```js
import { appendFileSync } from 'node:fs';
appendFileSync('message.txt', 'data to append', 'utf8');
```

`path`는 추가 모드로 열린 숫자형 파일 디스크립터로 지정할 수 있습니다 (`fs.open()` 또는 `fs.openSync()` 사용). 파일 디스크립터는 자동으로 닫히지 않습니다.

```js
import { openSync, closeSync, appendFileSync } from 'node:fs';

let fd;
try {
    fd = openSync('message.txt', 'a');
    appendFileSync(fd, 'data to append', 'utf8');
} catch (err) {
    // 에러 처리
} finally {
    if (fd !== undefined) closeSync(fd);
}
```


#### `fs.chmodSync(path, mode)`[#](https://nodejs.org/docs/latest/api/fs.html#fschmodsyncpath-mode)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

자세한 정보는 이 API의 비동기 버전인 [`fs.chmod()`](https://nodejs.org/docs/latest/api/fs.html#fschmodpath-mode-callback) 문서를 참고하세요.

POSIX [`chmod(2)`](http://man7.org/linux/man-pages/man2/chmod.2.html) 문서에서 더 자세한 내용을 확인할 수 있습니다.


#### `fs.chownSync(path, uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#fschownsyncpath-uid-gid)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

파일의 소유자와 그룹을 동기적으로 변경합니다. 이 함수는 `undefined`를 반환합니다. 이 함수는 [`fs.chown()`](https://nodejs.org/docs/latest/api/fs.html#fschownpath-uid-gid-callback)의 동기 버전입니다.

자세한 내용은 POSIX [`chown(2)`](http://man7.org/linux/man-pages/man2/chown.2.html) 문서를 참고하세요.


#### `fs.closeSync(fd)`[#](https://nodejs.org/docs/latest/api/fs.html#fsclosesyncfd)

추가된 버전: v0.1.21

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

파일 디스크립터를 닫습니다. `undefined`를 반환합니다.

현재 다른 `fs` 작업을 통해 사용 중인 파일 디스크립터(`fd`)에 `fs.closeSync()`를 호출하면 예측할 수 없는 동작이 발생할 수 있습니다.

자세한 내용은 POSIX [`close(2)`](http://man7.org/linux/man-pages/man2/close.2.html) 문서를 참고하세요.


#### `fs.copyFileSync(src, dest[, mode])`

- `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api): 복사할 소스 파일명
- `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api): 복사 작업의 대상 파일명
- `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type): 복사 작업의 동작을 지정하는 옵션. **기본값:** `0`

`src` 파일을 `dest`로 동기적으로 복사합니다. 기본적으로 `dest` 파일이 이미 존재하면 덮어쓰게 됩니다. 이 함수는 `undefined`를 반환합니다. Node.js는 복사 작업의 원자성을 보장하지 않습니다. 만약 대상 파일이 쓰기 위해 열린 후에 오류가 발생하면, Node.js는 대상 파일을 삭제하려고 시도합니다.

`mode`는 복사 작업의 동작을 지정하는 선택적 정수입니다. 두 개 이상의 값을 비트 OR 연산으로 조합하여 마스크를 만들 수 있습니다 (예: `fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE`).

- `fs.constants.COPYFILE_EXCL`: `dest` 파일이 이미 존재하면 복사 작업이 실패합니다.
- `fs.constants.COPYFILE_FICLONE`: 복사 작업이 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면, 대체 복사 메커니즘이 사용됩니다.
- `fs.constants.COPYFILE_FICLONE_FORCE`: 복사 작업이 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면, 작업이 실패합니다.

```js
import { copyFileSync, constants } from 'node:fs';

// destination.txt 파일이 기본적으로 생성되거나 덮어쓰여집니다.
copyFileSync('source.txt', 'destination.txt');
console.log('source.txt가 destination.txt로 복사되었습니다.');

// COPYFILE_EXCL을 사용하면 destination.txt 파일이 이미 존재할 경우 작업이 실패합니다.
copyFileSync('source.txt', 'destination.txt', constants.COPYFILE_EXCL);
```


#### `fs.cpSync(src, dest[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fscpsyncsrc-dest-options)

-   `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 소스 경로.
-   `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 복사할 대상 경로.
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `dereference` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 심볼릭 링크를 역참조할지 여부. **기본값:** `false`.
    -   `errorOnExist` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `force`가 `false`이고 대상 경로가 이미 존재할 때 오류를 발생시킬지 여부. **기본값:** `false`.
    -   `filter` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 복사할 파일/디렉토리를 필터링하는 함수. `true`를 반환하면 항목을 복사하고, `false`를 반환하면 무시함. 디렉토리를 무시하면 그 안의 모든 내용도 건너뜀. **기본값:** `undefined`
        -   `src` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 소스 경로.
        -   `dest` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 복사할 대상 경로.
        -   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `Promise`가 아닌 `boolean`으로 변환 가능한 값.
    -   `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 기존 파일이나 디렉토리를 덮어쓸지 여부. 이 값을 `false`로 설정하고 대상 경로가 이미 존재하면 복사 작업이 오류를 무시함. 이 동작을 변경하려면 `errorOnExist` 옵션을 사용. **기본값:** `true`.
    -   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 복사 작업에 대한 모드 수정자. **기본값:** `0`. [`fs.copyFileSync()`](https://nodejs.org/docs/latest/api/fs.html#fscopyfilesyncsrc-dest-mode)의 `mode` 플래그 참조.
    -   `preserveTimestamps` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `src`의 타임스탬프를 보존함. **기본값:** `false`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 디렉토리를 재귀적으로 복사할지 여부. **기본값:** `false`.
    -   `verbatimSymlinks` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 심볼릭 링크에 대한 경로 해석을 건너뜀. **기본값:** `false`.

`src`에서 `dest`로 디렉토리 구조 전체를 동기적으로 복사함. 하위 디렉토리와 파일도 포함됨.

디렉토리를 다른 디렉토리로 복사할 때, glob 패턴은 지원되지 않으며 `cp dir1/ dir2/`와 유사하게 동작함.


#### `fs.existsSync(path)`[#](https://nodejs.org/docs/latest/api/fs.html#fsexistssyncpath)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

주어진 경로가 존재하면 `true`를 반환하고, 그렇지 않으면 `false`를 반환합니다.

자세한 정보는 이 API의 비동기 버전인 [`fs.exists()`](https://nodejs.org/docs/latest/api/fs.html#fsexistspath-callback) 문서를 참고하세요.

`fs.exists()`는 더 이상 사용되지 않지만, `fs.existsSync()`는 여전히 사용 가능합니다. `fs.exists()`의 `callback` 파라미터는 다른 Node.js 콜백과 일관성이 없는 인자를 받습니다. `fs.existsSync()`는 콜백을 사용하지 않습니다.

```js
import { existsSync } from 'node:fs';

if (existsSync('/etc/passwd')) {
    console.log('The path exists.');
}
```


#### `fs.fchmodSync(fd, mode)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfchmodsyncfd-mode)

추가된 버전: v0.4.7

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

파일의 권한을 설정합니다. `undefined`를 반환합니다.

자세한 내용은 POSIX [`fchmod(2)`](http://man7.org/linux/man-pages/man2/fchmod.2.html) 문서를 참고하세요.


#### `fs.fchownSync(fd, uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfchownsyncfd-uid-gid)

추가된 버전: v0.4.7

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 소유자 사용자 ID.
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 그룹 ID.

파일의 소유자를 설정합니다. `undefined`를 반환합니다.

자세한 내용은 POSIX [`fchown(2)`](http://man7.org/linux/man-pages/man2/fchown.2.html) 문서를 참고하세요.


#### `fs.fdatasyncSync(fd)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfdatasyncsyncfd)

추가된 버전: v0.1.96

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

파일과 관련된 모든 대기 중인 I/O 작업을 운영체제의 동기화된 I/O 완료 상태로 강제로 전환합니다. 자세한 내용은 POSIX [`fdatasync(2)`](http://man7.org/linux/man-pages/man2/fdatasync.2.html) 문서를 참조하세요. 이 함수는 `undefined`를 반환합니다.


#### `fs.fstatSync(fd[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsfstatsyncfd-options)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
-   반환값: [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

파일 디스크립터에 대한 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 정보를 가져옵니다.

자세한 내용은 POSIX [`fstat(2)`](http://man7.org/linux/man-pages/man2/fstat.2.html) 문서를 참고하세요.


#### `fs.fsyncSync(fd)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfsyncsyncfd)

추가된 버전: v0.1.96

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

열려 있는 파일 디스크립터의 모든 데이터를 저장 장치에 강제로 기록하도록 요청합니다. 구체적인 구현은 운영 체제와 장치에 따라 다릅니다. 자세한 내용은 POSIX [`fsync(2)`](http://man7.org/linux/man-pages/man2/fsync.2.html) 문서를 참고하세요. 이 함수는 `undefined`를 반환합니다.


#### `fs.ftruncateSync(fd[, len])`[#](https://nodejs.org/docs/latest/api/fs.html#fsftruncatesyncfd-len)

추가된 버전: v0.8.6

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`

파일 디스크립터를 잘라냅니다. `undefined`를 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.ftruncate()`](https://nodejs.org/docs/latest/api/fs.html#fsftruncatefd-len-callback).


#### `fs.futimesSync(fd, atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#fsfutimessyncfd-atime-mtime)

- `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
- `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
- `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

이 함수는 [`fs.futimes()`](https://nodejs.org/docs/latest/api/fs.html#fsfutimesfd-atime-mtime-callback)의 동기 버전입니다. `undefined`를 반환합니다.


#### `fs.globSync(pattern[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsglobsyncpattern-options)

-   `pattern` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `cwd` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 현재 작업 디렉토리. **기본값:** `process.cwd()`
    -   `exclude` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 파일이나 디렉토리를 필터링하는 함수. `true`를 반환하면 해당 항목을 제외하고, `false`를 반환하면 포함시킨다. **기본값:** `undefined`.
    -   `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 glob이 Dirents 형태로 경로를 반환한다. `false`일 경우 일반 문자열로 반환한다. **기본값:** `false`.
-   반환값: [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 패턴과 일치하는 파일들의 경로.

```js
import { globSync } from 'node:fs';
console.log(globSync('**/*.js'));
```


#### `fs.lchmodSync(path, mode)`[#](https://nodejs.org/docs/latest/api/fs.html#fslchmodsyncpath-mode)

**v0.4.7 버전부터 deprecated 되었습니다.**

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

심볼릭 링크의 권한을 변경합니다. `undefined`를 반환합니다.

이 메서드는 macOS에서만 구현되어 있습니다.

자세한 내용은 POSIX [`lchmod(2)`](https://www.freebsd.org/cgi/man.cgi?query=lchmod&sektion=2) 문서를 참고하세요.


#### `fs.lchownSync(path, uid, gid)`[#](https://nodejs.org/docs/latest/api/fs.html#fslchownsyncpath-uid-gid)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `uid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 소유자 사용자 ID
-   `gid` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일의 새로운 그룹 ID

주어진 경로의 소유자를 설정합니다. 반환값은 `undefined`입니다.

자세한 내용은 POSIX [`lchown(2)`](http://man7.org/linux/man-pages/man2/lchown.2.html) 문서를 참고하세요.


#### `fs.lutimesSync(path, atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#fslutimessyncpath-atime-mtime)

추가된 버전: v14.5.0, v12.19.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

`path`로 참조되는 심볼릭 링크의 파일 시스템 타임스탬프를 변경합니다. `undefined`를 반환하거나, 매개변수가 잘못되었거나 작업이 실패할 경우 예외를 던집니다. 이 함수는 [`fs.lutimes()`](https://nodejs.org/docs/latest/api/fs.html#fslutimespath-atime-mtime-callback)의 동기 버전입니다.


#### `fs.linkSync(existingPath, newPath)`[#](https://nodejs.org/docs/latest/api/fs.html#fslinksyncexistingpath-newpath)

-   `existingPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)

`existingPath`에서 `newPath`로 새로운 링크를 생성합니다. 자세한 내용은 POSIX [`link(2)`](http://man7.org/linux/man-pages/man2/link.2.html) 문서를 참고하세요. 이 함수는 `undefined`를 반환합니다.


#### `fs.lstatSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fslstatsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
    -   `throwIfNoEntry` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 파일 시스템 엔트리가 존재하지 않을 때 `undefined`를 반환하는 대신 예외를 던질지 여부. **기본값:** `true`.
-   반환값: [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

`path`가 참조하는 심볼릭 링크의 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 정보를 가져옵니다.

자세한 내용은 POSIX [`lstat(2)`](http://man7.org/linux/man-pages/man2/lstat.2.html) 문서를 참고하세요.


#### `fs.mkdirSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsmkdirsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    -   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 윈도우에서는 지원되지 않음. **기본값:** `0o777`.
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type)

디렉토리를 동기적으로 생성한다. `recursive`가 `true`일 경우, 생성된 첫 번째 디렉토리 경로를 반환한다. 이 함수는 [`fs.mkdir()`](https://nodejs.org/docs/latest/api/fs.html#fsmkdirpath-options-callback)의 동기 버전이다.

자세한 내용은 POSIX [`mkdir(2)`](http://man7.org/linux/man-pages/man2/mkdir.2.html) 문서를 참고한다.


#### `fs.mkdtempSync(prefix[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsmkdtempsyncprefix-options)

-   `prefix` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

생성된 디렉토리 경로를 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.mkdtemp()`](https://nodejs.org/docs/latest/api/fs.html#fsmkdtempprefix-options-callback).

선택적 `options` 인자는 문자열로 인코딩을 지정하거나, `encoding` 속성을 가진 객체로 문자 인코딩을 지정할 수 있습니다.


#### `fs.opendirSync(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    - `bufferSize` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 디렉토리에서 읽을 때 내부적으로 버퍼링되는 디렉토리 항목의 수입니다. 값이 높을수록 성능은 좋아지지만 메모리 사용량도 증가합니다. **기본값:** `32`
    - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
- 반환값: [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)

디렉토리를 동기적으로 엽니다. 자세한 내용은 [`opendir(3)`](http://man7.org/linux/man-pages/man3/opendir.3.html)을 참조하세요.

이 함수는 [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir) 객체를 생성하며, 이 객체는 디렉토리에서 읽고 정리하는 데 필요한 모든 함수를 포함합니다.

`encoding` 옵션은 디렉토리를 열고 이후의 읽기 작업에서 사용할 `path`의 인코딩을 설정합니다.


#### `fs.openSync(path[, flags[, mode]])`[#](https://nodejs.org/docs/latest/api/fs.html#fsopensyncpath-flags-mode)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `flags` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `'r'`. [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags)을 참고하세요.
-   `mode` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

파일 디스크립터를 나타내는 정수를 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback).


#### `fs.readdirSync(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
- `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
    - `withFileTypes` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
    - `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 디렉토리의 내용을 재귀적으로 읽습니다. 재귀 모드에서는 모든 파일, 하위 파일, 디렉토리를 나열합니다. **기본값:** `false`.
- 반환값: [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer\[\]>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<fs.Dirent\[\]>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)

디렉토리의 내용을 읽습니다.

자세한 내용은 POSIX [`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html) 문서를 참고하세요.

`options` 인자는 선택 사항이며, 문자열로 인코딩을 지정하거나 `encoding` 속성을 가진 객체로 반환될 파일 이름의 문자 인코딩을 지정할 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 파일 이름은 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

`options.withFileTypes`가 `true`로 설정되면, 결과는 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체를 포함합니다.


#### `fs.readFileSync(path[, options])`

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    - `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
    - `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'r'`.
- 반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

`path`의 내용을 반환합니다.

자세한 정보는 이 API의 비동기 버전인 [`fs.readFile()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfilepath-options-callback) 문서를 참조하세요.

`encoding` 옵션이 지정된 경우 이 함수는 문자열을 반환합니다. 그렇지 않으면 버퍼를 반환합니다.

[`fs.readFile()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfilepath-options-callback)과 유사하게, 경로가 디렉터리일 때 `fs.readFileSync()`의 동작은 플랫폼에 따라 다릅니다.

```js
import { readFileSync } from 'node:fs';

// macOS, Linux, Windows
readFileSync(''); // => [Error: EISDIR: illegal operation on a directory, read]

// FreeBSD
readFileSync(''); // => 
```


#### `fs.readlinkSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadlinksyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

심볼릭 링크의 문자열 값을 반환합니다.

자세한 내용은 POSIX [`readlink(2)`](http://man7.org/linux/man-pages/man2/readlink.2.html) 문서를 참고하세요.

선택적 `options` 인자는 문자열로 인코딩을 지정하거나, 반환된 링크 경로에 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 링크 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.


#### `fs.readSync(fd, buffer, offset, length[, position])`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadsyncfd-buffer-offset-length-position)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

읽은 바이트 수를 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.read()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-offset-length-position-callback).


#### `fs.readSync(fd, buffer[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadsyncfd-buffer-options)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

읽은 바이트 수를 반환합니다.

위의 `fs.readSync` 함수와 유사하지만, 이 버전은 선택적인 `options` 객체를 받습니다. `options` 객체가 지정되지 않으면 위의 기본값을 사용합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.read()`](https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-offset-length-position-callback).


#### `fs.readvSync(fd, buffers[, position])`[#](https://nodejs.org/docs/latest/api/fs.html#fsreadvsyncfd-buffers-position)

추가된 버전: v13.13.0, v12.17.0

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 읽은 바이트 수

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.readv()`](https://nodejs.org/docs/latest/api/fs.html#fsreadvfd-buffers-position-callback).


#### `fs.realpathSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsrealpathsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

해당 경로의 실제 경로명을 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.realpath()`](https://nodejs.org/docs/latest/api/fs.html#fsrealpathpath-options-callback).


#### `fs.realpathSync.native(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsrealpathsyncnativepath-options)

추가된 버전: v9.2.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

동기식 [`realpath(3)`](http://man7.org/linux/man-pages/man3/realpath.3.html)을 구현한 함수입니다.

UTF8 문자열로 변환할 수 있는 경로만 지원됩니다.

선택적 `options` 인자는 인코딩을 지정하는 문자열이거나, 반환된 경로에 사용할 문자 인코딩을 지정하는 `encoding` 속성을 가진 객체일 수 있습니다. `encoding`이 `'buffer'`로 설정되면, 반환된 경로는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 객체로 전달됩니다.

Linux에서 Node.js가 musl libc에 연결된 경우, 이 함수가 작동하려면 procfs 파일 시스템이 `/proc`에 마운트되어 있어야 합니다. Glibc에는 이러한 제한이 없습니다.


#### `fs.renameSync(oldPath, newPath)`[#](https://nodejs.org/docs/latest/api/fs.html#fsrenamesyncoldpath-newpath)

-   `oldPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `newPath` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)

`oldPath`에 있는 파일을 `newPath`로 이름을 변경합니다. 이 함수는 `undefined`를 반환합니다.

자세한 내용은 POSIX [`rename(2)`](http://man7.org/linux/man-pages/man2/rename.2.html) 문서를 참고하세요.


#### `fs.rmdirSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsrmdirsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면, Node.js는 `retryDelay` 밀리초만큼 대기 시간을 늘려가며 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아니면 이 옵션은 무시됩니다. **기본값:** `0`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 디렉토리를 재귀적으로 삭제합니다. 재귀 모드에서는 실패 시 작업이 재시도됩니다. **기본값:** `false`. **Deprecated.**
    -   `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 사이의 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아니면 이 옵션은 무시됩니다. **기본값:** `100`.

동기식 [`rmdir(2)`](http://man7.org/linux/man-pages/man2/rmdir.2.html)을 사용합니다. `undefined`를 반환합니다.

Windows에서는 파일(디렉토리가 아닌)에 `fs.rmdirSync()`를 사용하면 `ENOENT` 오류가 발생하고, POSIX 시스템에서는 `ENOTDIR` 오류가 발생합니다.

Unix 명령어 `rm -rf`와 유사한 동작을 원한다면, [`fs.rmSync()`](https://nodejs.org/docs/latest/api/fs.html#fsrmsyncpath-options)를 `{ recursive: true, force: true }` 옵션과 함께 사용하세요.


#### `fs.rmSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsrmsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `force` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 `path`가 존재하지 않을 때 예외를 무시합니다. **기본값:** `false`.
    -   `maxRetries` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `EBUSY`, `EMFILE`, `ENFILE`, `ENOTEMPTY`, 또는 `EPERM` 오류가 발생하면, Node.js는 `retryDelay` 밀리초 간격으로 선형 백오프를 적용하여 작업을 재시도합니다. 이 옵션은 재시도 횟수를 나타냅니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `0`.
    -   `recursive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면 디렉토리를 재귀적으로 삭제합니다. 재귀 모드에서는 실패 시 작업이 재시도됩니다. **기본값:** `false`.
    -   `retryDelay` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 재시도 간 대기 시간을 밀리초 단위로 지정합니다. `recursive` 옵션이 `true`가 아닌 경우 이 옵션은 무시됩니다. **기본값:** `100`.

이 함수는 파일과 디렉토리를 동기적으로 삭제합니다 (표준 POSIX `rm` 유틸리티를 모델로 함). 반환값은 `undefined`입니다.


#### `fs.statSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsstatsyncpath-options)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
    -   `throwIfNoEntry` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 파일 시스템 엔트리가 존재하지 않을 때 `undefined`를 반환하는 대신 예외를 던질지 여부. **기본값:** `true`.
-   반환값: [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

주어진 경로에 대한 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 정보를 가져옵니다.


#### `fs.statfsSync(path[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fsstatfssyncpath-options)

추가된 버전: v19.6.0, v18.15.0

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `bigint` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 반환된 [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs) 객체의 숫자 값이 `bigint` 타입으로 반환될지 여부. **기본값:** `false`.
-   반환값: [`<fs.StatFs>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs)

동기적으로 [`statfs(2)`](http://man7.org/linux/man-pages/man2/statfs.2.html)를 실행합니다. `path`가 포함된 마운트된 파일 시스템에 대한 정보를 반환합니다.

에러가 발생할 경우, `err.code`는 [Common System Errors](https://nodejs.org/docs/latest/api/errors.html#common-system-errors) 중 하나가 됩니다.


#### `fs.symlinkSync(target, path[, type])`[#](https://nodejs.org/docs/latest/api/fs.html#fssymlinksynctarget-path-type)

-   `target` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`

`undefined`를 반환합니다.

자세한 내용은 이 API의 비동기 버전인 [`fs.symlink()`](https://nodejs.org/docs/latest/api/fs.html#fssymlinktarget-path-type-callback) 문서를 참고하세요.


#### `fs.truncateSync(path[, len])`[#](https://nodejs.org/docs/latest/api/fs.html#fstruncatesyncpath-len)

추가된 버전: v0.8.6

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `len` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`

파일을 잘라냅니다. `undefined`를 반환합니다. 첫 번째 인자로 파일 디스크립터를 전달할 수도 있습니다. 이 경우 `fs.ftruncateSync()`가 호출됩니다.

파일 디스크립터를 전달하는 방식은 더 이상 권장되지 않으며, 향후 에러가 발생할 수 있습니다.


#### `fs.unlinkSync(path)`[#](https://nodejs.org/docs/latest/api/fs.html#fsunlinksyncpath)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)

동기적으로 파일을 삭제합니다. [`unlink(2)`](http://man7.org/linux/man-pages/man2/unlink.2.html) 시스템 호출을 사용하며, `undefined`를 반환합니다.


#### `fs.utimesSync(path, atime, mtime)`[#](https://nodejs.org/docs/latest/api/fs.html#fsutimessyncpath-atime-mtime)

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)
-   `atime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)
-   `mtime` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

`undefined`를 반환합니다.

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.utimes()`](https://nodejs.org/docs/latest/api/fs.html#fsutimespath-atime-mtime-callback).


#### `fs.writeFileSync(file, data[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fswritefilesyncfile-data-options)

-   `file` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 파일 이름 또는 파일 디스크립터
-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
    -   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `'utf8'`
    -   `mode` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0o666`
    -   `flag` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) [파일 시스템 `flags` 지원](https://nodejs.org/docs/latest/api/fs.html#file-system-flags) 참조. **기본값:** `'w'`.
    -   `flush` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 모든 데이터가 파일에 성공적으로 쓰여지고 `flush`가 `true`인 경우, `fs.fsyncSync()`를 사용하여 데이터를 플러시한다.

`undefined`를 반환한다.

`mode` 옵션은 새로 생성된 파일에만 영향을 준다. 자세한 내용은 [`fs.open()`](https://nodejs.org/docs/latest/api/fs.html#fsopenpath-flags-mode-callback)을 참조하라.

더 자세한 정보는 이 API의 비동기 버전 문서를 참조하라: [`fs.writeFile()`](https://nodejs.org/docs/latest/api/fs.html#fswritefilefile-data-options-callback).


#### `fs.writeSync(fd, buffer, offset[, length[, position]])`[#](https://nodejs.org/docs/latest/api/fs.html#fswritesyncfd-buffer-offset-length-position)

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 쓰여진 바이트 수

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.write(fd, buffer...)`](https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-offset-length-position-callback).


#### `fs.writeSync(fd, buffer[, options])`[#](https://nodejs.org/docs/latest/api/fs.html#fswritesyncfd-buffer-options)

추가된 버전: v18.3.0, v16.17.0

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffer` [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<TypedArray>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) | [`<DataView>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `offset` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
    -   `length` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `buffer.byteLength - offset`
    -   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 쓰여진 바이트 수

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.write(fd, buffer...)`](https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-offset-length-position-callback).


#### `fs.writeSync(fd, string[, position[, encoding]])`[#](https://nodejs.org/docs/latest/api/fs.html#fswritesyncfd-string-position-encoding)

- `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
  파일 디스크립터를 나타내는 정수입니다.

- `string` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
  파일에 쓸 문자열입니다.

- `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`  
  파일 내에서 쓰기를 시작할 위치를 지정합니다. `null`일 경우 현재 파일 위치에서 쓰기를 시작합니다.

- `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) **기본값:** `'utf8'`  
  문자열의 인코딩 방식을 지정합니다.

- 반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)  
  파일에 쓴 바이트 수를 반환합니다.

더 자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.write(fd, string...)`](https://nodejs.org/docs/latest/api/fs.html#fswritefd-string-position-encoding-callback).


#### `fs.writevSync(fd, buffers[, position])`[#](https://nodejs.org/docs/latest/api/fs.html#fswritevsyncfd-buffers-position)

추가된 버전: v12.9.0

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `buffers` [`<ArrayBufferView\[\]>`](https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView)
-   `position` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) **기본값:** `null`
-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 쓰여진 바이트 수

자세한 정보는 이 API의 비동기 버전 문서를 참고하세요: [`fs.writev()`](https://nodejs.org/docs/latest/api/fs.html#fswritevfd-buffers-position-callback).


### 공통 객체[#](https://nodejs.org/docs/latest/api/fs.html#common-objects)

공통 객체는 파일 시스템 API의 모든 변형(Promise, 콜백, 동기 방식)에서 공유됩니다.


#### 클래스: `fs.Dir`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)

추가된 버전: v12.12.0

디렉터리 스트림을 나타내는 클래스입니다.

[`fs.opendir()`](https://nodejs.org/docs/latest/api/fs.html#fsopendirpath-options-callback), [`fs.opendirSync()`](https://nodejs.org/docs/latest/api/fs.html#fsopendirsyncpath-options), 또는 [`fsPromises.opendir()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesopendirpath-options)를 통해 생성됩니다.

```js
import { opendir } from 'node:fs/promises';

try {
    const dir = await opendir('./');
    for await (const dirent of dir) {
        console.log(dirent.name);
    }
} catch (err) {
    console.error(err);
}
```

비동기 이터레이터를 사용할 때, [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir) 객체는 이터레이터가 종료된 후 자동으로 닫힙니다.


##### `dir.close()`[#](https://nodejs.org/docs/latest/api/fs.html#dirclose)

추가된 버전: v12.12.0

-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

디렉토리의 기본 리소스 핸들을 비동기적으로 닫습니다. 이후 읽기 작업은 오류를 발생시킵니다.

리소스가 닫힌 후에 이행되는 Promise가 반환됩니다.


##### `dir.close(callback)`[#](https://nodejs.org/docs/latest/api/fs.html#dirclosecallback)

-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

디렉토리의 기본 리소스 핸들을 비동기적으로 닫습니다. 이후 읽기 작업은 오류를 발생시킵니다.

리소스 핸들이 닫힌 후에 `callback`이 호출됩니다.


##### `dir.closeSync()`[#](https://nodejs.org/docs/latest/api/fs.html#dirclosesync)

추가된 버전: v12.12.0

디렉터리의 기본 리소스 핸들을 동기적으로 닫습니다. 이후 읽기 작업은 오류를 발생시킵니다.


##### `dir.path`[#](https://nodejs.org/docs/latest/api/fs.html#dirpath)

추가된 버전: v12.12.0

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

이 디렉토리의 읽기 전용 경로입니다. 이 경로는 [`fs.opendir()`](https://nodejs.org/docs/latest/api/fs.html#fsopendirpath-options-callback), [`fs.opendirSync()`](https://nodejs.org/docs/latest/api/fs.html#fsopendirsyncpath-options), 또는 [`fsPromises.opendir()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesopendirpath-options)에 제공된 그대로입니다.


##### `dir.read()`[#](https://nodejs.org/docs/latest/api/fs.html#dirread)

추가된 버전: v12.12.0

-   반환값: [`<Promise>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 또는 [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)으로 이행됨

[`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html)을 통해 비동기적으로 다음 디렉토리 항목을 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)로 읽어옵니다.

이 함수는 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)로 이행되거나, 더 이상 읽을 디렉토리 항목이 없을 경우 `null`로 이행되는 Promise를 반환합니다.

이 함수가 반환하는 디렉토리 항목은 운영체제의 기본 디렉토리 메커니즘에 의해 제공되며, 특정 순서 없이 반환됩니다. 디렉토리를 순회하는 동안 추가되거나 제거된 항목은 반복 결과에 포함되지 않을 수 있습니다.


##### `dir.read(callback)`[#](https://nodejs.org/docs/latest/api/fs.html#dirreadcallback)

추가된 버전: v12.12.0

-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   `dirent` [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)

[`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html)을 통해 비동기적으로 다음 디렉토리 항목을 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)로 읽어옵니다.

읽기가 완료되면 `callback`이 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)와 함께 호출됩니다. 더 이상 읽을 디렉토리 항목이 없으면 `null`이 전달됩니다.

이 함수가 반환하는 디렉토리 항목은 운영체제의 기본 디렉토리 메커니즘에 의해 제공되므로 특정 순서 없이 반환됩니다. 디렉토리를 순회하는 동안 추가되거나 삭제된 항목은 반복 결과에 포함되지 않을 수 있습니다.


##### `dir.readSync()`[#](https://nodejs.org/docs/latest/api/fs.html#dirreadsync)

추가된 버전: v12.12.0

-   반환값: [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)

디렉토리의 다음 항목을 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)로 동기적으로 읽어옵니다. 더 자세한 내용은 POSIX [`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html) 문서를 참고하세요.

읽을 디렉토리 항목이 더 이상 없으면 `null`이 반환됩니다.

이 함수가 반환하는 디렉토리 항목은 운영체제의 기본 디렉토리 메커니즘에 의해 제공되며 특정 순서 없이 나열됩니다. 디렉토리를 순회하는 동안 추가되거나 삭제된 항목은 순회 결과에 포함되지 않을 수 있습니다.


##### `dir[Symbol.asyncIterator]()`[#](https://nodejs.org/docs/latest/api/fs.html#dirsymbolasynciterator)

추가된 버전: v12.12.0

-   반환값: [`<AsyncIterator>`](https://tc39.github.io/ecma262/#sec-asynciterator-interface) [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)의 AsyncIterator

디렉토리의 모든 엔트리를 읽을 때까지 비동기적으로 반복합니다. 자세한 내용은 POSIX [`readdir(3)`](http://man7.org/linux/man-pages/man3/readdir.3.html) 문서를 참고하세요.

비동기 반복자가 반환하는 엔트리는 항상 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 타입입니다. `dir.read()`에서 발생하는 `null` 케이스는 내부적으로 처리됩니다.

예제는 [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)을 참고하세요.

이 반복자가 반환하는 디렉토리 엔트리는 운영체제의 기본 디렉토리 메커니즘에 의해 제공된 순서대로 정렬되지 않습니다. 디렉토리를 반복하는 동안 추가되거나 제거된 엔트리는 반복 결과에 포함되지 않을 수 있습니다.


#### 클래스: `fs.Dirent`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent)

추가된 버전: v10.10.0

`fs.Dirent`는 디렉토리 내의 파일이나 하위 디렉토리를 나타내는 객체입니다. 이 객체는 [`<fs.Dir>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdir)을 통해 읽어들인 디렉토리 엔트리를 표현하며, 파일 이름과 파일 타입의 조합으로 구성됩니다.

또한, [`fs.readdir()`](https://nodejs.org/docs/latest/api/fs.html#fsreaddirpath-options-callback)이나 [`fs.readdirSync()`](https://nodejs.org/docs/latest/api/fs.html#fsreaddirsyncpath-options)를 호출할 때 `withFileTypes` 옵션을 `true`로 설정하면, 결과 배열은 문자열이나 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 대신 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체로 채워집니다.


##### `dirent.isBlockDevice()`[#](https://nodejs.org/docs/latest/api/fs.html#direntisblockdevice)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 블록 장치를 설명하는 경우 `true`를 반환합니다.


##### `dirent.isCharacterDevice()`[#](https://nodejs.org/docs/latest/api/fs.html#direntischaracterdevice)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 문자 장치를 설명하는 경우 `true`를 반환합니다.


##### `dirent.isDirectory()`[#](https://nodejs.org/docs/latest/api/fs.html#direntisdirectory)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 파일 시스템 디렉터리를 설명하는 경우 `true`를 반환합니다.


##### `dirent.isFIFO()`[#](https://nodejs.org/docs/latest/api/fs.html#direntisfifo)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 FIFO(First-In-First-Out) 파이프를 설명하는 경우 `true`를 반환합니다.


##### `dirent.isFile()`[#](https://nodejs.org/docs/latest/api/fs.html#direntisfile)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 일반 파일을 설명하는 경우 `true`를 반환합니다.


##### `dirent.isSocket()`[#](https://nodejs.org/docs/latest/api/fs.html#direntissocket)

v10.10.0에서 추가됨

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 소켓을 설명하는 경우 `true`를 반환합니다.


##### `dirent.isSymbolicLink()`[#](https://nodejs.org/docs/latest/api/fs.html#direntissymboliclink)

추가된 버전: v10.10.0

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 심볼릭 링크를 설명하고 있다면 `true`를 반환합니다.


##### `dirent.name`[#](https://nodejs.org/docs/latest/api/fs.html#direntname)

추가된 버전: v10.10.0

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

이 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 참조하는 파일 이름입니다. 이 값의 타입은 [`fs.readdir()`](https://nodejs.org/docs/latest/api/fs.html#fsreaddirpath-options-callback) 또는 [`fs.readdirSync()`](https://nodejs.org/docs/latest/api/fs.html#fsreaddirsyncpath-options)에 전달된 `options.encoding`에 의해 결정됩니다.


##### `dirent.parentPath`[#](https://nodejs.org/docs/latest/api/fs.html#direntparentpath)

추가된 버전: v21.4.0, v20.12.0, v18.20.0

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

이 [`<fs.Dirent>`](https://nodejs.org/docs/latest/api/fs.html#class-fsdirent) 객체가 참조하는 파일의 상위 디렉토리 경로입니다.


##### `dirent.path`[#](https://nodejs.org/docs/latest/api/fs.html#direntpath)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`dirent.parentPath`의 별칭입니다.


#### 클래스: `fs.FSWatcher`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)

추가된 버전: v0.5.8

-   [`<EventEmitter>`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)를 상속받음

[`fs.watch()`](https://nodejs.org/docs/latest/api/fs.html#fswatchfilename-options-listener) 메서드를 성공적으로 호출하면 새로운 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체가 반환됩니다.

모든 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체는 특정 감시 중인 파일이 수정될 때마다 `'change'` 이벤트를 발생시킵니다.


##### 이벤트: `'change'`[#](https://nodejs.org/docs/latest/api/fs.html#event-change)

추가된 버전: v0.5.8

-   `eventType` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 발생한 변경 이벤트의 타입
-   `filename` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 변경된 파일 이름 (관련/사용 가능한 경우)

감시 중인 디렉토리나 파일에서 무언가 변경되었을 때 발생합니다. 자세한 내용은 [`fs.watch()`](https://nodejs.org/docs/latest/api/fs.html#fswatchfilename-options-listener)를 참고하세요.

`filename` 인자는 운영체제 지원에 따라 제공되지 않을 수 있습니다. `filename`이 제공되는 경우, `fs.watch()`가 `encoding` 옵션을 `'buffer'`로 설정하여 호출되었다면 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)로 제공됩니다. 그렇지 않으면 `filename`은 UTF-8 문자열로 제공됩니다.

```js
import { watch } from 'node:fs';

// fs.watch() 리스너를 통해 처리되는 예제
watch('./tmp', { encoding: 'buffer' }, (eventType, filename) => {
    if (filename) {
        console.log(filename); // 출력: 
    }
});
```


##### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/fs.html#event-close_1)

추가된 버전: v10.0.0

변경 사항을 감시하던 감시자(watcher)가 감시를 멈출 때 발생합니다. 이 이벤트 핸들러 내에서 닫힌 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체는 더 이상 사용할 수 없습니다.


##### 이벤트: `'error'`[#](https://nodejs.org/docs/latest/api/fs.html#event-error)

추가된 버전: v0.5.8

-   `error` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

파일 감시 중 오류가 발생할 때 발생하는 이벤트입니다. 오류가 발생한 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체는 이벤트 핸들러에서 더 이상 사용할 수 없습니다.


##### `watcher.close()`[#](https://nodejs.org/docs/latest/api/fs.html#watcherclose)

추가된 버전: v0.5.8

주어진 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)에 대한 변경 사항 감시를 중지합니다. 한번 중지되면, [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체는 더 이상 사용할 수 없습니다.


##### `watcher.ref()`[#](https://nodejs.org/docs/latest/api/fs.html#watcherref)

추가된 버전: v14.3.0, v12.20.0

-   반환값: [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)

이 메서드를 호출하면 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)가 활성 상태인 동안 Node.js 이벤트 루프가 종료되지 않도록 요청합니다. `watcher.ref()`를 여러 번 호출해도 아무런 효과가 없습니다.

기본적으로 모든 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체는 "ref'ed" 상태입니다. 따라서 이전에 `watcher.unref()`를 호출하지 않은 이상 `watcher.ref()`를 호출할 필요가 없습니다.


##### `watcher.unref()`[#](https://nodejs.org/docs/latest/api/fs.html#watcherunref)

추가된 버전: v14.3.0, v12.20.0

-   반환값: [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher)

이 메서드를 호출하면 활성화된 [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체가 Node.js 이벤트 루프를 계속 활성화 상태로 유지하지 않습니다. 만약 이벤트 루프를 실행 상태로 유지하는 다른 활동이 없다면, [`<fs.FSWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsfswatcher) 객체의 콜백이 호출되기 전에 프로세스가 종료될 수 있습니다. `watcher.unref()`를 여러 번 호출해도 아무런 효과가 없습니다.


#### 클래스: `fs.StatWatcher`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher)

추가된 버전: v14.3.0, v12.20.0

-   [`<EventEmitter>`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)를 상속받음

`fs.watchFile()` 메서드를 성공적으로 호출하면 새로운 [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher) 객체가 반환됩니다.


##### `watcher.ref()`[#](https://nodejs.org/docs/latest/api/fs.html#watcherref_1)

추가된 버전: v14.3.0, v12.20.0

-   반환값: [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher)

이 메서드를 호출하면, [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher)가 활성 상태인 동안 Node.js 이벤트 루프가 종료되지 않도록 요청합니다. `watcher.ref()`를 여러 번 호출해도 아무런 효과가 없습니다.

기본적으로 모든 [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher) 객체는 "참조 상태(ref'ed)"로 설정되어 있습니다. 따라서 이전에 `watcher.unref()`를 호출하지 않은 이상, `watcher.ref()`를 호출할 필요는 없습니다.


##### `watcher.unref()`[#](https://nodejs.org/docs/latest/api/fs.html#watcherunref_1)

추가된 버전: v14.3.0, v12.20.0

-   반환값: [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher)

이 메서드를 호출하면 활성화된 [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher) 객체가 Node.js 이벤트 루프를 계속 활성화 상태로 유지하지 않습니다. 만약 이벤트 루프를 실행 상태로 유지하는 다른 활동이 없다면, [`<fs.StatWatcher>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstatwatcher) 객체의 콜백이 호출되기 전에 프로세스가 종료될 수 있습니다. `watcher.unref()`를 여러 번 호출해도 아무런 효과가 없습니다.


#### 클래스: `fs.ReadStream`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)

추가된 버전: v0.1.93

-   상속: [`<stream.Readable>`](https://nodejs.org/docs/latest/api/stream.html#class-streamreadable)

[`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)의 인스턴스는 [`fs.createReadStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatereadstreampath-options) 함수를 사용하여 생성되고 반환됩니다.


##### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/fs.html#event-close_2)

추가된 버전: v0.1.93

[`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)의 기본 파일 디스크립터가 닫힐 때 발생합니다.


##### 이벤트: `'open'`[#](https://nodejs.org/docs/latest/api/fs.html#event-open)

추가된 버전: v0.1.93

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)에서 사용하는 정수 파일 디스크립터.

[`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)의 파일 디스크립터가 열렸을 때 발생합니다.


##### 이벤트: `'ready'`[#](https://nodejs.org/docs/latest/api/fs.html#event-ready)

추가된 버전: v9.11.0

[`<fs.ReadStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream)이 사용 준비가 되었을 때 발생합니다.

`'open'` 이벤트 직후에 실행됩니다.


##### `readStream.bytesRead`[#](https://nodejs.org/docs/latest/api/fs.html#readstreambytesread)

추가된 버전: v6.4.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

지금까지 읽은 바이트 수를 나타냅니다.


##### `readStream.path`[#](https://nodejs.org/docs/latest/api/fs.html#readstreampath)

추가된 버전: v0.1.93

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)

`fs.createReadStream()`의 첫 번째 인자로 지정된 파일의 경로입니다. `path`가 문자열로 전달되면 `readStream.path`는 문자열이 됩니다. `path`가 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)로 전달되면 `readStream.path`는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)가 됩니다. `fd`가 지정된 경우, `readStream.path`는 `undefined`가 됩니다.


##### `readStream.pending`[#](https://nodejs.org/docs/latest/api/fs.html#readstreampending)

추가된 버전: v11.2.0, v10.16.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

이 속성은 아직 파일이 열리지 않은 상태, 즉 `'ready'` 이벤트가 발생하기 전에 `true` 값을 가집니다.


#### 클래스: `fs.Stats`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsstats)

`fs.Stats` 객체는 파일에 대한 정보를 제공합니다.

[`fs.stat()`](https://nodejs.org/docs/latest/api/fs.html#fsstatpath-options-callback), [`fs.lstat()`](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback), [`fs.fstat()`](https://nodejs.org/docs/latest/api/fs.html#fsfstatfd-options-callback) 및 이들의 동기적 버전에서 반환되는 객체는 이 타입입니다. 이 메서드들에 전달된 `options`에서 `bigint`가 `true`로 설정된 경우, 숫자 값은 `number` 대신 `bigint`가 되며, 객체에는 `Ns` 접미사가 붙은 나노초 단위의 정밀도를 가진 추가 속성이 포함됩니다. `Stat` 객체는 `new` 키워드를 사용해 직접 생성할 수 없습니다.

```console
Stats { dev: 2114, ino: 48064969, mode: 33188, nlink: 1, uid: 85, gid: 100, rdev: 0, size: 527, blksize: 4096, blocks: 8, atimeMs: 1318289051000.1, mtimeMs: 1318289051000.1, ctimeMs: 1318289051000.1, birthtimeMs: 1318289051000.1, atime: Mon, 10 Oct 2011 23:24:11 GMT, mtime: Mon, 10 Oct 2011 23:24:11 GMT, ctime: Mon, 10 Oct 2011 23:24:11 GMT, birthtime: Mon, 10 Oct 2011 23:24:11 GMT }
```

`bigint` 버전:

```console
BigIntStats { dev: 2114n, ino: 48064969n, mode: 33188n, nlink: 1n, uid: 85n, gid: 100n, rdev: 0n, size: 527n, blksize: 4096n, blocks: 8n, atimeMs: 1318289051000n, mtimeMs: 1318289051000n, ctimeMs: 1318289051000n, birthtimeMs: 1318289051000n, atimeNs: 1318289051000000000n, mtimeNs: 1318289051000000000n, ctimeNs: 1318289051000000000n, birthtimeNs: 1318289051000000000n, atime: Mon, 10 Oct 2011 23:24:11 GMT, mtime: Mon, 10 Oct 2011 23:24:11 GMT, ctime: Mon, 10 Oct 2011 23:24:11 GMT, birthtime: Mon, 10 Oct 2011 23:24:11 GMT }
```


##### `stats.isBlockDevice()`[#](https://nodejs.org/docs/latest/api/fs.html#statsisblockdevice)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 블록 장치를 설명하는 경우 `true`를 반환합니다.


##### `stats.isCharacterDevice()`[#](https://nodejs.org/docs/latest/api/fs.html#statsischaracterdevice)

v0.1.10 버전에서 추가됨

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 문자 장치를 설명하는 경우 `true`를 반환합니다.


##### `stats.isDirectory()`[#](https://nodejs.org/docs/latest/api/fs.html#statsisdirectory)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 파일 시스템 디렉터리를 설명하는 경우 `true`를 반환합니다.

만약 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 디렉터리로 연결되는 심볼릭 링크에 대해 [`fs.lstat()`](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback)를 호출하여 얻어진 경우, 이 메서드는 `false`를 반환합니다. 이는 [`fs.lstat()`](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback)가 심볼릭 링크 자체에 대한 정보를 반환하고, 링크가 가리키는 경로에 대한 정보를 반환하지 않기 때문입니다.


##### `stats.isFIFO()`[#](https://nodejs.org/docs/latest/api/fs.html#statsisfifo)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 FIFO(First-In-First-Out) 파이프를 설명하는 경우 `true`를 반환합니다.


##### `stats.isFile()`[#](https://nodejs.org/docs/latest/api/fs.html#statsisfile)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 일반 파일을 설명하는 경우 `true`를 반환합니다.


##### `stats.isSocket()`[#](https://nodejs.org/docs/latest/api/fs.html#statsissocket)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 소켓을 설명하는 경우 `true`를 반환합니다.


##### `stats.isSymbolicLink()`[#](https://nodejs.org/docs/latest/api/fs.html#statsissymboliclink)

추가된 버전: v0.1.10

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

[`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체가 심볼릭 링크를 설명하는 경우 `true`를 반환합니다.

이 메서드는 [`fs.lstat()`](https://nodejs.org/docs/latest/api/fs.html#fslstatpath-options-callback)를 사용할 때만 유효합니다.


##### `stats.dev`[#](https://nodejs.org/docs/latest/api/fs.html#statsdev)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일이 포함된 장치의 숫자 식별자입니다.


##### `stats.ino`[#](https://nodejs.org/docs/latest/api/fs.html#statsino)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템에서 사용하는 특정 "Inode" 번호를 나타냅니다.


##### `stats.mode`[#](https://nodejs.org/docs/latest/api/fs.html#statsmode)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 타입과 모드를 설명하는 비트 필드입니다.


##### `stats.nlink`

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일에 존재하는 하드 링크의 수를 나타냅니다.


##### `stats.uid`[#](https://nodejs.org/docs/latest/api/fs.html#statsuid)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일을 소유한 사용자의 숫자 형태의 사용자 식별자입니다 (POSIX).


##### `stats.gid`[#](https://nodejs.org/docs/latest/api/fs.html#statsgid)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일을 소유한 그룹의 숫자형 그룹 식별자입니다 (POSIX).


##### `stats.rdev`

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일이 디바이스를 나타내는 경우, 숫자로 된 디바이스 식별자를 반환합니다.


##### `stats.size`

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일의 크기를 바이트 단위로 나타냅니다.

파일 시스템이 파일 크기를 가져오는 기능을 지원하지 않으면 이 값은 `0`이 됩니다.


##### `stats.blksize`[#](https://nodejs.org/docs/latest/api/fs.html#statsblksize)

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템의 입출력(I/O) 작업을 위한 블록 크기를 나타냅니다.


##### `stats.blocks`

- 타입: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 또는 [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 파일에 할당된 블록의 수를 나타냅니다.


##### `stats.atimeMs`[#](https://nodejs.org/docs/latest/api/fs.html#statsatimems)

추가된 버전: v8.1.0

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 파일이 마지막으로 접근된 시간을 나타내는 타임스탬프입니다. POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후의 시간을 밀리초 단위로 표현합니다.


##### `stats.mtimeMs`[#](https://nodejs.org/docs/latest/api/fs.html#statsmtimems)

추가된 버전: v8.1.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 파일이 마지막으로 수정된 시간을 나타내는 타임스탬프입니다. POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후의 시간을 밀리초 단위로 표현합니다.


##### `stats.ctimeMs`[#](https://nodejs.org/docs/latest/api/fs.html#statsctimems)

추가된 버전: v8.1.0

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 상태가 마지막으로 변경된 시점을 나타내는 타임스탬프입니다. 이 값은 POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후의 시간을 밀리초 단위로 표현합니다.


##### `stats.birthtimeMs`[#](https://nodejs.org/docs/latest/api/fs.html#statsbirthtimems)

추가된 버전: v8.1.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 파일의 생성 시간을 나타내는 타임스탬프입니다. POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후의 시간을 밀리초 단위로 표현합니다.


##### `stats.atimeNs`[#](https://nodejs.org/docs/latest/api/fs.html#statsatimens)

v12.10.0에서 추가됨

-   [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 속성은 객체를 생성하는 메서드에 `bigint: true`를 전달했을 때만 존재합니다. 이 값은 POSIX Epoch 이후 나노초 단위로 표시된 파일의 마지막 접근 시간을 나타냅니다.


##### `stats.mtimeNs`[#](https://nodejs.org/docs/latest/api/fs.html#statsmtimens)

추가된 버전: v12.10.0

-   [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 속성은 `bigint: true` 옵션을 메서드에 전달했을 때만 존재합니다. 이 값은 POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후로 파일이 마지막으로 수정된 시간을 나노초 단위로 나타냅니다.


##### `stats.ctimeNs`[#](https://nodejs.org/docs/latest/api/fs.html#statsctimens)

추가된 버전: v12.10.0

-   [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 값은 `bigint: true`를 메서드에 전달하여 객체를 생성할 때만 존재합니다. 파일 상태가 마지막으로 변경된 시점을 POSIX Epoch 기준 나노초 단위로 나타낸 타임스탬프입니다.


##### `stats.birthtimeNs`[#](https://nodejs.org/docs/latest/api/fs.html#statsbirthtimens)

추가된 버전: v12.10.0

-   [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

이 속성은 `bigint: true` 옵션을 메서드에 전달했을 때만 존재합니다. 이 값은 파일의 생성 시간을 POSIX Epoch(1970년 1월 1일 00:00:00 UTC) 이후의 나노초 단위로 나타낸 타임스탬프입니다.


##### `stats.atime`[#](https://nodejs.org/docs/latest/api/fs.html#statsatime)

추가된 버전: v0.11.13

- [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

이 파일이 마지막으로 접근된 시간을 나타내는 타임스탬프입니다.


##### `stats.mtime`[#](https://nodejs.org/docs/latest/api/fs.html#statsmtime)

추가된 버전: v0.11.13

- [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

이 파일이 마지막으로 수정된 시간을 나타내는 타임스탬프입니다.


##### `stats.ctime`[#](https://nodejs.org/docs/latest/api/fs.html#statsctime)

추가된 버전: v0.11.13

- [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

파일 상태가 마지막으로 변경된 시간을 나타내는 타임스탬프입니다.


##### `stats.birthtime`[#](https://nodejs.org/docs/latest/api/fs.html#statsbirthtime)

추가된 버전: v0.11.13

- [`<Date>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

이 파일의 생성 시간을 나타내는 타임스탬프입니다.


##### Stat 시간 값

`atimeMs`, `mtimeMs`, `ctimeMs`, `birthtimeMs` 속성은 해당 시간을 밀리초 단위로 나타내는 숫자 값입니다. 이 값들의 정밀도는 플랫폼에 따라 다릅니다. 객체를 생성하는 메서드에 `bigint: true`를 전달하면, 이 속성들은 [bigint](https://tc39.github.io/proposal-bigint)로 설정됩니다. 그렇지 않으면 [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 타입으로 설정됩니다.

`atimeNs`, `mtimeNs`, `ctimeNs`, `birthtimeNs` 속성은 해당 시간을 나노초 단위로 나타내는 [bigint](https://tc39.github.io/proposal-bigint) 값입니다. 이 속성들은 객체를 생성하는 메서드에 `bigint: true`를 전달했을 때만 존재합니다. 이 값들의 정밀도 역시 플랫폼에 따라 다릅니다.

`atime`, `mtime`, `ctime`, `birthtime`은 각각의 시간을 [`Date`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) 객체로 표현한 것입니다. `Date`와 숫자 값은 서로 연결되어 있지 않습니다. 새로운 숫자 값을 할당하거나 `Date` 값을 변경해도, 이에 대응하는 다른 표현에는 반영되지 않습니다.

stat 객체의 시간 값은 다음과 같은 의미를 가집니다:

- **`atime` "접근 시간"**: 파일 데이터가 마지막으로 접근된 시간입니다. [`mknod(2)`](http://man7.org/linux/man-pages/man2/mknod.2.html), [`utimes(2)`](http://man7.org/linux/man-pages/man2/utimes.2.html), [`read(2)`](http://man7.org/linux/man-pages/man2/read.2.html) 시스템 호출에 의해 변경됩니다.
- **`mtime` "수정 시간"**: 파일 데이터가 마지막으로 수정된 시간입니다. [`mknod(2)`](http://man7.org/linux/man-pages/man2/mknod.2.html), [`utimes(2)`](http://man7.org/linux/man-pages/man2/utimes.2.html), [`write(2)`](http://man7.org/linux/man-pages/man2/write.2.html) 시스템 호출에 의해 변경됩니다.
- **`ctime` "변경 시간"**: 파일 상태가 마지막으로 변경된 시간입니다 (inode 데이터 수정). [`chmod(2)`](http://man7.org/linux/man-pages/man2/chmod.2.html), [`chown(2)`](http://man7.org/linux/man-pages/man2/chown.2.html), [`link(2)`](http://man7.org/linux/man-pages/man2/link.2.html), [`mknod(2)`](http://man7.org/linux/man-pages/man2/mknod.2.html), [`rename(2)`](http://man7.org/linux/man-pages/man2/rename.2.html), [`unlink(2)`](http://man7.org/linux/man-pages/man2/unlink.2.html), [`utimes(2)`](http://man7.org/linux/man-pages/man2/utimes.2.html), [`read(2)`](http://man7.org/linux/man-pages/man2/read.2.html), [`write(2)`](http://man7.org/linux/man-pages/man2/write.2.html) 시스템 호출에 의해 변경됩니다.
- **`birthtime` "생성 시간"**: 파일이 생성된 시간입니다. 파일이 생성될 때 한 번 설정됩니다. 생성 시간을 지원하지 않는 파일 시스템에서는 이 필드가 `ctime` 또는 `1970-01-01T00:00Z` (즉, Unix epoch 타임스탬프 `0`)를 가질 수 있습니다. 이 경우, 이 값은 `atime`이나 `mtime`보다 클 수 있습니다. Darwin 및 기타 FreeBSD 변종에서는 [`utimes(2)`](http://man7.org/linux/man-pages/man2/utimes.2.html) 시스템 호출을 사용해 `atime`을 현재 `birthtime`보다 이전 값으로 명시적으로 설정할 경우에도 이 값이 설정됩니다.

Node.js 0.12 이전 버전에서는 Windows 시스템에서 `ctime`이 `birthtime`을 나타냈습니다. 0.12 버전부터 `ctime`은 "생성 시간"이 아니며, Unix 시스템에서는 애초에 그런 적이 없습니다.


#### 클래스: `fs.StatFs`[#](https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs)

추가된 버전: v19.6.0, v18.15.0

마운트된 파일 시스템에 대한 정보를 제공합니다.

[`fs.statfs()`](https://nodejs.org/docs/latest/api/fs.html#fsstatfspath-options-callback)와 그 동기 버전에서 반환된 객체는 이 타입입니다. 이 메서드에 전달된 `options`의 `bigint`가 `true`인 경우, 숫자 값은 `number` 대신 `bigint`로 반환됩니다.

```console
StatFs { type: 1397114950, bsize: 4096, blocks: 121938943, bfree: 61058895, bavail: 61058895, files: 999, ffree: 1000000 }
```

`bigint` 버전:

```console
StatFs { type: 1397114950n, bsize: 4096n, blocks: 121938943n, bfree: 61058895n, bavail: 61058895n, files: 999n, ffree: 1000000n }
```


##### `statfs.bavail`[#](https://nodejs.org/docs/latest/api/fs.html#statfsbavail)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

일반 사용자가 사용할 수 있는 여유 블록 수를 나타냅니다.


##### `statfs.bfree`[#](https://nodejs.org/docs/latest/api/fs.html#statfsbfree)

추가된 버전: v19.6.0, v18.15.0

- [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템에서 사용 가능한 블록 수를 나타냅니다.


##### `statfs.blocks`[#](https://nodejs.org/docs/latest/api/fs.html#statfsblocks)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템의 전체 데이터 블록 수를 나타냅니다.


##### `statfs.bsize`[#](https://nodejs.org/docs/latest/api/fs.html#statfsbsize)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

최적의 전송 블록 크기를 나타냅니다.


##### `statfs.ffree`[#](https://nodejs.org/docs/latest/api/fs.html#statfsffree)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템에서 사용 가능한 파일 노드의 수를 나타냅니다.


##### `statfs.files`[#](https://nodejs.org/docs/latest/api/fs.html#statfsfiles)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템 내의 전체 파일 노드 수를 나타냅니다.


##### `statfs.type`[#](https://nodejs.org/docs/latest/api/fs.html#statfstype)

추가된 버전: v19.6.0, v18.15.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<bigint>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)

파일 시스템의 타입을 나타냅니다.


#### 클래스: `fs.WriteStream`[#](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)

추가된 버전: v0.1.93

-   [`<stream.Writable>`](https://nodejs.org/docs/latest/api/stream.html#class-streamwritable)을 상속받음

[`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)의 인스턴스는 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options) 함수를 사용하여 생성되고 반환됩니다.


##### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/fs.html#event-close_3)

추가된 버전: v0.1.93

[`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)의 기본 파일 디스크립터가 닫힐 때 발생합니다.


##### 이벤트: `'open'`[#](https://nodejs.org/docs/latest/api/fs.html#event-open_1)

추가된 버전: v0.1.93

-   `fd` [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)에서 사용하는 정수형 파일 디스크립터.

[`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)의 파일이 열릴 때 발생합니다.


##### 이벤트: `'ready'`[#](https://nodejs.org/docs/latest/api/fs.html#event-ready_1)

추가된 버전: v9.11.0

[`<fs.WriteStream>`](https://nodejs.org/docs/latest/api/fs.html#class-fswritestream)이 사용 준비가 되었을 때 발생합니다.

`'open'` 이벤트 직후에 실행됩니다.


##### `writeStream.bytesWritten`[#](https://nodejs.org/docs/latest/api/fs.html#writestreambyteswritten)

추가된 버전: v0.4.7

지금까지 기록된 바이트 수를 나타냅니다. 아직 기록 대기 중인 데이터는 포함되지 않습니다.


##### `writeStream.close([callback])`[#](https://nodejs.org/docs/latest/api/fs.html#writestreamclosecallback)

추가된 버전: v0.9.4

-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
    -   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

`writeStream`을 닫습니다. 선택적으로 `writeStream`이 닫힌 후 실행될 콜백 함수를 인자로 받을 수 있습니다.


##### `writeStream.path`[#](https://nodejs.org/docs/latest/api/fs.html#writestreampath)

추가된 버전: v0.1.93

이 속성은 [`fs.createWriteStream()`](https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options) 함수의 첫 번째 인자로 지정된 파일의 경로를 나타냅니다. 만약 `path`가 문자열로 전달되었다면, `writeStream.path`는 문자열이 됩니다. 만약 `path`가 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)로 전달되었다면, `writeStream.path`는 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)가 됩니다.


##### `writeStream.pending`[#](https://nodejs.org/docs/latest/api/fs.html#writestreampending)

추가된 버전: v11.2.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

이 속성은 파일이 아직 열리지 않은 상태, 즉 `'ready'` 이벤트가 발생하기 전에 `true` 값을 가집니다.


#### `fs.constants`[#](https://nodejs.org/docs/latest/api/fs.html#fsconstants)

-   [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

파일 시스템 작업에 자주 사용되는 상수들을 담고 있는 객체를 반환합니다.


##### FS 상수[#](https://nodejs.org/docs/latest/api/fs.html#fs-constants)

다음 상수들은 `fs.constants`와 `fsPromises.constants`에서 내보내집니다.

모든 상수가 모든 운영체제에서 사용 가능한 것은 아닙니다. 특히 Windows에서는 POSIX 관련 정의가 많이 제공되지 않으므로, 이식성이 중요한 애플리케이션에서는 사용 전에 해당 상수의 존재 여부를 확인하는 것이 좋습니다.

여러 상수를 함께 사용하려면 비트 OR(`|`) 연산자를 사용하세요.

예제:

```js
import { open, constants } from 'node:fs';
const { O_RDWR, O_CREAT, O_EXCL } = constants;

open('/path/to/my/file', O_RDWR | O_CREAT | O_EXCL, (err, fd) => {
  // ...
});
```

###### 파일 접근 상수[#](https://nodejs.org/docs/latest/api/fs.html#file-access-constants)

다음 상수들은 [`fsPromises.access()`](https://nodejs.org/docs/latest/api/fs.html#fspromisesaccesspath-mode), [`fs.access()`](https://nodejs.org/docs/latest/api/fs.html#fsaccesspath-mode-callback), [`fs.accessSync()`](https://nodejs.org/docs/latest/api/fs.html#fsaccesssyncpath-mode)의 `mode` 매개변수로 사용됩니다.

| 상수 | 설명 |
| --- | --- |
| `F_OK` | 파일이 호출 프로세스에게 보이는지 여부를 나타내는 플래그. 파일 존재 여부를 확인하는 데 유용하지만, `rwx` 권한에 대해서는 아무런 정보를 제공하지 않습니다. `mode`가 지정되지 않았을 때 기본값입니다. |
| `R_OK` | 파일이 호출 프로세스에 의해 읽을 수 있는지 여부를 나타내는 플래그. |
| `W_OK` | 파일이 호출 프로세스에 의해 쓸 수 있는지 여부를 나타내는 플래그. |
| `X_OK` | 파일이 호출 프로세스에 의해 실행될 수 있는지 여부를 나타내는 플래그. Windows에서는 아무런 효과가 없으며(`fs.constants.F_OK`와 동일하게 동작), 파일 존재 여부만 확인합니다. |

이 정의들은 Windows에서도 사용 가능합니다.

###### 파일 복사 상수[#](https://nodejs.org/docs/latest/api/fs.html#file-copy-constants)

다음 상수들은 [`fs.copyFile()`](https://nodejs.org/docs/latest/api/fs.html#fscopyfilesrc-dest-mode-callback)과 함께 사용됩니다.

| 상수 | 설명 |
| --- | --- |
| `COPYFILE_EXCL` | 이 플래그가 설정되면, 대상 경로가 이미 존재할 경우 복사 작업이 실패합니다. |
| `COPYFILE_FICLONE` | 이 플래그가 설정되면, 복사 작업은 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면 대체 복사 메커니즘이 사용됩니다. |
| `COPYFILE_FICLONE_FORCE` | 이 플래그가 설정되면, 복사 작업은 copy-on-write reflink를 생성하려고 시도합니다. 플랫폼이 copy-on-write를 지원하지 않으면 작업이 실패합니다. |

이 정의들은 Windows에서도 사용 가능합니다.

###### 파일 열기 상수[#](https://nodejs.org/docs/latest/api/fs.html#file-open-constants)

다음 상수들은 `fs.open()`과 함께 사용됩니다.

| 상수 | 설명 |
| --- | --- |
| `O_RDONLY` | 파일을 읽기 전용으로 열기 위한 플래그. |
| `O_WRONLY` | 파일을 쓰기 전용으로 열기 위한 플래그. |
| `O_RDWR` | 파일을 읽기와 쓰기 모두 가능하게 열기 위한 플래그. |
| `O_CREAT` | 파일이 존재하지 않을 경우 생성하기 위한 플래그. |
| `O_EXCL` | `O_CREAT` 플래그가 설정된 상태에서 파일이 이미 존재할 경우 열기 작업이 실패하도록 하는 플래그. |
| `O_NOCTTY` | 경로가 터미널 장치를 가리킬 경우, 해당 터미널이 프로세스의 제어 터미널이 되지 않도록 하는 플래그. |
| `O_TRUNC` | 파일이 존재하고 일반 파일이며 쓰기 접근으로 성공적으로 열렸을 경우, 파일 길이를 0으로 자르는 플래그. |
| `O_APPEND` | 데이터를 파일 끝에 추가하기 위한 플래그. |
| `O_DIRECTORY` | 경로가 디렉토리가 아닐 경우 열기 작업이 실패하도록 하는 플래그. |
| `O_NOATIME` | 파일 시스템 읽기 접근 시 파일의 `atime` 정보가 업데이트되지 않도록 하는 플래그. Linux 운영체제에서만 사용 가능합니다. |
| `O_NOFOLLOW` | 경로가 심볼릭 링크일 경우 열기 작업이 실패하도록 하는 플래그. |
| `O_SYNC` | 파일이 쓰기 작업 시 파일 무결성을 기다리는 동기화된 I/O로 열리도록 하는 플래그. |
| `O_DSYNC` | 파일이 쓰기 작업 시 데이터 무결성을 기다리는 동기화된 I/O로 열리도록 하는 플래그. |
| `O_SYMLINK` | 심볼릭 링크가 가리키는 리소스 대신 심볼릭 링크 자체를 열기 위한 플래그. |
| `O_DIRECT` | 파일 I/O의 캐싱 효과를 최소화하려고 시도하는 플래그. |
| `O_NONBLOCK` | 가능한 경우 파일을 논블로킹 모드로 열기 위한 플래그. |
| `UV_FS_O_FILEMAP` | 파일 접근 시 메모리 파일 매핑을 사용하는 플래그. Windows 운영체제에서만 사용 가능하며, 다른 운영체제에서는 무시됩니다. |

Windows에서는 `O_APPEND`, `O_CREAT`, `O_EXCL`, `O_RDONLY`, `O_RDWR`, `O_TRUNC`, `O_WRONLY`, `UV_FS_O_FILEMAP`만 사용 가능합니다.

###### 파일 타입 상수[#](https://nodejs.org/docs/latest/api/fs.html#file-type-constants)

다음 상수들은 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 `mode` 속성과 함께 사용되어 파일 타입을 결정합니다.

| 상수 | 설명 |
| --- | --- |
| `S_IFMT` | 파일 타입 코드를 추출하기 위한 비트 마스크. |
| `S_IFREG` | 일반 파일을 나타내는 파일 타입 상수. |
| `S_IFDIR` | 디렉토리를 나타내는 파일 타입 상수. |
| `S_IFCHR` | 문자 지향 장치 파일을 나타내는 파일 타입 상수. |
| `S_IFBLK` | 블록 지향 장치 파일을 나타내는 파일 타입 상수. |
| `S_IFIFO` | FIFO/파이프를 나타내는 파일 타입 상수. |
| `S_IFLNK` | 심볼릭 링크를 나타내는 파일 타입 상수. |
| `S_IFSOCK` | 소켓을 나타내는 파일 타입 상수. |

Windows에서는 `S_IFCHR`, `S_IFDIR`, `S_IFLNK`, `S_IFMT`, `S_IFREG`만 사용 가능합니다.

###### 파일 모드 상수[#](https://nodejs.org/docs/latest/api/fs.html#file-mode-constants)

다음 상수들은 [`<fs.Stats>`](https://nodejs.org/docs/latest/api/fs.html#class-fsstats) 객체의 `mode` 속성과 함께 사용되어 파일의 접근 권한을 결정합니다.

| 상수 | 설명 |
| --- | --- |
| `S_IRWXU` | 소유자가 읽기, 쓰기, 실행 권한을 가짐을 나타내는 파일 모드. |
| `S_IRUSR` | 소유자가 읽기 권한을 가짐을 나타내는 파일 모드. |
| `S_IWUSR` | 소유자가 쓰기 권한을 가짐을 나타내는 파일 모드. |
| `S_IXUSR` | 소유자가 실행 권한을 가짐을 나타내는 파일 모드. |
| `S_IRWXG` | 그룹이 읽기, 쓰기, 실행 권한을 가짐을 나타내는 파일 모드. |
| `S_IRGRP` | 그룹이 읽기 권한을 가짐을 나타내는 파일 모드. |
| `S_IWGRP` | 그룹이 쓰기 권한을 가짐을 나타내는 파일 모드. |
| `S_IXGRP` | 그룹이 실행 권한을 가짐을 나타내는 파일 모드. |
| `S_IRWXO` | 다른 사용자가 읽기, 쓰기, 실행 권한을 가짐을 나타내는 파일 모드. |
| `S_IROTH` | 다른 사용자가 읽기 권한을 가짐을 나타내는 파일 모드. |
| `S_IWOTH` | 다른 사용자가 쓰기 권한을 가짐을 나타내는 파일 모드. |
| `S_IXOTH` | 다른 사용자가 실행 권한을 가짐을 나타내는 파일 모드. |

Windows에서는 `S_IRUSR`와 `S_IWUSR`만 사용 가능합니다.


### Notes[#](https://nodejs.org/docs/latest/api/fs.html#notes)





#### 콜백과 Promise 기반 연산의 순서 보장

Node.js에서 콜백이나 Promise 기반 메서드를 사용할 때, 내부 스레드 풀에서 비동기적으로 실행되기 때문에 연산 순서가 보장되지 않습니다.

예를 들어, 아래 코드는 `fs.stat()` 연산이 `fs.rename()` 연산보다 먼저 완료될 수 있어 오류가 발생하기 쉽습니다:

```js
const fs = require('node:fs');

fs.rename('/tmp/hello', '/tmp/world', (err) => {
    if (err) throw err;
    console.log('renamed complete');
});

fs.stat('/tmp/world', (err, stats) => {
    if (err) throw err;
    console.log(`stats: ${JSON.stringify(stats)}`);
});
```

이 문제를 해결하려면, 한 연산의 결과를 기다린 후 다음 연산을 실행해야 합니다. Promise를 사용할 경우 다음과 같이 작성할 수 있습니다:

```js
import { rename, stat } from 'node:fs/promises';

const oldPath = '/tmp/hello';
const newPath = '/tmp/world';

try {
    await rename(oldPath, newPath);
    const stats = await stat(newPath);
    console.log(`stats: ${JSON.stringify(stats)}`);
} catch (error) {
    console.error('there was an error:', error.message);
}
```

콜백 API를 사용할 때는 `fs.stat()` 호출을 `fs.rename()`의 콜백 안으로 이동시켜야 합니다:

```js
import { rename, stat } from 'node:fs';

rename('/tmp/hello', '/tmp/world', (err) => {
    if (err) throw err;
    stat('/tmp/world', (err, stats) => {
        if (err) throw err;
        console.log(`stats: ${JSON.stringify(stats)}`);
    });
});
```


#### 파일 경로

대부분의 `fs` 연산은 파일 경로를 받아들입니다. 이 경로는 문자열, [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer), 또는 `file:` 프로토콜을 사용한 [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 객체 형태로 지정할 수 있습니다.


##### 문자열 경로

문자열 경로는 파일의 절대 경로나 상대 경로를 식별하는 UTF-8 문자 시퀀스로 해석됩니다. 상대 경로는 `process.cwd()`를 호출하여 결정된 현재 작업 디렉토리를 기준으로 해석됩니다.

POSIX 시스템에서 절대 경로를 사용한 예제:

```js
import { open } from 'node:fs/promises';

let fd;
try {
  fd = await open('/open/some/file.txt', 'r');
  // 파일로 작업 수행
} finally {
  await fd?.close();
}
```

POSIX 시스템에서 상대 경로를 사용한 예제 (`process.cwd()` 기준):

```js
import { open } from 'node:fs/promises';

let fd;
try {
  fd = await open('file.txt', 'r');
  // 파일로 작업 수행
} finally {
  await fd?.close();
}
```


##### 파일 URL 경로

추가된 버전: v7.6.0

대부분의 `node:fs` 모듈 함수에서 `path` 또는 `filename` 인자를 `file:` 프로토콜을 사용한 [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 객체로 전달할 수 있습니다.

```js
import { readFileSync } from 'node:fs';
readFileSync(new URL('file:///tmp/hello'));
```

`file:` URL은 항상 절대 경로입니다.

###### 플랫폼별 고려 사항

Windows에서는 호스트 이름이 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)이 UNC 경로로 변환되고, 드라이브 문자가 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)은 로컬 절대 경로로 변환됩니다. 호스트 이름과 드라이브 문자가 없는 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)은 오류를 발생시킵니다:

```js
import { readFileSync } from 'node:fs';

// Windows에서:
// - 호스트 이름이 포함된 WHATWG 파일 URL은 UNC 경로로 변환
// file://hostname/p/a/t/h/file => \\hostname\p\a\t\h\file
readFileSync(new URL('file://hostname/p/a/t/h/file'));

// - 드라이브 문자가 포함된 WHATWG 파일 URL은 절대 경로로 변환
// file:///C:/tmp/hello => C:\tmp\hello
readFileSync(new URL('file:///C:/tmp/hello'));

// - 호스트 이름이 없고 드라이브 문자가 없는 WHATWG 파일 URL은 오류 발생
readFileSync(new URL('file:///notdriveletter/p/a/t/h/file'));
readFileSync(new URL('file:///c/p/a/t/h/file')); // TypeError [ERR_INVALID_FILE_URL_PATH]: File URL path must be absolute
```

드라이브 문자가 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)은 드라이브 문자 뒤에 `:`를 구분자로 사용해야 합니다. 다른 구분자를 사용하면 오류가 발생합니다.

다른 플랫폼에서는 호스트 이름이 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)이 지원되지 않으며 오류가 발생합니다:

```js
import { readFileSync } from 'node:fs';

// 다른 플랫폼에서:
// - 호스트 이름이 포함된 WHATWG 파일 URL은 지원되지 않음
// file://hostname/p/a/t/h/file => 오류 발생
readFileSync(new URL('file://hostname/p/a/t/h/file')); // TypeError [ERR_INVALID_FILE_URL_PATH]: must be absolute

// - WHATWG 파일 URL은 절대 경로로 변환
// file:///tmp/hello => /tmp/hello
readFileSync(new URL('file:///tmp/hello'));
```

인코딩된 슬래시 문자가 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)은 모든 플랫폼에서 오류를 발생시킵니다:

```js
import { readFileSync } from 'node:fs';

// Windows에서
readFileSync(new URL('file:///C:/p/a/t/h/%2F'));
readFileSync(new URL('file:///C:/p/a/t/h/%2f')); /* TypeError [ERR_INVALID_FILE_URL_PATH]: File URL path must not include encoded \ or / characters */

// POSIX에서
readFileSync(new URL('file:///p/a/t/h/%2F'));
readFileSync(new URL('file:///p/a/t/h/%2f')); /* TypeError [ERR_INVALID_FILE_URL_PATH]: File URL path must not include encoded / characters */
```

Windows에서는 인코딩된 백슬래시가 포함된 `file:` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)이 오류를 발생시킵니다:

```js
import { readFileSync } from 'node:fs';

// Windows에서
readFileSync(new URL('file:///C:/path/%5C'));
readFileSync(new URL('file:///C:/path/%5c')); /* TypeError [ERR_INVALID_FILE_URL_PATH]: File URL path must not include encoded \ or / characters */
```


##### Buffer 경로[#](https://nodejs.org/docs/latest/api/fs.html#buffer-paths)

[`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer)를 사용하여 지정된 경로는 주로 파일 경로를 불투명한 바이트 시퀀스로 처리하는 특정 POSIX 운영 체제에서 유용합니다. 이러한 시스템에서는 단일 파일 경로가 여러 문자 인코딩을 사용하는 하위 시퀀스를 포함할 수 있습니다. 문자열 경로와 마찬가지로 [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) 경로는 상대적이거나 절대적일 수 있습니다.

POSIX에서 절대 경로를 사용한 예제:

```js
import { open } from 'node:fs/promises';
import { Buffer } from 'node:buffer';

let fd;
try {
    fd = await open(Buffer.from('/open/some/file.txt'), 'r');
    // 파일로 작업 수행
} finally {
    await fd?.close();
}
```


##### 윈도우에서 드라이브별 작업 디렉터리

윈도우에서 Node.js는 드라이브별 작업 디렉터리 개념을 따릅니다. 이 동작은 백슬래시 없이 드라이브 경로를 사용할 때 확인할 수 있습니다. 예를 들어, `fs.readdirSync('C:\\')`는 `fs.readdirSync('C:')`와 다른 결과를 반환할 수 있습니다. 더 자세한 정보는 [이 MSDN 페이지](https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file#fully-qualified-vs-relative-paths)를 참고하세요.


#### 파일 디스크립터

POSIX 시스템에서는 각 프로세스마다 커널이 현재 열려 있는 파일과 리소스의 테이블을 유지합니다. 각 열린 파일에는 *파일 디스크립터*라는 간단한 숫자 식별자가 할당됩니다. 시스템 수준에서 모든 파일 시스템 작업은 이러한 파일 디스크립터를 사용하여 각 특정 파일을 식별하고 추적합니다. 윈도우 시스템은 리소스를 추적하기 위해 다른 방식을 사용하지만 개념적으로는 유사합니다. Node.js는 사용자를 위해 운영체제 간의 차이를 추상화하고 모든 열린 파일에 숫자 파일 디스크립터를 할당합니다.

콜백 기반의 `fs.open()`과 동기식 `fs.openSync()` 메서드는 파일을 열고 새로운 파일 디스크립터를 할당합니다. 파일 디스크립터가 할당되면, 이를 사용하여 파일에서 데이터를 읽거나, 데이터를 쓰거나, 파일에 대한 정보를 요청할 수 있습니다.

운영체제는 동시에 열 수 있는 파일 디스크립터의 수를 제한하므로, 작업이 완료되면 디스크립터를 닫는 것이 중요합니다. 이를 지키지 않으면 메모리 누수가 발생하여 결국 애플리케이션이 중단될 수 있습니다.

```js
import { open, close, fstat } from 'node:fs';

function closeFd(fd) {
    close(fd, (err) => {
        if (err) throw err;
    });
}

open('/open/some/file.txt', 'r', (err, fd) => {
    if (err) throw err;
    try {
        fstat(fd, (err, stat) => {
            if (err) {
                closeFd(fd);
                throw err;
            }
            // stat 사용
            closeFd(fd);
        });
    } catch (err) {
        closeFd(fd);
        throw err;
    }
});
```

Promise 기반 API는 숫자 파일 디스크립터 대신 [`<FileHandle>`](https://nodejs.org/docs/latest/api/fs.html#class-filehandle) 객체를 사용합니다. 이 객체는 시스템이 리소스 누수를 방지하기 위해 더 잘 관리합니다. 그러나 작업이 완료되면 여전히 닫아야 합니다:

```js
import { open } from 'node:fs/promises';

let file;
try {
    file = await open('/open/some/file.txt', 'r');
    const stat = await file.stat();
    // stat 사용
} finally {
    await file.close();
}
```


#### 스레드풀 사용법

모든 콜백과 Promise 기반의 파일 시스템 API(`fs.FSWatcher()` 제외)는 libuv의 스레드풀을 사용합니다. 이는 일부 애플리케이션에서 예상치 못한 성능 저하를 일으킬 수 있습니다. 더 자세한 정보는 [`UV_THREADPOOL_SIZE`](https://nodejs.org/docs/latest/api/cli.html#uv_threadpool_sizesize) 문서를 참고하세요.


#### 파일 시스템 플래그

`flag` 옵션에 문자열을 사용할 수 있는 곳에서 다음 플래그들을 활용할 수 있습니다.

- `'a'`: 파일을 추가 모드로 엽니다. 파일이 없으면 생성합니다.
- `'ax'`: `'a'`와 같지만, 경로가 이미 존재하면 실패합니다.
- `'a+'`: 파일을 읽기 및 추가 모드로 엽니다. 파일이 없으면 생성합니다.
- `'ax+'`: `'a+'`와 같지만, 경로가 이미 존재하면 실패합니다.
- `'as'`: 파일을 동기 모드로 추가하기 위해 엽니다. 파일이 없으면 생성합니다.
- `'as+'`: 파일을 동기 모드로 읽기 및 추가하기 위해 엽니다. 파일이 없으면 생성합니다.
- `'r'`: 파일을 읽기 모드로 엽니다. 파일이 없으면 예외가 발생합니다.
- `'rs'`: 파일을 동기 모드로 읽기 위해 엽니다. 파일이 없으면 예외가 발생합니다.
- `'r+'`: 파일을 읽기 및 쓰기 모드로 엽니다. 파일이 없으면 예외가 발생합니다.
- `'rs+'`: 파일을 동기 모드로 읽기 및 쓰기 위해 엽니다. 운영체제가 로컬 파일 시스템 캐시를 우회하도록 지시합니다.

  이 플래그는 NFS 마운트에서 파일을 열 때 유용하며, 잠재적으로 오래된 로컬 캐시를 건너뛸 수 있습니다. I/O 성능에 큰 영향을 미치므로 필요할 때만 사용하는 것이 좋습니다.

  이 플래그는 `fs.open()`이나 `fsPromises.open()`을 동기 블로킹 호출로 바꾸지 않습니다. 동기 작업이 필요하다면 `fs.openSync()`와 같은 함수를 사용해야 합니다.

- `'w'`: 파일을 쓰기 모드로 엽니다. 파일이 없으면 생성하고, 있으면 내용을 비웁니다.
- `'wx'`: `'w'`와 같지만, 경로가 이미 존재하면 실패합니다.
- `'w+'`: 파일을 읽기 및 쓰기 모드로 엽니다. 파일이 없으면 생성하고, 있으면 내용을 비웁니다.
- `'wx+'`: `'w+'`와 같지만, 경로가 이미 존재하면 실패합니다.

`flag`는 [`open(2)`](http://man7.org/linux/man-pages/man2/open.2.html)에 문서화된 대로 숫자로도 사용할 수 있습니다. 일반적으로 사용되는 상수는 `fs.constants`에서 확인할 수 있습니다. 윈도우에서는 플래그가 해당하는 값으로 변환됩니다. 예를 들어, `O_WRONLY`는 `FILE_GENERIC_WRITE`로, `O_EXCL|O_CREAT`는 `CREATE_NEW`로 변환됩니다.

`'x'` 플래그(`O_EXCL` 플래그)는 경로가 이미 존재하면 오류를 반환합니다. POSIX에서 경로가 심볼릭 링크인 경우, `O_EXCL`을 사용하면 링크가 존재하지 않는 경로를 가리키더라도 오류가 발생합니다. 이 플래그는 네트워크 파일 시스템에서는 작동하지 않을 수 있습니다.

리눅스에서는 추가 모드로 파일을 열 때 위치 기반 쓰기가 작동하지 않습니다. 커널은 위치 인수를 무시하고 항상 파일 끝에 데이터를 추가합니다.

파일을 교체하지 않고 수정하려면 `flag` 옵션을 기본값인 `'w'` 대신 `'r+'`로 설정해야 합니다.

일부 플래그의 동작은 플랫폼에 따라 다릅니다. 예를 들어, macOS와 리눅스에서 `'a+'` 플래그로 디렉토리를 열면 오류가 발생합니다. 반면, 윈도우와 FreeBSD에서는 파일 디스크립터나 `FileHandle`이 반환됩니다.

```js
// macOS와 리눅스
fs.open('', 'a+', (err, fd) => {
  // => [Error: EISDIR: illegal operation on a directory, open ]
});

// 윈도우와 FreeBSD
fs.open('', 'a+', (err, fd) => {
  // => null, 
});
```

윈도우에서는 `'w'` 플래그를 사용하여 기존의 숨김 파일을 열면(`fs.open()`, `fs.writeFile()`, `fsPromises.open()`을 통해) `EPERM` 오류가 발생합니다. 기존의 숨김 파일은 `'r+'` 플래그를 사용하여 쓰기 모드로 열 수 있습니다.

`fs.ftruncate()`나 `filehandle.truncate()`를 호출하여 파일 내용을 초기화할 수 있습니다.


