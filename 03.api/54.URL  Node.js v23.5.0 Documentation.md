# Table of Contents

- [URL](#url)
    - [URL 문자열과 URL 객체](#url-문자열과-url-객체)
      - [URL을 구성 요소로 만들고 생성된 문자열 가져오기](#url을-구성-요소로-만들고-생성된-문자열-가져오기)
    - [The WHATWG URL API[#](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)](#the-whatwg-url-apihttpsnodejsorgdocslatestapiurlhtmlthe-whatwg-url-api)
      - [클래스: `URL`](#클래스-url)
        - [`new URL(input[, base])`](#new-urlinput-base)
    - [`url.hash`](#urlhash)
        - [`url.host`[#](https://nodejs.org/docs/latest/api/url.html#urlhost)](#urlhosthttpsnodejsorgdocslatestapiurlhtmlurlhost)
        - [`url.hostname`[#](https://nodejs.org/docs/latest/api/url.html#urlhostname)](#urlhostnamehttpsnodejsorgdocslatestapiurlhtmlurlhostname)
    - [`url.href`](#urlhref)
        - [`url.origin`[#](https://nodejs.org/docs/latest/api/url.html#urlorigin)](#urloriginhttpsnodejsorgdocslatestapiurlhtmlurlorigin)
        - [`url.password`[#](https://nodejs.org/docs/latest/api/url.html#urlpassword)](#urlpasswordhttpsnodejsorgdocslatestapiurlhtmlurlpassword)
        - [`url.pathname`[#](https://nodejs.org/docs/latest/api/url.html#urlpathname)](#urlpathnamehttpsnodejsorgdocslatestapiurlhtmlurlpathname)
    - [`url.port`](#urlport)
        - [`url.protocol`[#](https://nodejs.org/docs/latest/api/url.html#urlprotocol)](#urlprotocolhttpsnodejsorgdocslatestapiurlhtmlurlprotocol)
    - [`url.search`](#urlsearch)
    - [`url.searchParams`](#urlsearchparams)
        - [`url.username`[#](https://nodejs.org/docs/latest/api/url.html#urlusername)](#urlusernamehttpsnodejsorgdocslatestapiurlhtmlurlusername)
        - [`url.toString()`[#](https://nodejs.org/docs/latest/api/url.html#urltostring)](#urltostringhttpsnodejsorgdocslatestapiurlhtmlurltostring)
        - [`url.toJSON()`[#](https://nodejs.org/docs/latest/api/url.html#urltojson)](#urltojsonhttpsnodejsorgdocslatestapiurlhtmlurltojson)
        - [`URL.createObjectURL(blob)`[#](https://nodejs.org/docs/latest/api/url.html#urlcreateobjecturlblob)](#urlcreateobjecturlblobhttpsnodejsorgdocslatestapiurlhtmlurlcreateobjecturlblob)
        - [`URL.revokeObjectURL(id)`[#](https://nodejs.org/docs/latest/api/url.html#urlrevokeobjecturlid)](#urlrevokeobjecturlidhttpsnodejsorgdocslatestapiurlhtmlurlrevokeobjecturlid)
        - [`URL.canParse(input[, base])`[#](https://nodejs.org/docs/latest/api/url.html#urlcanparseinput-base)](#urlcanparseinput-basehttpsnodejsorgdocslatestapiurlhtmlurlcanparseinput-base)
        - [`URL.parse(input[, base])`[#](https://nodejs.org/docs/latest/api/url.html#urlparseinput-base)](#urlparseinput-basehttpsnodejsorgdocslatestapiurlhtmlurlparseinput-base)
      - [클래스: `URLSearchParams`](#클래스-urlsearchparams)
        - [`new URLSearchParams()`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparams)](#new-urlsearchparamshttpsnodejsorgdocslatestapiurlhtmlnew-urlsearchparams)
    - [`new URLSearchParams(string)`](#new-urlsearchparamsstring)
        - [`new URLSearchParams(obj)`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparamsobj)](#new-urlsearchparamsobjhttpsnodejsorgdocslatestapiurlhtmlnew-urlsearchparamsobj)
        - [`new URLSearchParams(iterable)`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparamsiterable)](#new-urlsearchparamsiterablehttpsnodejsorgdocslatestapiurlhtmlnew-urlsearchparamsiterable)
        - [`urlSearchParams.append(name, value)`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsappendname-value)](#urlsearchparamsappendname-valuehttpsnodejsorgdocslatestapiurlhtmlurlsearchparamsappendname-value)
        - [`urlSearchParams.entries()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsentries)](#urlsearchparamsentrieshttpsnodejsorgdocslatestapiurlhtmlurlsearchparamsentries)
    - [`urlSearchParams.forEach(fn[, thisArg])`](#urlsearchparamsforeachfn-thisarg)
    - [`urlSearchParams.get(name)`](#urlsearchparamsgetname)
    - [`urlSearchParams.getAll(name)`](#urlsearchparamsgetallname)
        - [`urlSearchParams.has(name[, value])`](#urlsearchparamshasname-value)
    - [`urlSearchParams.keys()`](#urlsearchparamskeys)
    - [`urlSearchParams.set(name, value)`](#urlsearchparamssetname-value)
        - [`urlSearchParams.size`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssize)](#urlsearchparamssizehttpsnodejsorgdocslatestapiurlhtmlurlsearchparamssize)
        - [`urlSearchParams.sort()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssort)](#urlsearchparamssorthttpsnodejsorgdocslatestapiurlhtmlurlsearchparamssort)
        - [`urlSearchParams.toString()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamstostring)](#urlsearchparamstostringhttpsnodejsorgdocslatestapiurlhtmlurlsearchparamstostring)
        - [`urlSearchParams.values()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsvalues)](#urlsearchparamsvalueshttpsnodejsorgdocslatestapiurlhtmlurlsearchparamsvalues)
        - [`urlSearchParams[Symbol.iterator]()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssymboliterator)](#urlsearchparamssymboliteratorhttpsnodejsorgdocslatestapiurlhtmlurlsearchparamssymboliterator)
      - [`url.domainToASCII(domain)`[#](https://nodejs.org/docs/latest/api/url.html#urldomaintoasciidomain)](#urldomaintoasciidomainhttpsnodejsorgdocslatestapiurlhtmlurldomaintoasciidomain)
      - [`url.domainToUnicode(domain)`](#urldomaintounicodedomain)
      - [`url.fileURLToPath(url[, options])`](#urlfileurltopathurl-options)
      - [`url.format(URL[, options])`[#](https://nodejs.org/docs/latest/api/url.html#urlformaturl-options)](#urlformaturl-optionshttpsnodejsorgdocslatestapiurlhtmlurlformaturl-options)
      - [`url.pathToFileURL(path[, options])`](#urlpathtofileurlpath-options)
      - [`url.urlToHttpOptions(url)`[#](https://nodejs.org/docs/latest/api/url.html#urlurltohttpoptionsurl)](#urlurltohttpoptionsurlhttpsnodejsorgdocslatestapiurlhtmlurlurltohttpoptionsurl)
    - [레거시 URL API[#](https://nodejs.org/docs/latest/api/url.html#legacy-url-api)](#레거시-url-apihttpsnodejsorgdocslatestapiurlhtmllegacy-url-api)
      - [레거시 `urlObject`[#](https://nodejs.org/docs/latest/api/url.html#legacy-urlobject)](#레거시-urlobjecthttpsnodejsorgdocslatestapiurlhtmllegacy-urlobject)
        - [`urlObject.hash`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthash)](#urlobjecthashhttpsnodejsorgdocslatestapiurlhtmlurlobjecthash)
        - [`urlObject.hostname`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthostname)](#urlobjecthostnamehttpsnodejsorgdocslatestapiurlhtmlurlobjecthostname)
        - [`urlObject.href`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthref)](#urlobjecthrefhttpsnodejsorgdocslatestapiurlhtmlurlobjecthref)
        - [`urlObject.path`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectpath)](#urlobjectpathhttpsnodejsorgdocslatestapiurlhtmlurlobjectpath)
        - [`urlObject.pathname`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectpathname)](#urlobjectpathnamehttpsnodejsorgdocslatestapiurlhtmlurlobjectpathname)
        - [`urlObject.protocol`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectprotocol)](#urlobjectprotocolhttpsnodejsorgdocslatestapiurlhtmlurlobjectprotocol)
      - [`url.format(urlObject)`[#](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject)](#urlformaturlobjecthttpsnodejsorgdocslatestapiurlhtmlurlformaturlobject)
      - [`url.parse(urlString[, parseQueryString[, slashesDenoteHost]])`[#](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)](#urlparseurlstring-parsequerystring-slashesdenotehosthttpsnodejsorgdocslatestapiurlhtmlurlparseurlstring-parsequerystring-slashesdenotehost)
      - [`url.resolve(from, to)`[#](https://nodejs.org/docs/latest/api/url.html#urlresolvefrom-to)](#urlresolvefrom-tohttpsnodejsorgdocslatestapiurlhtmlurlresolvefrom-to)
    - [URL에서의 퍼센트 인코딩](#url에서의-퍼센트-인코딩)
      - [레거시 API](#레거시-api)
      - [WHATWG API[#](https://nodejs.org/docs/latest/api/url.html#whatwg-api)](#whatwg-apihttpsnodejsorgdocslatestapiurlhtmlwhatwg-api)

# URL

**소스 코드:** [lib/url.js](https://github.com/nodejs/node/blob/v23.5.0/lib/url.js)

`node:url` 모듈은 URL 해석과 파싱을 위한 유틸리티를 제공합니다. 다음과 같이 사용할 수 있습니다:

```js
import url from 'node:url';
```


### URL 문자열과 URL 객체

URL 문자열은 여러 의미 있는 구성 요소를 포함하는 구조화된 문자열입니다. 이 문자열을 파싱하면 각 구성 요소에 대한 속성을 가진 URL 객체가 반환됩니다.

`node:url` 모듈은 URL을 다루기 위해 두 가지 API를 제공합니다. 하나는 Node.js에 특화된 레거시 API이고, 다른 하나는 웹 브라우저에서 사용하는 [WHATWG URL 표준](https://url.spec.whatwg.org/)을 구현한 새로운 API입니다.

아래는 WHATWG API와 레거시 API를 비교한 내용입니다. 위쪽은 URL `'https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'`를 레거시 `url.parse()`로 파싱했을 때 반환되는 객체의 속성입니다. 아래쪽은 WHATWG `URL` 객체의 속성입니다.

WHATWG URL의 `origin` 속성은 `protocol`과 `host`를 포함하지만, `username`이나 `password`는 포함하지 않습니다.

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────┐
│ href                                                                                          │
├──────────┬──┬─────────────────────┬────────────────────────┬───────────────────────────┬───────┤
│ protocol │  │ auth                │ host                   │ path                      │ hash  │
│          │  │                     ├─────────────────┬──────┼──────────┬────────────────┤       │
│          │  │                     │ hostname        │ port │ pathname │ search         │       │
│          │  │                     │                 │      │          ├─┬──────────────┤       │
│          │  │                     │                 │      │          │ │ query        │       │
│ " https: // user : pass @ sub.example.com : 8080 /p/a/t/h ? query=string #hash "               │
│          │  │                     │ hostname        │ port │          │ │              │       │
│          │  │                     ├─────────────────┴──────┤          │ │              │       │
│          │  │                     │ protocol               │          │ │              │       │
│          │  │                     │ username               │ password │ host           │       │
│          │  │                     ├──────────┴──┼──────────┴──────────┼────────────────┤       │
│          │  │                     │ origin      │                      │ origin         │       │
│          │  │                     │             │                      │ pathname       │ search │ hash │
├─────────────┴─────────────────────┴────────────────────────┴──────────┴────────────────┴───────┤
│ href                                                                                          │
└────────────────────────────────────────────────────────────────────────────────────────────────┘
(All spaces in the "" line should be ignored. They are purely for formatting.)
```

WHATWG API를 사용하여 URL 문자열을 파싱하는 방법:

```js
const myURL = new URL('https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash');
```

레거시 API를 사용하여 URL 문자열을 파싱하는 방법:

```js
import url from 'node:url';
const myURL = url.parse('https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash');
```


#### URL을 구성 요소로 만들고 생성된 문자열 가져오기

WHATWG URL을 구성 요소로 만들려면 프로퍼티 설정자나 템플릿 리터럴 문자열을 사용할 수 있습니다.

```js
const myURL = new URL('https://example.org');
myURL.pathname = '/a/b/c';
myURL.search = '?d=e';
myURL.hash = '#fgh';
```

```js
const pathname = '/a/b/c';
const search = '?d=e';
const hash = '#fgh';
const myURL = new URL(`https://example.org${pathname}${search}${hash}`);
```

생성된 URL 문자열을 가져오려면 `href` 프로퍼티 접근자를 사용합니다.

```js
console.log(myURL.href);
```


### The WHATWG URL API[#](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api)





#### 클래스: `URL`

브라우저와 호환되는 `URL` 클래스는 WHATWG URL 표준을 따라 구현되었습니다. [파싱된 URL 예제](https://url.spec.whatwg.org/#example-url-parsing)는 표준 문서에서 확인할 수 있습니다. `URL` 클래스는 전역 객체에서도 사용할 수 있습니다.

브라우저 관례에 따라, `URL` 객체의 모든 속성은 객체 자체의 데이터 속성이 아니라 클래스 프로토타입에 getter와 setter로 구현됩니다. 따라서 [레거시 `urlObject`](https://nodejs.org/docs/latest/api/url.html#legacy-urlobject)와 달리, `URL` 객체의 속성에 `delete` 키워드를 사용해도 (예: `delete myURL.protocol`, `delete myURL.pathname` 등) 아무런 효과가 없지만 여전히 `true`를 반환합니다.


##### `new URL(input[, base])`

- `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type): 파싱할 절대 또는 상대 URL. `input`이 상대 URL인 경우 `base`가 필수입니다. `input`이 절대 URL이면 `base`는 무시됩니다. `input`이 문자열이 아닌 경우, 먼저 문자열로 변환됩니다.
- `base` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type): `input`이 절대 URL이 아닌 경우, 이를 기준으로 해석할 기본 URL. `base`가 문자열이 아닌 경우, 먼저 문자열로 변환됩니다.

`input`을 `base`를 기준으로 파싱하여 새로운 `URL` 객체를 생성합니다. `base`가 문자열로 전달되면 `new URL(base)`와 동일하게 파싱됩니다.

```js
const myURL = new URL('/foo', 'https://example.org/'); // https://example.org/foo
```

URL 생성자는 전역 객체의 속성으로 접근할 수 있습니다. 또한 내장된 url 모듈에서 가져올 수도 있습니다.

```js
import { URL } from 'node:url'; 
console.log(URL === globalThis.URL); // 'true' 출력
```

`input` 또는 `base`가 유효한 URL이 아닌 경우 `TypeError`가 발생합니다. 주어진 값이 문자열로 강제 변환될 수 있도록 노력합니다. 예를 들어:

```js
const myURL = new URL({ toString: () => 'https://example.org/' }); // https://example.org/
```

`input`의 호스트 이름에 포함된 유니코드 문자는 [Punycode](https://tools.ietf.org/html/rfc5891#section-4.4) 알고리즘을 사용해 자동으로 ASCII로 변환됩니다.

```js
const myURL = new URL('https://測試'); // https://xn--g6w251d/
```

`input`이 절대 URL인지 미리 알 수 없고 `base`가 제공된 경우, `URL` 객체의 `origin`이 예상한 값인지 확인하는 것이 좋습니다.

```js
let myURL = new URL('http://Example.com/', 'https://example.org/'); // http://example.com/ 
myURL = new URL('https://Example.com/', 'https://example.org/'); // https://example.com/ 
myURL = new URL('foo://Example.com/', 'https://example.org/'); // foo://Example.com/ 
myURL = new URL('http:Example.com/', 'https://example.org/'); // http://example.com/ 
myURL = new URL('https:Example.com/', 'https://example.org/'); // https://example.org/Example.com/ 
myURL = new URL('foo:Example.com/', 'https://example.org/'); // foo:Example.com/
```


### `url.hash`

- **타입**: `<string>`

`url.hash`는 URL의 프래그먼트 부분을 가져오거나 설정합니다.

```js
const myURL = new URL('https://example.org/foo#bar');
console.log(myURL.hash); // #bar 출력
myURL.hash = 'baz';
console.log(myURL.href); // https://example.org/foo#baz 출력
```

`hash` 프로퍼티에 할당된 값에 포함된 유효하지 않은 URL 문자는 [퍼센트 인코딩](https://nodejs.org/docs/latest/api/url.html#percent-encoding-in-urls)됩니다. 이때 어떤 문자를 퍼센트 인코딩할지 선택하는 기준은 [`url.parse()`](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)와 [`url.format()`](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject) 메서드가 생성하는 결과와 다를 수 있습니다.


##### `url.host`[#](https://nodejs.org/docs/latest/api/url.html#urlhost)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 호스트 부분을 가져오거나 설정한다.

```js
const myURL = new URL('https://example.org:81/foo');
console.log(myURL.host); // example.org:81 출력
myURL.host = 'example.com:82';
console.log(myURL.href); // https://example.com:82/foo 출력
```

`host` 속성에 유효하지 않은 호스트 값을 할당하면 무시된다.


##### `url.hostname`[#](https://nodejs.org/docs/latest/api/url.html#urlhostname)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 호스트 이름 부분을 가져오거나 설정합니다. `url.host`와 `url.hostname`의 주요 차이점은 `url.hostname`이 포트를 포함하지 않는다는 점입니다.

```js
const myURL = new URL('https://example.org:81/foo');
console.log(myURL.hostname); // example.org 출력

// 호스트 이름을 설정해도 포트는 변경되지 않음
myURL.hostname = 'example.com';
console.log(myURL.href); // https://example.com:81/foo 출력

// 호스트 이름과 포트를 변경하려면 myURL.host 사용
myURL.host = 'example.org:82';
console.log(myURL.href); // https://example.org:82/foo 출력
```

`hostname` 속성에 유효하지 않은 호스트 이름 값을 할당하면 무시됩니다.


### `url.href`

- **[`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)**

`url.href`는 직렬화된 URL을 가져오거나 설정합니다.

```js
const myURL = new URL('https://example.org/foo');
console.log(myURL.href); // https://example.org/foo 출력
myURL.href = 'https://example.com/bar';
console.log(myURL.href); // https://example.com/bar 출력
```

`href` 속성의 값을 가져오는 것은 [`url.toString()`](https://nodejs.org/docs/latest/api/url.html#urltostring)을 호출하는 것과 동일합니다.

이 속성에 새로운 값을 설정하는 것은 [`new URL(value)`](https://nodejs.org/docs/latest/api/url.html#new-urlinput-base)를 사용해 새로운 `URL` 객체를 생성하는 것과 같습니다. 이때 `URL` 객체의 모든 속성이 수정됩니다.

만약 `href` 속성에 유효하지 않은 URL을 할당하면 `TypeError`가 발생합니다.


##### `url.origin`[#](https://nodejs.org/docs/latest/api/url.html#urlorigin)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 오리진을 읽기 전용으로 직렬화한 값을 반환합니다.

```js
const myURL = new URL('https://example.org/foo/bar?baz');
console.log(myURL.origin); // https://example.org 출력
```

```js
const idnURL = new URL('https://測試');
console.log(idnURL.origin); // https://xn--g6w251d 출력
console.log(idnURL.hostname); // xn--g6w251d 출력
```


##### `url.password`[#](https://nodejs.org/docs/latest/api/url.html#urlpassword)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 비밀번호 부분을 가져오거나 설정합니다.

```js
const myURL = new URL('https://abc:xyz@example.com');
console.log(myURL.password); // xyz 출력
myURL.password = '123';
console.log(myURL.href); // https://abc:123@example.com/ 출력
```

`password` 속성에 할당된 값에 포함된 유효하지 않은 URL 문자는 [퍼센트 인코딩](https://nodejs.org/docs/latest/api/url.html#percent-encoding-in-urls)됩니다. 퍼센트 인코딩할 문자를 선택하는 방식은 [`url.parse()`](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)와 [`url.format()`](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject) 메서드가 생성하는 결과와 다를 수 있습니다.


##### `url.pathname`[#](https://nodejs.org/docs/latest/api/url.html#urlpathname)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 경로 부분을 가져오거나 설정합니다.

```js
const myURL = new URL('https://example.org/abc/xyz?123');
console.log(myURL.pathname); // /abc/xyz 출력
myURL.pathname = '/abcdef';
console.log(myURL.href); // https://example.org/abcdef?123 출력
```

`pathname` 속성에 할당된 값에 포함된 유효하지 않은 URL 문자는 [퍼센트 인코딩](https://nodejs.org/docs/latest/api/url.html#percent-encoding-in-urls)됩니다. 퍼센트 인코딩할 문자를 선택하는 방식은 [`url.parse()`](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)와 [`url.format()`](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject) 메서드가 생성하는 결과와 다를 수 있습니다.


### `url.port`

- **타입**: `<string>`

`url.port`는 URL의 포트 부분을 가져오거나 설정하는 데 사용됩니다.

포트 값은 `0`부터 `65535` 사이의 숫자 또는 숫자를 포함한 문자열이 될 수 있습니다. `URL` 객체의 프로토콜에 따른 기본 포트로 값을 설정하면, `port` 값은 빈 문자열(`''`)이 됩니다.

포트 값이 빈 문자열일 경우, 포트는 프로토콜/스키마에 따라 결정됩니다:

| 프로토콜 | 포트 |
| --- | --- |
| "ftp" | 21 |
| "file" |  |
| "http" | 80 |
| "https" | 443 |
| "ws" | 80 |
| "wss" | 443 |

포트에 값을 할당할 때, 값은 먼저 `.toString()`을 사용해 문자열로 변환됩니다. 만약 해당 문자열이 유효하지 않지만 숫자로 시작한다면, 앞부분의 숫자가 `port`로 할당됩니다. 숫자가 위에서 언급한 범위를 벗어나면 무시됩니다.

```javascript
const myURL = new URL('https://example.org:8888');
console.log(myURL.port); // 8888 출력

// 기본 포트는 자동으로 빈 문자열로 변환됨
// (HTTPS 프로토콜의 기본 포트는 443)
myURL.port = '443';
console.log(myURL.port); // 빈 문자열 출력
console.log(myURL.href); // https://example.org/ 출력

myURL.port = 1234;
console.log(myURL.port); // 1234 출력
console.log(myURL.href); // https://example.org:1234/ 출력

// 완전히 유효하지 않은 포트 문자열은 무시됨
myURL.port = 'abcd';
console.log(myURL.port); // 1234 출력

// 앞부분의 숫자는 포트 번호로 처리됨
myURL.port = '5678abcd';
console.log(myURL.port); // 5678 출력

// 정수가 아닌 숫자는 소수점 이하가 잘림
myURL.port = 1234.5678;
console.log(myURL.port); // 1234 출력

// 과학적 표기법으로 표현되지 않은 범위를 벗어난 숫자는 무시됨
myURL.port = 1e10; // 10000000000, 아래 설명된 대로 범위 검사됨
console.log(myURL.port); // 1234 출력
```

소수점을 포함하는 숫자(예: 부동소수점 숫자 또는 과학적 표기법의 숫자)도 이 규칙에서 예외가 아닙니다. 소수점 앞의 숫자가 유효하다면, 해당 숫자가 URL의 포트로 설정됩니다:

```javascript
myURL.port = 4.567e21;
console.log(myURL.port); // 4 출력 (문자열 '4.567e21'에서 앞부분의 숫자이기 때문)
```


##### `url.protocol`[#](https://nodejs.org/docs/latest/api/url.html#urlprotocol)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 프로토콜 부분을 가져오거나 설정한다.

```js
const myURL = new URL('https://example.org');
console.log(myURL.protocol); // https: 출력
myURL.protocol = 'ftp';
console.log(myURL.href); // ftp://example.org/ 출력
```

`protocol` 속성에 유효하지 않은 URL 프로토콜 값을 할당하면 무시된다.

###### 특수 스킴[#](https://nodejs.org/docs/latest/api/url.html#special-schemes)

[WHATWG URL 표준](https://url.spec.whatwg.org/)은 URL 프로토콜 스킴 중 일부를 파싱과 직렬화 방식에서 *특수*로 간주한다. 이러한 특수 프로토콜 중 하나를 사용해 URL을 파싱하면, `url.protocol` 속성을 다른 특수 프로토콜로 변경할 수 있지만, 비특수 프로토콜로 변경할 수 없다. 반대의 경우도 마찬가지다.

예를 들어, `http`에서 `https`로 변경하는 것은 가능하다:

```js
const u = new URL('http://example.org');
u.protocol = 'https';
console.log(u.href); // https://example.org/ 출력
```

하지만 `http`에서 가상의 `fish` 프로토콜로 변경하는 것은 불가능하다. 새로운 프로토콜이 특수 프로토콜이 아니기 때문이다.

```js
const u = new URL('http://example.org');
u.protocol = 'fish';
console.log(u.href); // http://example.org/ 출력
```

마찬가지로, 비특수 프로토콜에서 특수 프로토콜로 변경하는 것도 허용되지 않는다:

```js
const u = new URL('fish://example.org');
u.protocol = 'http';
console.log(u.href); // fish://example.org 출력
```

WHATWG URL 표준에 따르면, 특수 프로토콜 스킴은 `ftp`, `file`, `http`, `https`, `ws`, `wss`이다.


### `url.search`

- **[`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)**

`url.search`는 URL의 직렬화된 쿼리 부분을 가져오거나 설정합니다.

```js
const myURL = new URL('https://example.org/abc?123');
console.log(myURL.search); // ?123 출력
myURL.search = 'abc=xyz';
console.log(myURL.href); // https://example.org/abc?abc=xyz 출력
```

`search` 속성에 할당된 값에 유효하지 않은 URL 문자가 포함된 경우, 해당 문자는 [퍼센트 인코딩](https://nodejs.org/docs/latest/api/url.html#percent-encoding-in-urls)됩니다. 퍼센트 인코딩할 문자 선택은 [`url.parse()`](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)와 [`url.format()`](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject) 메서드가 생성하는 결과와 다를 수 있습니다.


### `url.searchParams`

- [`<URLSearchParams>`](https://nodejs.org/docs/latest/api/url.html#class-urlsearchparams)

`url.searchParams`는 URL의 쿼리 파라미터를 나타내는 [`URLSearchParams`](https://nodejs.org/docs/latest/api/url.html#class-urlsearchparams) 객체를 반환합니다. 이 프로퍼티는 읽기 전용이지만, 반환된 `URLSearchParams` 객체를 사용하여 URL 인스턴스를 변경할 수 있습니다. URL의 전체 쿼리 파라미터를 교체하려면 [`url.search`](https://nodejs.org/docs/latest/api/url.html#urlsearch) 세터를 사용하세요. 자세한 내용은 [`URLSearchParams`](https://nodejs.org/docs/latest/api/url.html#class-urlsearchparams) 문서를 참고하세요.

`.searchParams`를 사용하여 `URL`을 수정할 때는 주의가 필요합니다. WHATWG 사양에 따르면, `URLSearchParams` 객체는 어떤 문자를 퍼센트 인코딩할지 결정하는 데 다른 규칙을 사용하기 때문입니다. 예를 들어, `URL` 객체는 ASCII 틸데(`~`) 문자를 퍼센트 인코딩하지 않지만, `URLSearchParams`는 항상 이를 인코딩합니다:

```js
const myURL = new URL('https://example.org/abc?foo=~bar');
console.log(myURL.search); // 출력: ?foo=~bar

// searchParams를 통해 URL 수정
myURL.searchParams.sort();
console.log(myURL.search); // 출력: ?foo=%7Ebar
```


##### `url.username`[#](https://nodejs.org/docs/latest/api/url.html#urlusername)

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

URL의 사용자 이름 부분을 가져오거나 설정한다.

```js
const myURL = new URL('https://abc:xyz@example.com');
console.log(myURL.username); // 'abc' 출력
myURL.username = '123';
console.log(myURL.href); // 'https://123:xyz@example.com/' 출력
```

`username` 속성에 할당된 값에 유효하지 않은 URL 문자가 포함된 경우, 해당 문자는 [퍼센트 인코딩](https://nodejs.org/docs/latest/api/url.html#percent-encoding-in-urls)된다. 퍼센트 인코딩할 문자를 선택하는 방식은 [`url.parse()`](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)와 [`url.format()`](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject) 메서드가 생성하는 결과와 다를 수 있다.


##### `url.toString()`[#](https://nodejs.org/docs/latest/api/url.html#urltostring)

-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`URL` 객체의 `toString()` 메서드는 직렬화된 URL을 반환합니다. 이 메서드가 반환하는 값은 [`url.href`](https://nodejs.org/docs/latest/api/url.html#urlhref)와 [`url.toJSON()`](https://nodejs.org/docs/latest/api/url.html#urltojson)의 값과 동일합니다.


##### `url.toJSON()`[#](https://nodejs.org/docs/latest/api/url.html#urltojson)

추가된 버전: v7.7.0, v6.13.0

-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`URL` 객체의 `toJSON()` 메서드는 직렬화된 URL을 반환합니다. 이 메서드가 반환하는 값은 [`url.href`](https://nodejs.org/docs/latest/api/url.html#urlhref)와 [`url.toString()`](https://nodejs.org/docs/latest/api/url.html#urltostring)의 반환값과 동일합니다.

이 메서드는 `URL` 객체가 [`JSON.stringify()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify)로 직렬화될 때 자동으로 호출됩니다.

```js
const myURLs = [
    new URL('https://www.example.com'),
    new URL('https://test.example.org'),
];
console.log(JSON.stringify(myURLs));
// 출력: ["https://www.example.com/","https://test.example.org/"]
```


##### `URL.createObjectURL(blob)`[#](https://nodejs.org/docs/latest/api/url.html#urlcreateobjecturlblob)

추가된 버전: v16.7.0

-   `blob` [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob)
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

주어진 [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob) 객체를 나타내는 `'blob:nodedata:...'` URL 문자열을 생성합니다. 이 URL은 나중에 `Blob`을 다시 가져오는 데 사용할 수 있습니다.

```js
const { Blob, resolveObjectURL } = require('node:buffer');
const blob = new Blob(['hello']);
const id = URL.createObjectURL(blob);

// 나중에...
const otherBlob = resolveObjectURL(id);
console.log(otherBlob.size);
```

등록된 [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob)의 데이터는 `URL.revokeObjectURL()`을 호출하여 제거할 때까지 메모리에 유지됩니다.

`Blob` 객체는 현재 스레드 내에서 등록됩니다. Worker Threads를 사용하는 경우, 하나의 Worker 내에서 등록된 `Blob` 객체는 다른 Worker나 메인 스레드에서 사용할 수 없습니다.


##### `URL.revokeObjectURL(id)`[#](https://nodejs.org/docs/latest/api/url.html#urlrevokeobjecturlid)

추가된 버전: v16.7.0

-   `id` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `URL.createObjectURL()`을 호출하여 반환된 `'blob:nodedata:...` 형식의 URL 문자열

주어진 ID로 식별된 저장된 [`<Blob>`](https://nodejs.org/docs/latest/api/buffer.html#class-blob)을 제거합니다. 등록되지 않은 ID를 해제하려고 하면 조용히 실패합니다.


##### `URL.canParse(input[, base])`[#](https://nodejs.org/docs/latest/api/url.html#urlcanparseinput-base)

추가된 버전: v19.9.0, v18.17.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
    파싱할 절대 또는 상대 URL입니다. `input`이 상대 URL인 경우, `base`가 필요합니다. `input`이 절대 URL이라면 `base`는 무시됩니다. `input`이 문자열이 아닌 경우, 먼저 [문자열로 변환](https://tc39.es/ecma262/#sec-tostring)됩니다.

-   `base` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
    `input`이 절대 URL이 아닐 경우, 이를 해결하기 위한 기준 URL입니다. `base`가 문자열이 아닌 경우, 먼저 [문자열로 변환](https://tc39.es/ecma262/#sec-tostring)됩니다.

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)  
    `input`이 `base`를 기준으로 `URL`로 파싱될 수 있는지 여부를 확인합니다.

```js
const isValid = URL.canParse('/foo', 'https://example.org/'); // true
const isNotValid = URL.canParse('/foo'); // false
```


##### `URL.parse(input[, base])`[#](https://nodejs.org/docs/latest/api/url.html#urlparseinput-base)

추가된 버전: v22.1.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
    파싱할 절대 또는 상대 URL 문자열. `input`이 상대 URL일 경우 `base`가 필수입니다. `input`이 절대 URL이면 `base`는 무시됩니다. `input`이 문자열이 아닌 경우, 먼저 [문자열로 변환](https://tc39.es/ecma262/#sec-tostring)됩니다.

-   `base` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
    `input`이 절대 URL이 아닐 경우, 이를 해결하기 위한 기준 URL. `base`가 문자열이 아닌 경우, 먼저 [문자열로 변환](https://tc39.es/ecma262/#sec-tostring)됩니다.

-   반환값: [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)  
    문자열을 URL로 파싱합니다. `base`가 제공되면, 상대 `input` URL을 해결하기 위한 기준 URL로 사용됩니다. `input`이 유효하지 않으면 `null`을 반환합니다.


#### 클래스: `URLSearchParams`

`URLSearchParams` API는 `URL`의 쿼리에 대한 읽기와 쓰기 접근을 제공합니다. `URLSearchParams` 클래스는 네 가지 생성자 중 하나를 사용하여 독립적으로 사용할 수도 있습니다. 또한 `URLSearchParams` 클래스는 전역 객체에서도 사용할 수 있습니다.

WHATWG `URLSearchParams` 인터페이스와 [`querystring`](https://nodejs.org/docs/latest/api/querystring.html) 모듈은 비슷한 목적을 가지고 있지만, [`querystring`](https://nodejs.org/docs/latest/api/querystring.html) 모듈은 구분자 문자(`&`와 `=`)를 커스터마이징할 수 있어 더 일반적인 목적으로 사용됩니다. 반면에 이 API는 순수하게 URL 쿼리 문자열을 위해 설계되었습니다.

```js
const myURL = new URL('https://example.org/?abc=123');
console.log(myURL.searchParams.get('abc')); // 123 출력
myURL.searchParams.append('abc', 'xyz');
console.log(myURL.href); // https://example.org/?abc=123&abc=xyz 출력
myURL.searchParams.delete('abc');
myURL.searchParams.set('a', 'b');
console.log(myURL.href); // https://example.org/?a=b 출력

const newSearchParams = new URLSearchParams(myURL.searchParams);
// 위 코드는 아래와 동일합니다.
// const newSearchParams = new URLSearchParams(myURL.search);
newSearchParams.append('a', 'c');
console.log(myURL.href); // https://example.org/?a=b 출력
console.log(newSearchParams.toString()); // a=b&a=c 출력
// newSearchParams.toString()이 암묵적으로 호출됩니다.
myURL.search = newSearchParams;
console.log(myURL.href); // https://example.org/?a=b&a=c 출력
newSearchParams.delete('a');
console.log(myURL.href); // https://example.org/?a=b&a=c 출력
```


##### `new URLSearchParams()`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparams)

새로운 빈 `URLSearchParams` 객체를 생성합니다.


### `new URLSearchParams(string)`

- `string` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type): 쿼리 문자열

`string`을 쿼리 문자열로 파싱하여 새로운 `URLSearchParams` 객체를 생성합니다. 문자열 앞에 `'?'`가 있더라도 무시됩니다.

```js
let params;

// 쿼리 문자열을 사용해 URLSearchParams 객체 생성
params = new URLSearchParams('user=abc&query=xyz');
console.log(params.get('user')); // 'abc' 출력
console.log(params.toString()); // 'user=abc&query=xyz' 출력

// '?'가 포함된 쿼리 문자열 사용
params = new URLSearchParams('?user=abc&query=xyz');
console.log(params.toString()); // 'user=abc&query=xyz' 출력
```


##### `new URLSearchParams(obj)`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparamsobj)

추가된 버전: v7.10.0, v6.13.0

-   `obj` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) 키-값 쌍의 컬렉션을 나타내는 객체

쿼리 해시 맵을 사용하여 새로운 `URLSearchParams` 객체를 생성합니다. `obj`의 각 속성의 키와 값은 항상 문자열로 강제 변환됩니다.

[`querystring`](https://nodejs.org/docs/latest/api/querystring.html) 모듈과 달리, 배열 값 형태의 중복 키는 허용되지 않습니다. 배열은 [`array.toString()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toString)을 사용하여 문자열로 변환되며, 이는 단순히 모든 배열 요소를 쉼표로 연결합니다.

```js
const params = new URLSearchParams({ 
    user: 'abc', 
    query: ['first', 'second'], 
}); 

console.log(params.getAll('query')); // [ 'first,second' ] 출력
console.log(params.toString()); // 'user=abc&query=first%2Csecond' 출력
```


##### `new URLSearchParams(iterable)`[#](https://nodejs.org/docs/latest/api/url.html#new-urlsearchparamsiterable)

추가된 버전: v7.10.0, v6.13.0

-   `iterable` [`<Iterable>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol) 키-값 쌍으로 이루어진 반복 가능한 객체

`URLSearchParams` 객체를 반복 가능한 맵과 함께 생성합니다. 이 방식은 [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map)의 생성자와 유사합니다. `iterable`은 `Array` 또는 반복 가능한 객체일 수 있습니다. 즉, `iterable`이 다른 `URLSearchParams` 객체일 경우, 생성자는 제공된 `URLSearchParams`의 복사본을 생성합니다. `iterable`의 요소는 키-값 쌍이며, 이들도 반복 가능한 객체일 수 있습니다.

중복된 키가 허용됩니다.

```js
let params;

// 배열 사용
params = new URLSearchParams([
    ['user', 'abc'],
    ['query', 'first'],
    ['query', 'second'],
]);
console.log(params.toString()); // 'user=abc&query=first&query=second' 출력

// Map 객체 사용
const map = new Map();
map.set('user', 'abc');
map.set('query', 'xyz');
params = new URLSearchParams(map);
console.log(params.toString()); // 'user=abc&query=xyz' 출력

// 제너레이터 함수 사용
function* getQueryPairs() {
    yield ['user', 'abc'];
    yield ['query', 'first'];
    yield ['query', 'second'];
}
params = new URLSearchParams(getQueryPairs());
console.log(params.toString()); // 'user=abc&query=first&query=second' 출력

// 각 키-값 쌍은 정확히 두 개의 요소를 가져야 함
new URLSearchParams([
    ['user', 'abc', 'error'],
]); // TypeError [ERR_INVALID_TUPLE] 발생:
// 각 쿼리 쌍은 반복 가능한 [name, value] 튜플이어야 함
```


##### `urlSearchParams.append(name, value)`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsappendname-value)

-   `name` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `value` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

쿼리 문자열에 새로운 이름-값 쌍을 추가합니다.


```javascript
urlSearchParams.delete(name[, value])
```

- `name` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- `value` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`value`가 제공되면, `name`이 `name`이고 `value`가 `value`인 모든 이름-값 쌍을 제거합니다.

`value`가 제공되지 않으면, `name`이 `name`인 모든 이름-값 쌍을 제거합니다.


##### `urlSearchParams.entries()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsentries)

-   반환값: [`<Iterator>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol)

쿼리 문자열에 포함된 각 이름-값 쌍에 대해 ES6 `Iterator`를 반환합니다. 이터레이터의 각 항목은 자바스크립트 `Array`입니다. `Array`의 첫 번째 항목은 `name`이고, 두 번째 항목은 `value`입니다.

[`urlSearchParams[@@iterator]()`](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssymboliterator)의 별칭입니다.


### `urlSearchParams.forEach(fn[, thisArg])`

- `fn` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function): 쿼리 문자열의 각 이름-값 쌍에 대해 호출되는 함수
- `thisArg` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object): `fn`이 호출될 때 `this` 값으로 사용될 객체

쿼리 문자열의 각 이름-값 쌍을 순회하며 주어진 함수를 호출합니다.

```js
const myURL = new URL('https://example.org/?a=b&c=d');
myURL.searchParams.forEach((value, name, searchParams) => {
    console.log(name, value, myURL.searchParams === searchParams);
});
// 출력:
// a b true
// c d true
```


### `urlSearchParams.get(name)`

- **`name`** [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- **반환값**: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)  
  주어진 `name`에 해당하는 첫 번째 이름-값 쌍의 값을 반환합니다. 해당하는 쌍이 없으면 `null`을 반환합니다.

이 메서드는 URL의 쿼리 문자열에서 특정 이름(`name`)에 해당하는 첫 번째 값을 가져옵니다. 만약 해당 이름이 존재하지 않으면 `null`을 반환합니다.


### `urlSearchParams.getAll(name)`

- **`name`** [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- **반환값**: [`<string[]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

이 메서드는 주어진 `name`에 해당하는 모든 이름-값 쌍의 값을 반환합니다. 해당하는 쌍이 없으면 빈 배열을 반환합니다.

**예제:**

```javascript
const params = new URLSearchParams('name=John&name=Jane&age=30');
console.log(params.getAll('name')); // ['John', 'Jane']
console.log(params.getAll('age'));  // ['30']
console.log(params.getAll('city')); // []
```

이 예제에서 `getAll` 메서드는 `name` 키에 해당하는 모든 값을 배열로 반환합니다. `city` 키는 존재하지 않으므로 빈 배열이 반환됩니다.


##### `urlSearchParams.has(name[, value])`

- `name` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- `value` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- 반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

`URLSearchParams` 객체가 `name`과 선택적으로 제공된 `value` 인자를 기반으로 키-값 쌍을 포함하는지 확인합니다.

`value`가 제공된 경우, 동일한 `name`과 `value`를 가진 키-값 쌍이 존재하면 `true`를 반환합니다.

`value`가 제공되지 않은 경우, `name`과 일치하는 키-값 쌍이 하나라도 존재하면 `true`를 반환합니다.


### `urlSearchParams.keys()`

- **반환값**: [`<Iterator>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol)

이 메서드는 각 이름-값 쌍의 이름을 순회할 수 있는 ES6 `Iterator`를 반환합니다.

```js
const params = new URLSearchParams('foo=bar&foo=baz');
for (const name of params.keys()) {
    console.log(name);
}
// 출력:
// foo
// foo
```


### `urlSearchParams.set(name, value)`

- `name` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- `value` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`URLSearchParams` 객체에서 `name`에 해당하는 값을 `value`로 설정합니다. 만약 `name`과 동일한 이름을 가진 기존의 이름-값 쌍이 있다면, 첫 번째 쌍의 값을 `value`로 설정하고 나머지는 모두 제거합니다. 해당 이름이 없다면, 새로운 이름-값 쌍을 쿼리 문자열에 추가합니다.

```js
const params = new URLSearchParams();
params.append('foo', 'bar');
params.append('foo', 'baz');
params.append('abc', 'def');
console.log(params.toString()); // 출력: foo=bar&foo=baz&abc=def

params.set('foo', 'def');
params.set('xyz', 'opq');
console.log(params.toString()); // 출력: foo=def&abc=def&xyz=opq
```


##### `urlSearchParams.size`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssize)

추가된 버전: v19.8.0, v18.16.0

URLSearchParams 객체에 포함된 파라미터 항목의 총 개수를 나타냅니다.


##### `urlSearchParams.sort()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssort)

추가된 버전: v7.7.0, v6.13.0

이 메서드는 모든 기존 이름-값 쌍을 이름을 기준으로 제자리에서 정렬합니다. 정렬은 [안정적인 정렬 알고리즘](https://en.wikipedia.org/wiki/Sorting_algorithm#Stability)을 사용하여 수행되므로, 같은 이름을 가진 이름-값 쌍 간의 상대적 순서가 유지됩니다.

이 메서드는 특히 캐시 적중률을 높이기 위해 사용할 수 있습니다.

```js
const params = new URLSearchParams('query[]=abc&type=search&query[]=123');
params.sort();
console.log(params.toString()); // query%5B%5D=abc&query%5B%5D=123&type=search 출력
```


##### `urlSearchParams.toString()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamstostring)

-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

검색 매개변수를 문자열로 직렬화하여 반환합니다. 필요한 경우 문자는 퍼센트 인코딩됩니다.


##### `urlSearchParams.values()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsvalues)

-   반환값: [`<Iterator>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol)

이 메서드는 각 이름-값 쌍의 값들을 순회할 수 있는 ES6 `Iterator`를 반환합니다.


##### `urlSearchParams[Symbol.iterator]()`[#](https://nodejs.org/docs/latest/api/url.html#urlsearchparamssymboliterator)

-   반환값: [`<Iterator>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol)

쿼리 문자열에 있는 각 이름-값 쌍에 대해 ES6 `Iterator`를 반환합니다. 이터레이터의 각 항목은 JavaScript `Array`입니다. `Array`의 첫 번째 항목은 `name`이고, 두 번째 항목은 `value`입니다.

이 메서드는 [`urlSearchParams.entries()`](https://nodejs.org/docs/latest/api/url.html#urlsearchparamsentries)의 별칭입니다.

```js
const params = new URLSearchParams('foo=bar&xyz=baz');
for (const [name, value] of params) {
    console.log(name, value);
}
// 출력:
// foo bar
// xyz baz
```


#### `url.domainToASCII(domain)`[#](https://nodejs.org/docs/latest/api/url.html#urldomaintoasciidomain)

-   `domain` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`domain`의 [Punycode](https://tools.ietf.org/html/rfc5891#section-4.4) ASCII 직렬화를 반환합니다. 만약 `domain`이 유효하지 않은 도메인이라면, 빈 문자열이 반환됩니다.

이 메서드는 [`url.domainToUnicode()`](https://nodejs.org/docs/latest/api/url.html#urldomaintounicodedomain)의 역연산을 수행합니다.

```js
import url from 'node:url';

console.log(url.domainToASCII('español.com')); // xn--espaol-zwa.com 출력
console.log(url.domainToASCII('中文.com'));    // xn--fiq228c.com 출력
console.log(url.domainToASCII('xn--iñvalid.com')); // 빈 문자열 출력
```


#### `url.domainToUnicode(domain)`

- `domain` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
- 반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`domain`의 유니코드 직렬화를 반환합니다. 만약 `domain`이 유효하지 않은 도메인이라면, 빈 문자열이 반환됩니다.

이 함수는 [`url.domainToASCII()`](https://nodejs.org/docs/latest/api/url.html#urldomaintoasciidomain)의 역연산을 수행합니다.

```js
import url from 'node:url';

console.log(url.domainToUnicode('xn--espaol-zwa.com')); // español.com 출력
console.log(url.domainToUnicode('xn--fiq228c.com'));    // 中文.com 출력
console.log(url.domainToUnicode('xn--iñvalid.com'));    // 빈 문자열 출력
```


#### `url.fileURLToPath(url[, options])`

- `url` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
  파일 URL 문자열이나 URL 객체를 경로로 변환합니다.
  
- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)  
  - `windows` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type)  
    `true`로 설정하면 윈도우 파일 경로로 반환하고, `false`로 설정하면 POSIX 경로로 반환합니다. `undefined`로 설정하면 시스템 기본값을 사용합니다. **기본값:** `undefined`.

- 반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)  
  플랫폼에 맞게 완전히 해석된 Node.js 파일 경로를 반환합니다.

이 함수는 퍼센트 인코딩된 문자를 올바르게 디코딩하고, 크로스 플랫폼에서 유효한 절대 경로 문자열을 보장합니다.

```js
import { fileURLToPath } from 'node:url';

const __filename = fileURLToPath(import.meta.url);

new URL('file:///C:/path/').pathname; // 잘못된 결과: /C:/path/
fileURLToPath('file:///C:/path/'); // 올바른 결과: C:\path\ (Windows)

new URL('file://nas/foo.txt').pathname; // 잘못된 결과: /foo.txt
fileURLToPath('file://nas/foo.txt'); // 올바른 결과: \\nas\foo.txt (Windows)

new URL('file:///你好.txt').pathname; // 잘못된 결과: /%E4%BD%A0%E5%A5%BD.txt
fileURLToPath('file:///你好.txt'); // 올바른 결과: /你好.txt (POSIX)

new URL('file:///hello world').pathname; // 잘못된 결과: /hello%20world
fileURLToPath('file:///hello world'); // 올바른 결과: /hello world (POSIX)
```


#### `url.format(URL[, options])`[#](https://nodejs.org/docs/latest/api/url.html#urlformaturl-options)

추가된 버전: v7.6.0

-   `URL` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) [WHATWG URL](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 객체
-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `auth` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) URL 문자열에 사용자 이름과 비밀번호를 포함할지 여부. **기본값:** `true`.
    -   `fragment` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) URL 문자열에 프래그먼트를 포함할지 여부. **기본값:** `true`.
    -   `search` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) URL 문자열에 검색 쿼리를 포함할지 여부. **기본값:** `true`.
    -   `unicode` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) URL 문자열의 호스트 부분에 있는 유니코드 문자를 Punycode로 인코딩하지 않고 직접 표시할지 여부. **기본값:** `false`.
-   반환값: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

[WHATWG URL](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) 객체의 문자열 표현을 커스터마이징하여 반환한다.

URL 객체는 `toString()` 메서드와 `href` 속성을 가지고 있으며, 이 둘은 URL의 문자열 표현을 반환한다. 하지만 이들은 어떤 방식으로도 커스터마이징할 수 없다. `url.format(URL[, options])` 메서드는 출력을 기본적으로 커스터마이징할 수 있게 해준다.

```js
import url from 'node:url';

const myURL = new URL('https://a:b@測試?abc#foo');

console.log(myURL.href); // https://a:b@xn--g6w251d/?abc#foo 출력
console.log(myURL.toString()); // https://a:b@xn--g6w251d/?abc#foo 출력
console.log(url.format(myURL, { fragment: false, unicode: true, auth: false })); // 'https://測試/?abc' 출력
```


#### `url.pathToFileURL(path[, options])`

- `path` [`<string>`] 파일 URL로 변환할 경로
- `options` [`<Object>`]
  - `windows` [`<boolean>`] | [`<undefined>`] `true`로 설정하면 `path`를 윈도우 파일 경로로 처리하고, `false`로 설정하면 POSIX로 처리합니다. `undefined`로 설정하면 시스템 기본값을 사용합니다. **기본값:** `undefined`.
- 반환값: [`<URL>`] 파일 URL 객체

이 함수는 `path`가 절대 경로로 해석되고, 파일 URL로 변환할 때 URL 제어 문자가 올바르게 인코딩되도록 보장합니다.

```js
import { pathToFileURL } from 'node:url';

new URL('/foo#1', 'file:'); // 잘못된 예: file:///foo#1
pathToFileURL('/foo#1'); // 올바른 예: file:///foo%231 (POSIX)

new URL('/some/path%.c', 'file:'); // 잘못된 예: file:///some/path%.c
pathToFileURL('/some/path%.c'); // 올바른 예: file:///some/path%25.c (POSIX)
```


#### `url.urlToHttpOptions(url)`[#](https://nodejs.org/docs/latest/api/url.html#urlurltohttpoptionsurl)

-   `url` [`<URL>`](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) WHATWG URL 객체를 옵션 객체로 변환합니다.
-   반환값: [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) 옵션 객체
    -   `protocol` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 사용할 프로토콜.
    -   `hostname` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 요청을 보낼 서버의 도메인 이름 또는 IP 주소.
    -   `hash` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) URL의 프래그먼트 부분.
    -   `search` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 직렬화된 쿼리 부분.
    -   `pathname` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) URL의 경로 부분.
    -   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 요청 경로. 쿼리 문자열이 있다면 포함해야 합니다. 예: `'/index.html?page=12'`. 요청 경로에 허용되지 않는 문자가 포함된 경우 예외가 발생합니다. 현재는 공백만 거부되지만, 추후 변경될 수 있습니다.
    -   `href` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 직렬화된 URL.
    -   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 원격 서버의 포트.
    -   `auth` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 기본 인증 정보. 예: `'user:password'`로 Authorization 헤더를 계산합니다.

이 유틸리티 함수는 URL 객체를 [`http.request()`](https://nodejs.org/docs/latest/api/http.html#httprequestoptions-callback)와 [`https.request()`](https://nodejs.org/docs/latest/api/https.html#httpsrequestoptions-callback) API에서 기대하는 일반적인 옵션 객체로 변환합니다.

```js
import { urlToHttpOptions } from 'node:url';
const myURL = new URL('https://a:b@測試?abc#foo');
console.log(urlToHttpOptions(myURL));
/* 
{
  protocol: 'https:',
  hostname: 'xn--g6w251d',
  hash: '#foo',
  search: '?abc',
  pathname: '/',
  path: '/?abc',
  href: 'https://a:b@xn--g6w251d/?abc#foo',
  auth: 'a:b'
}
*/
```


### 레거시 URL API[#](https://nodejs.org/docs/latest/api/url.html#legacy-url-api)

[안정성: 3](https://nodejs.org/docs/latest/api/documentation.html#stability-index) - 레거시: WHATWG URL API를 대신 사용하세요.


#### 레거시 `urlObject`[#](https://nodejs.org/docs/latest/api/url.html#legacy-urlobject)

[안정성: 3](https://nodejs.org/docs/latest/api/documentation.html#stability-index) - 레거시: 대신 WHATWG URL API를 사용하세요.

레거시 `urlObject` (`require('node:url').Url` 또는 `import { Url } from 'node:url'`)는 `url.parse()` 함수에 의해 생성되고 반환됩니다.


`urlObject.auth`는 URL의 사용자 이름과 비밀번호 부분을 나타내며, *userinfo*라고도 불립니다. 이 문자열은 `protocol`과 이중 슬래시(존재하는 경우) 다음에 위치하며, `@`로 구분된 `host` 컴포넌트 앞에 옵니다. 이 문자열은 사용자 이름만 포함하거나, 사용자 이름과 비밀번호가 `:`로 구분된 형태로 구성됩니다.

예를 들어: `'user:pass'`


##### `urlObject.hash`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthash)

`hash` 프로퍼티는 URL에서 `#` 문자로 시작하는 프래그먼트 식별자 부분을 나타냅니다.

예를 들어: `'#hash'`.


`urlObject.host`는 URL의 전체 호스트 부분을 소문자로 반환합니다. 포트가 지정된 경우 포트도 포함됩니다.

예를 들어: `'sub.example.com:8080'`


##### `urlObject.hostname`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthostname)

`hostname` 속성은 `host` 컴포넌트에서 `port`를 제외한 소문자로 변환된 호스트 이름 부분을 나타냅니다.

예를 들어: `'sub.example.com'`


##### `urlObject.href`[#](https://nodejs.org/docs/latest/api/url.html#urlobjecthref)

`href` 프로퍼티는 파싱된 전체 URL 문자열을 나타냅니다. 이때 `protocol`과 `host` 컴포넌트는 소문자로 변환됩니다.

예를 들어: `'http://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'`.


##### `urlObject.path`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectpath)

`path` 속성은 `pathname`과 `search` 컴포넌트를 합친 값입니다.

예를 들어: `'/p/a/t/h?query=string'`.

`path`는 디코딩되지 않은 상태로 유지됩니다.


##### `urlObject.pathname`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectpathname)

`pathname` 속성은 URL의 전체 경로 부분을 포함합니다. 이는 `host`(포트 포함) 이후부터 `query` 또는 `hash` 컴포넌트가 시작되기 전까지의 모든 부분을 의미하며, ASCII 물음표(`?`) 또는 해시(`#`) 문자로 구분됩니다.

예를 들어: `'/p/a/t/h'`

경로 문자열은 디코딩되지 않습니다.


`urlObject.port`는 `host` 컴포넌트의 숫자 포트 부분을 나타냅니다.

예를 들어: `'8080'`.


##### `urlObject.protocol`[#](https://nodejs.org/docs/latest/api/url.html#urlobjectprotocol)

`protocol` 프로퍼티는 URL의 프로토콜 스키마를 소문자로 식별합니다.

예를 들어: `'http:'`.


`urlObject.query`는 쿼리 문자열에서 앞에 붙는 ASCII 물음표(`?`)를 제외한 부분이나, `querystring` 모듈의 `parse()` 메서드가 반환한 객체를 가리킵니다. `query` 프로퍼티가 문자열인지 객체인지는 `url.parse()`에 전달된 `parseQueryString` 인자에 따라 결정됩니다.

예를 들어, `'query=string'` 또는 `{'query': 'string'}`과 같은 형태입니다.

`query`가 문자열로 반환되면, 쿼리 문자열은 디코딩되지 않습니다. 객체로 반환되면, 키와 값 모두 디코딩됩니다.


`urlObject.search`는 URL의 "쿼리 문자열" 부분 전체를 포함하며, 맨 앞에 있는 ASCII 물음표(`?`) 문자도 함께 포함됩니다.

예를 들어: `'?query=string'`

쿼리 문자열은 디코딩되지 않습니다.


`urlObject.slashes`는 `boolean` 타입의 속성입니다. 이 속성은 `protocol` 뒤에 콜론(`:`) 다음에 두 개의 ASCII 슬래시(`/`)가 필요한 경우 `true` 값을 가집니다.


#### `url.format(urlObject)`[#](https://nodejs.org/docs/latest/api/url.html#urlformaturlobject)

[안정성: 3](https://nodejs.org/docs/latest/api/documentation.html#stability-index) - 레거시: WHATWG URL API를 대신 사용하세요.

-   `urlObject` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `url.parse()`로 반환된 URL 객체 또는 다른 방식으로 생성된 객체. 문자열인 경우 `url.parse()`에 전달하여 객체로 변환됩니다.

`url.format()` 메서드는 `urlObject`에서 파생된 형식화된 URL 문자열을 반환합니다.

```js
const url = require('node:url');
url.format({
    protocol: 'https',
    hostname: 'example.com',
    pathname: '/some/path',
    query: {
        page: 1,
        format: 'json',
    },
});
// => 'https://example.com/some/path?page=1&format=json'
```

`urlObject`가 객체나 문자열이 아닌 경우, `url.format()`은 [`TypeError`](https://nodejs.org/docs/latest/api/errors.html#class-typeerror)를 발생시킵니다.

형식화 과정은 다음과 같이 진행됩니다:

1. 새로운 빈 문자열 `result`를 생성합니다.
2. `urlObject.protocol`이 문자열인 경우, 그대로 `result`에 추가합니다.
3. `urlObject.protocol`이 `undefined`가 아니고 문자열이 아닌 경우, [`Error`](https://nodejs.org/docs/latest/api/errors.html#class-error)를 발생시킵니다.
4. `urlObject.protocol`이 ASCII 콜론(`:`)으로 끝나지 않는 모든 문자열 값에 대해, 리터럴 문자열 `:`을 `result`에 추가합니다.
5. 다음 조건 중 하나가 참인 경우, 리터럴 문자열 `//`을 `result`에 추가합니다:
    - `urlObject.slashes` 속성이 true인 경우;
    - `urlObject.protocol`이 `http`, `https`, `ftp`, `gopher`, 또는 `file`로 시작하는 경우;
6. `urlObject.auth` 속성 값이 참이고, `urlObject.host` 또는 `urlObject.hostname`이 `undefined`가 아닌 경우, `urlObject.auth` 값을 문자열로 강제 변환하여 `result`에 추가한 후 리터럴 문자열 `@`를 추가합니다.
7. `urlObject.host` 속성이 `undefined`인 경우:
    - `urlObject.hostname`이 문자열인 경우, `result`에 추가합니다.
    - `urlObject.hostname`이 `undefined`가 아니고 문자열이 아닌 경우, [`Error`](https://nodejs.org/docs/latest/api/errors.html#class-error)를 발생시킵니다.
    - `urlObject.port` 속성 값이 참이고 `urlObject.hostname`이 `undefined`가 아닌 경우:
        - 리터럴 문자열 `:`을 `result`에 추가하고,
        - `urlObject.port` 값을 문자열로 강제 변환하여 `result`에 추가합니다.
8. `urlObject.host` 속성 값이 참인 경우, `urlObject.host` 값을 문자열로 강제 변환하여 `result`에 추가합니다.
9. `urlObject.pathname` 속성이 빈 문자열이 아닌 문자열인 경우:
    - `urlObject.pathname`이 ASCII 슬래시(`/`)로 시작하지 않는 경우, 리터럴 문자열 `'/'`을 `result`에 추가합니다.
    - `urlObject.pathname` 값을 `result`에 추가합니다.
10. `urlObject.pathname`이 `undefined`가 아니고 문자열이 아닌 경우, [`Error`](https://nodejs.org/docs/latest/api/errors.html#class-error)를 발생시킵니다.
11. `urlObject.search` 속성이 `undefined`이고 `urlObject.query` 속성이 `Object`인 경우, 리터럴 문자열 `?`를 `result`에 추가한 후 `urlObject.query` 값을 인자로 [`querystring`](https://nodejs.org/docs/latest/api/querystring.html) 모듈의 `stringify()` 메서드를 호출한 결과를 추가합니다.
12. `urlObject.search`가 문자열인 경우:
    - `urlObject.search` 값이 ASCII 물음표(`?`)로 시작하지 않는 경우, 리터럴 문자열 `?`를 `result`에 추가합니다.
    - `urlObject.search` 값을 `result`에 추가합니다.
13. `urlObject.search`가 `undefined`가 아니고 문자열이 아닌 경우, [`Error`](https://nodejs.org/docs/latest/api/errors.html#class-error)를 발생시킵니다.
14. `urlObject.hash` 속성이 문자열인 경우:
    - `urlObject.hash` 값이 ASCII 해시(`#`)로 시작하지 않는 경우, 리터럴 문자열 `#`를 `result`에 추가합니다.
    - `urlObject.hash` 값을 `result`에 추가합니다.
15. `urlObject.hash` 속성이 `undefined`가 아니고 문자열이 아닌 경우, [`Error`](https://nodejs.org/docs/latest/api/errors.html#class-error)를 발생시킵니다.
16. `result`를 반환합니다.


#### `url.parse(urlString[, parseQueryString[, slashesDenoteHost]])`[#](https://nodejs.org/docs/latest/api/url.html#urlparseurlstring-parsequerystring-slashesdenotehost)

[안정성: 0](https://nodejs.org/docs/latest/api/documentation.html#stability-index) - **사용 중단**: 대신 WHATWG URL API를 사용하세요.

-   `urlString` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 파싱할 URL 문자열.
-   `parseQueryString` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, `query` 속성은 항상 [`querystring`](https://nodejs.org/docs/latest/api/querystring.html) 모듈의 `parse()` 메서드가 반환한 객체로 설정됩니다. `false`로 설정하면, 반환된 URL 객체의 `query` 속성은 파싱되지 않은, 디코딩되지 않은 문자열이 됩니다. **기본값:** `false`.
-   `slashesDenoteHost` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, `//` 문자열 다음에 오고 다음 `/` 이전에 나오는 첫 번째 토큰이 `host`로 해석됩니다. 예를 들어, `//foo/bar`가 주어지면, 결과는 `{pathname: '//foo/bar'}`가 아니라 `{host: 'foo', pathname: '/bar'}`가 됩니다. **기본값:** `false`.

`url.parse()` 메서드는 URL 문자열을 받아 파싱한 후 URL 객체를 반환합니다.

`urlString`이 문자열이 아닌 경우 `TypeError`가 발생합니다.

`auth` 속성이 존재하지만 디코딩할 수 없는 경우 `URIError`가 발생합니다.

`url.parse()`는 URL 문자열을 파싱하기 위해 관대하고 비표준적인 알고리즘을 사용합니다. 이는 [호스트 이름 스푸핑](https://hackerone.com/reports/678487)과 같은 보안 문제 및 사용자 이름과 비밀번호의 잘못된 처리를 유발할 수 있습니다. 신뢰할 수 없는 입력에 사용하지 마세요. `url.parse()`의 취약점에 대해 CVE가 발행되지 않습니다. 대신 [WHATWG URL](https://nodejs.org/docs/latest/api/url.html#the-whatwg-url-api) API를 사용하세요.


#### `url.resolve(from, to)`[#](https://nodejs.org/docs/latest/api/url.html#urlresolvefrom-to)

[안정성: 3](https://nodejs.org/docs/latest/api/documentation.html#stability-index) - 레거시: 대신 WHATWG URL API를 사용하세요.

-   `from` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `to`가 상대 URL일 경우 사용할 기본 URL.
-   `to` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 해결할 대상 URL.

`url.resolve()` 메서드는 웹 브라우저가 앵커 태그를 해결하는 방식과 유사하게 기본 URL에 대한 대상 URL을 해결합니다.

```js
const url = require('node:url');
url.resolve('/one/two/three', 'four'); // '/one/two/four'
url.resolve('http://example.com/', '/one'); // 'http://example.com/one'
url.resolve('http://example.com/one', '/two'); // 'http://example.com/two'
```

WHATWG URL API를 사용하여 동일한 결과를 얻으려면:

```js
function resolve(from, to) {
    const resolvedUrl = new URL(to, new URL(from, 'resolve://'));
    if (resolvedUrl.protocol === 'resolve:') {
        // `from`은 상대 URL입니다.
        const { pathname, search, hash } = resolvedUrl;
        return pathname + search + hash;
    }
    return resolvedUrl.toString();
}

resolve('/one/two/three', 'four'); // '/one/two/four'
resolve('http://example.com/', '/one'); // 'http://example.com/one'
resolve('http://example.com/one', '/two'); // 'http://example.com/two'
```


### URL에서의 퍼센트 인코딩

URL은 특정 범위의 문자만 포함할 수 있습니다. 이 범위를 벗어나는 문자는 반드시 인코딩되어야 합니다. 이러한 문자가 어떻게 인코딩되는지, 그리고 어떤 문자를 인코딩해야 하는지는 URL 구조 내에서 해당 문자의 위치에 따라 결정됩니다.


#### 레거시 API

레거시 API에서는 URL 객체의 속성에 포함된 공백(`' '`)과 다음 문자들이 자동으로 이스케이프 처리됩니다:

```text
< > " ` \r \n \t { } | \ ^ '
```

예를 들어, ASCII 공백 문자(`' '`)는 `%20`으로 인코딩됩니다. ASCII 슬래시(`/`) 문자는 `%3C`로 인코딩됩니다.


#### WHATWG API[#](https://nodejs.org/docs/latest/api/url.html#whatwg-api)

[WHATWG URL 표준](https://url.spec.whatwg.org/)은 레거시 API보다 더 선택적이고 세밀한 방식으로 인코딩된 문자를 선택합니다.

WHATWG 알고리즘은 퍼센트 인코딩이 필요한 문자 범위를 정의하는 네 가지 "퍼센트 인코딩 세트"를 제공합니다:

- **C0 제어 퍼센트 인코딩 세트**: U+0000부터 U+001F까지(포함)의 코드 포인트와 U+007E(~)보다 큰 모든 코드 포인트를 포함합니다.
  
- **프래그먼트 퍼센트 인코딩 세트**: **C0 제어 퍼센트 인코딩 세트**와 U+0020 SPACE, U+0022 ("), U+003C (<), U+003E (>), U+0060 (\`) 코드 포인트를 포함합니다.
  
- **경로 퍼센트 인코딩 세트**: **C0 제어 퍼센트 인코딩 세트**와 U+0020 SPACE, U+0022 ("), U+0023 (#), U+003C (<), U+003E (>), U+003F (?), U+0060 (\`), U+007B ({), U+007D (}) 코드 포인트를 포함합니다.
  
- **사용자 정보 인코딩 세트**: **경로 퍼센트 인코딩 세트**와 U+002F (/), U+003A (:), U+003B (;), U+003D (=), U+0040 (@), U+005B (\[)부터 U+005E(^), U+007C (|) 코드 포인트를 포함합니다.

**사용자 정보 퍼센트 인코딩 세트**는 URL 내에 인코딩된 사용자 이름과 비밀번호에만 사용됩니다. **경로 퍼센트 인코딩 세트**는 대부분의 URL 경로에 사용됩니다. **프래그먼트 퍼센트 인코딩 세트**는 URL 프래그먼트에 사용됩니다. **C0 제어 퍼센트 인코딩 세트**는 특정 조건에서 호스트와 경로에 사용되며, 다른 모든 경우에도 적용됩니다.

호스트 이름에 비-ASCII 문자가 포함된 경우, 호스트 이름은 [Punycode](https://tools.ietf.org/html/rfc5891#section-4.4) 알고리즘을 사용하여 인코딩됩니다. 하지만 호스트 이름은 Punycode 인코딩과 퍼센트 인코딩된 문자를 **동시에** 포함할 수 있습니다:

```js
const myURL = new URL('https://%CF%80.example.com/foo');
console.log(myURL.href); // https://xn--1xa.example.com/foo 출력
console.log(myURL.origin); // https://xn--1xa.example.com 출력
```


