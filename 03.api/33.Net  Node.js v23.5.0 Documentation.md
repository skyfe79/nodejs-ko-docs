# Table of Contents

- [Net](#net)
    - [IPC 지원](#ipc-지원)
      - [IPC 연결 경로 지정하기](#ipc-연결-경로-지정하기)
    - [클래스: `net.BlockList`](#클래스-netblocklist)
      - [`blockList.addAddress(address[, type])`](#blocklistaddaddressaddress-type)
      - [`blockList.addRange(start, end[, type])`](#blocklistaddrangestart-end-type)
      - [`blockList.addSubnet(net, prefix[, type])`](#blocklistaddsubnetnet-prefix-type)
      - [`blockList.check(address[, type])`](#blocklistcheckaddress-type)
      - [`blockList.rules`](#blocklistrules)
      - [`BlockList.isBlockList(value)`](#blocklistisblocklistvalue)
    - [클래스: `net.SocketAddress`](#클래스-netsocketaddress)
      - [`new net.SocketAddress([options])`](#new-netsocketaddressoptions)
      - [`socketaddress.address`](#socketaddressaddress)
      - [`socketaddress.family`](#socketaddressfamily)
      - [`socketaddress.flowlabel`](#socketaddressflowlabel)
      - [`socketaddress.port`](#socketaddressport)
      - [`SocketAddress.parse(input)`](#socketaddressparseinput)
    - [클래스: `net.Server`](#클래스-netserver)
      - [`new net.Server([options][, connectionListener])`](#new-netserveroptions-connectionlistener)
      - [이벤트: `'close'`](#이벤트-close)
      - [이벤트: `'connection'`](#이벤트-connection)
      - [이벤트: `'error'`](#이벤트-error)
      - [이벤트: `'listening'`](#이벤트-listening)
      - [이벤트: `'drop'`](#이벤트-drop)
      - [`server.address()`](#serveraddress)
      - [`server.close([callback])`](#serverclosecallback)
      - [`server[Symbol.asyncDispose]()`](#serversymbolasyncdispose)
      - [`server.getConnections(callback)`](#servergetconnectionscallback)
      - [`server.listen()`](#serverlisten)
        - [`server.listen(handle[, backlog][, callback])`](#serverlistenhandle-backlog-callback)
        - [`server.listen(options[, callback])`](#serverlistenoptions-callback)
        - [`server.listen(path[, backlog][, callback])`](#serverlistenpath-backlog-callback)
        - [`server.listen([port[, host[, backlog]]][, callback])`](#serverlistenport-host-backlog-callback)
      - [`server.listening`](#serverlistening)
      - [`server.maxConnections`](#servermaxconnections)
      - [`server.dropMaxConnection`](#serverdropmaxconnection)
      - [`server.ref()`](#serverref)
      - [`server.unref()`](#serverunref)
    - [클래스: `net.Socket`](#클래스-netsocket)
      - [`new net.Socket([options])`](#new-netsocketoptions)
      - [이벤트: `'close'`](#이벤트-close)
      - [이벤트: `'connect'`](#이벤트-connect)
      - [이벤트: `'connectionAttempt'`](#이벤트-connectionattempt)
      - [이벤트: `'connectionAttemptFailed'`](#이벤트-connectionattemptfailed)
      - [이벤트: `'connectionAttemptTimeout'`](#이벤트-connectionattempttimeout)
      - [이벤트: `'data'`](#이벤트-data)
      - [이벤트: `'drain'`](#이벤트-drain)
      - [이벤트: `'end'`](#이벤트-end)
      - [이벤트: `'error'`](#이벤트-error)
      - [이벤트: `'lookup'`](#이벤트-lookup)
      - [이벤트: `'ready'`](#이벤트-ready)
      - [이벤트: `'timeout'`](#이벤트-timeout)
      - [`socket.address()`](#socketaddress)
      - [`socket.autoSelectFamilyAttemptedAddresses`](#socketautoselectfamilyattemptedaddresses)
      - [`socket.bufferSize`](#socketbuffersize)
      - [`socket.bytesRead`](#socketbytesread)
      - [`socket.bytesWritten`](#socketbyteswritten)
      - [`socket.connect()`](#socketconnect)
        - [`socket.connect(port[, host][, connectListener])`](#socketconnectport-host-connectlistener)
      - [`socket.connecting`](#socketconnecting)
      - [`socket.destroy([error])`](#socketdestroyerror)
      - [`socket.destroyed`](#socketdestroyed)
      - [`socket.destroySoon()`](#socketdestroysoon)
      - [`socket.end([data[, encoding]][, callback])`](#socketenddata-encoding-callback)
      - [`socket.localAddress`](#socketlocaladdress)
      - [`socket.localPort`](#socketlocalport)
      - [`socket.localFamily`](#socketlocalfamily)
      - [`socket.pause()`](#socketpause)
      - [`socket.pending`](#socketpending)
      - [`socket.ref()`](#socketref)
      - [`socket.remoteAddress`](#socketremoteaddress)
      - [`socket.remoteFamily`](#socketremotefamily)
      - [`socket.remotePort`](#socketremoteport)
      - [`socket.resetAndDestroy()`](#socketresetanddestroy)
      - [`socket.resume()`](#socketresume)
      - [`socket.setEncoding([encoding])`](#socketsetencodingencoding)
      - [`socket.setKeepAlive([enable][, initialDelay])`](#socketsetkeepaliveenable-initialdelay)
      - [`socket.setNoDelay([noDelay])`](#socketsetnodelaynodelay)
      - [`socket.setTimeout(timeout[, callback])`](#socketsettimeouttimeout-callback)
      - [`socket.timeout`](#sockettimeout)
      - [`socket.unref()`](#socketunref)
      - [`socket.write(data[, encoding][, callback])`](#socketwritedata-encoding-callback)
      - [`socket.readyState`](#socketreadystate)
    - [`net.connect()`](#netconnect)
      - [`net.connect(options[, connectListener])`](#netconnectoptions-connectlistener)
      - [`net.connect(path[, connectListener])`](#netconnectpath-connectlistener)
      - [`net.connect(port[, host][, connectListener])`](#netconnectport-host-connectlistener)
    - [`net.createConnection()`](#netcreateconnection)
      - [`net.createConnection(options[, connectListener])`](#netcreateconnectionoptions-connectlistener)
      - [`net.createConnection(path[, connectListener])`](#netcreateconnectionpath-connectlistener)
      - [`net.createConnection(port[, host][, connectListener])`](#netcreateconnectionport-host-connectlistener)
    - [`net.createServer([options][, connectionListener])`](#netcreateserveroptions-connectionlistener)
    - [`net.getDefaultAutoSelectFamily()`](#netgetdefaultautoselectfamily)
    - [`net.setDefaultAutoSelectFamily(value)`](#netsetdefaultautoselectfamilyvalue)
    - [`net.getDefaultAutoSelectFamilyAttemptTimeout()`](#netgetdefaultautoselectfamilyattempttimeout)
    - [`net.setDefaultAutoSelectFamilyAttemptTimeout(value)`](#netsetdefaultautoselectfamilyattempttimeoutvalue)
    - [`net.isIP(input)`](#netisipinput)
    - [`net.isIPv4(input)`](#netisipv4input)
    - [`net.isIPv6(input)`](#netisipv6input)

# Net

**소스 코드:** [lib/net.js](https://github.com/nodejs/node/blob/v23.5.0/lib/net.js)

`node:net` 모듈은 스트림 기반의 TCP 또는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버([`net.createServer()`](https://nodejs.org/docs/latest/api/net.html#netcreateserveroptions-connectionlistener))와 클라이언트([`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection))를 생성하기 위한 비동기 네트워크 API를 제공합니다.

다음과 같이 접근할 수 있습니다:

```js
import net from 'node:net';
```


### IPC 지원

`node:net` 모듈은 윈도우에서는 명명된 파이프(named pipes)를, 다른 운영체제에서는 유닉스 도메인 소켓(Unix domain sockets)을 통해 IPC(Inter-Process Communication)를 지원합니다.


#### IPC 연결 경로 지정하기

[`net.connect()`](https://nodejs.org/docs/latest/api/net.html#netconnect), [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection), [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten), 그리고 [`socket.connect()`](https://nodejs.org/docs/latest/api/net.html#socketconnect)는 IPC 엔드포인트를 식별하기 위해 `path` 매개변수를 사용합니다.

**Unix 시스템에서**  
로컬 도메인은 Unix 도메인으로도 알려져 있습니다. 경로는 파일 시스템 경로명입니다. 경로명의 길이가 `sizeof(sockaddr_un.sun_path)`보다 길면 오류가 발생합니다. 일반적으로 Linux에서는 107바이트, macOS에서는 103바이트가 최대 길이입니다. Node.js API 추상화가 Unix 도메인 소켓을 생성하면, Unix 도메인 소켓도 함께 제거합니다. 예를 들어, [`net.createServer()`](https://nodejs.org/docs/latest/api/net.html#netcreateserveroptions-connectionlistener)는 Unix 도메인 소켓을 생성하고, [`server.close()`](https://nodejs.org/docs/latest/api/net.html#serverclosecallback)는 이를 제거합니다. 하지만 사용자가 이러한 추상화 외부에서 Unix 도메인 소켓을 생성한 경우, 사용자가 직접 제거해야 합니다. Node.js API가 Unix 도메인 소켓을 생성했지만 프로그램이 비정상 종료된 경우에도 동일하게 적용됩니다. 요약하면, Unix 도메인 소켓은 파일 시스템에 보이며, 제거될 때까지 유지됩니다. Linux에서는 경로 앞에 `\0`을 추가하여 Unix 추상 소켓을 사용할 수 있습니다. 예를 들어 `\0abstract`와 같이 사용합니다. Unix 추상 소켓의 경로는 파일 시스템에 보이지 않으며, 소켓에 대한 모든 열린 참조가 닫히면 자동으로 사라집니다.

**Windows 시스템에서**  
로컬 도메인은 명명된 파이프를 사용하여 구현됩니다. 경로는 반드시 `\\?\pipe\` 또는 `\\.\pipe\` 내의 항목을 참조해야 합니다. 모든 문자가 허용되지만, 후자는 `..` 시퀀스를 해결하는 등 파이프 이름에 대한 일부 처리를 수행할 수 있습니다. 겉보기와 달리 파이프 네임스페이스는 평면적입니다. 파이프는 **지속되지 않습니다**. 마지막 참조가 닫히면 제거됩니다. Unix 도메인 소켓과 달리, Windows는 소유 프로세스가 종료되면 파이프를 닫고 제거합니다.

JavaScript 문자열 이스케이프는 경로를 지정할 때 추가적인 백슬래시 이스케이프가 필요합니다. 예를 들면 다음과 같습니다:

```js
net.createServer().listen(path.join('\\\\?\\pipe', process.cwd(), 'myctl'));
```


### 클래스: `net.BlockList`[#](https://nodejs.org/docs/latest/api/net.html#class-netblocklist)

추가된 버전: v15.0.0, v14.18.0

`BlockList` 객체는 특정 IP 주소, IP 범위 또는 IP 서브넷에 대한 인바운드 또는 아웃바운드 접근을 차단하는 규칙을 지정하기 위해 일부 네트워크 API와 함께 사용할 수 있습니다.


#### `blockList.addAddress(address[, type])`[#](https://nodejs.org/docs/latest/api/net.html#blocklistaddaddressaddress-type)

추가된 버전: v15.0.0, v14.18.0

-   `address` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) IPv4 또는 IPv6 주소.
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'`. **기본값:** `'ipv4'`.

주어진 IP 주소를 차단하는 규칙을 추가합니다.


#### `blockList.addRange(start, end[, type])`[#](https://nodejs.org/docs/latest/api/net.html#blocklistaddrangestart-end-type)

추가된 버전: v15.0.0, v14.18.0

-   `start` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) 범위의 시작 IPv4 또는 IPv6 주소
-   `end` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) 범위의 끝 IPv4 또는 IPv6 주소
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'`. **기본값:** `'ipv4'`

`start`(포함)부터 `end`(포함)까지의 IP 주소 범위를 차단하는 규칙을 추가합니다.


#### `blockList.addSubnet(net, prefix[, type])`[#](https://nodejs.org/docs/latest/api/net.html#blocklistaddsubnetnet-prefix-type)

추가된 버전: v15.0.0, v14.18.0

-   `net` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) IPv4 또는 IPv6 네트워크 주소.
-   `prefix` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) CIDR 프리픽스 비트 수. IPv4의 경우 `0`에서 `32` 사이의 값이어야 합니다. IPv6의 경우 `0`에서 `128` 사이의 값이어야 합니다.
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'` 중 하나. **기본값:** `'ipv4'`.

서브넷 마스크로 지정된 IP 주소 범위를 차단하는 규칙을 추가합니다.


#### `blockList.check(address[, type])`[#](https://nodejs.org/docs/latest/api/net.html#blocklistcheckaddress-type)

추가된 버전: v15.0.0, v14.18.0

-   `address` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) 확인할 IP 주소
-   `type` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'`. **기본값:** `'ipv4'`.
-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

주어진 IP 주소가 `BlockList`에 추가된 규칙 중 하나와 일치하면 `true`를 반환합니다.

```js
const blockList = new net.BlockList();
blockList.addAddress('123.123.123.123');
blockList.addRange('10.0.0.1', '10.0.0.10');
blockList.addSubnet('8592:757c:efae:4e45::', 64, 'ipv6');

console.log(blockList.check('123.123.123.123')); // 출력: true
console.log(blockList.check('10.0.0.3')); // 출력: true
console.log(blockList.check('222.111.111.222')); // 출력: false

// IPv4 주소를 IPv6 표기법으로도 확인 가능:
console.log(blockList.check('::ffff:7b7b:7b7b', 'ipv6')); // 출력: true
console.log(blockList.check('::ffff:123.123.123.123', 'ipv6')); // 출력: true
```


#### `blockList.rules`[#](https://nodejs.org/docs/latest/api/net.html#blocklistrules)

추가된 버전: v15.0.0, v14.18.0

-   타입: [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

차단 목록에 추가된 규칙들의 목록입니다.


#### `BlockList.isBlockList(value)`[#](https://nodejs.org/docs/latest/api/net.html#blocklistisblocklistvalue)

v23.4.0 버전에서 추가됨

-   `value` [`<any>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types) 모든 자바스크립트 값
-   `value`가 `net.BlockList`인 경우 `true`를 반환합니다.


### 클래스: `net.SocketAddress`[#](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress)

추가된 버전: v15.14.0, v14.18.0


#### `new net.SocketAddress([options])`[#](https://nodejs.org/docs/latest/api/net.html#new-netsocketaddressoptions)

추가된 버전: v15.14.0, v14.18.0

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
    -   `address` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) IPv4 또는 IPv6 문자열로 된 네트워크 주소. **기본값**: `family`가 `'ipv4'`인 경우 `'127.0.0.1'`, `family`가 `'ipv6'`인 경우 `'::'`.
    -   `family` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'` 중 하나. **기본값**: `'ipv4'`.
    -   `flowlabel` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `family`가 `'ipv6'`일 때만 사용되는 IPv6 플로우 레이블.
    -   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) IP 포트.


#### `socketaddress.address`[#](https://nodejs.org/docs/latest/api/net.html#socketaddressaddress)

추가된 버전: v15.14.0, v14.18.0

-   타입: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)


#### `socketaddress.family`[#](https://nodejs.org/docs/latest/api/net.html#socketaddressfamily)

추가된 버전: v15.14.0, v14.18.0

-   타입: [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `'ipv4'` 또는 `'ipv6'` 중 하나입니다.


#### `socketaddress.flowlabel`[#](https://nodejs.org/docs/latest/api/net.html#socketaddressflowlabel)

추가된 버전: v15.14.0, v14.18.0

-   타입: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)


#### `socketaddress.port`[#](https://nodejs.org/docs/latest/api/net.html#socketaddressport)

추가된 버전: v15.14.0, v14.18.0

-   타입: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)


#### `SocketAddress.parse(input)`[#](https://nodejs.org/docs/latest/api/net.html#socketaddressparseinput)

추가된 버전: v23.4.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) IP 주소와 선택적으로 포트를 포함한 입력 문자열입니다. 예: `123.1.2.3:1234` 또는 `[1::1]:1234`.
-   반환값: [`<net.SocketAddress>`](https://nodejs.org/docs/latest/api/net.html#class-netsocketaddress) 파싱이 성공하면 `SocketAddress`를 반환합니다. 그렇지 않으면 `undefined`를 반환합니다.


### 클래스: `net.Server`[#](https://nodejs.org/docs/latest/api/net.html#class-netserver)

추가된 버전: v0.1.90

-   상속: [`<EventEmitter>`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)

이 클래스는 TCP 또는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버를 생성하는 데 사용됩니다.


#### `new net.Server([options][, connectionListener])`[#](https://nodejs.org/docs/latest/api/net.html#new-netserveroptions-connectionlistener)

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) [`net.createServer([options][, connectionListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateserveroptions-connectionlistener)를 참고하세요.
-   `connectionListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) [`'connection'`](https://nodejs.org/docs/latest/api/net.html#event-connection) 이벤트에 대한 리스너로 자동 설정됩니다.
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

`net.Server`는 다음과 같은 이벤트를 가진 [`EventEmitter`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)입니다:


#### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/net.html#event-close)

추가된 버전: v0.5.0

서버가 닫힐 때 발생합니다. 연결이 존재하는 경우, 모든 연결이 종료될 때까지 이 이벤트는 발생하지 않습니다.


#### 이벤트: `'connection'`[#](https://nodejs.org/docs/latest/api/net.html#event-connection)

추가된 버전: v0.1.90

-   [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 연결 객체

새로운 연결이 생성될 때 발생합니다. `socket`은 `net.Socket`의 인스턴스입니다.


#### 이벤트: `'error'`[#](https://nodejs.org/docs/latest/api/net.html#event-error)

추가된 버전: v0.1.90

-   [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

에러가 발생했을 때 이벤트가 발생합니다. [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)과 달리, 이 이벤트가 발생한 후에는 [`'close'`](https://nodejs.org/docs/latest/api/net.html#event-close) 이벤트가 자동으로 발생하지 않습니다. 단, [`server.close()`](https://nodejs.org/docs/latest/api/net.html#serverclosecallback)를 수동으로 호출한 경우는 예외입니다. 자세한 예제는 [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten)에 대한 설명을 참고하세요.


#### 이벤트: `'listening'`[#](https://nodejs.org/docs/latest/api/net.html#event-listening)

추가된 버전: v0.1.90

이 이벤트는 [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten)을 호출한 후 서버가 바인딩되었을 때 발생합니다.


#### 이벤트: `'drop'`[#](https://nodejs.org/docs/latest/api/net.html#event-drop)

추가된 버전: v18.6.0, v16.17.0

서버의 연결 수가 `server.maxConnections` 임계값에 도달하면, 서버는 새로운 연결을 거부하고 `'drop'` 이벤트를 발생시킵니다. TCP 서버인 경우, 이벤트 리스너에 전달되는 인자는 다음과 같습니다. 그렇지 않은 경우, 인자는 `undefined`입니다.

-   `data` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) 이벤트 리스너에 전달되는 인자.
    -   `localAddress` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 로컬 주소.
    -   `localPort` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 로컬 포트.
    -   `localFamily` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 로컬 IP 패밀리.
    -   `remoteAddress` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 원격 주소.
    -   `remotePort` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 원격 포트.
    -   `remoteFamily` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 원격 IP 패밀리. `'IPv4'` 또는 `'IPv6'`.


#### `server.address()`[#](https://nodejs.org/docs/latest/api/net.html#serveraddress)

-   반환값: [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type)

서버가 IP 소켓에서 리스닝 중일 때, 운영체제가 보고한 바인딩된 `address`, 주소 `family` 이름, 그리고 `port`를 반환합니다. 이는 OS가 할당한 주소를 받았을 때 어떤 포트가 할당되었는지 확인하는 데 유용합니다. 예를 들어 `{ port: 12346, family: 'IPv4', address: '127.0.0.1' }`와 같은 형태로 반환됩니다.

파이프나 유닉스 도메인 소켓에서 리스닝 중인 서버의 경우, 이름이 문자열로 반환됩니다.

```js
const server = net.createServer((socket) => {
    socket.end('goodbye\n');
}).on('error', (err) => {
    // 에러 처리
    throw err;
});

// 사용되지 않은 임의의 포트를 사용
server.listen(() => {
    console.log('opened server on', server.address());
});
```

`server.address()`는 `'listening'` 이벤트가 발생하기 전이나 `server.close()`를 호출한 후에는 `null`을 반환합니다.


#### `server.close([callback])`[#](https://nodejs.org/docs/latest/api/net.html#serverclosecallback)

추가된 버전: v0.1.90

-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 서버가 닫힐 때 호출되는 콜백 함수.
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

서버가 새로운 연결을 받아들이지 못하도록 중지하고, 기존 연결은 유지합니다. 이 함수는 비동기적으로 동작하며, 모든 연결이 종료되고 서버가 [`'close'`](https://nodejs.org/docs/latest/api/net.html#event-close) 이벤트를 발생시킬 때 최종적으로 서버가 닫힙니다. 선택적으로 제공된 `callback`은 `'close'` 이벤트가 발생할 때 한 번 호출됩니다. 이 이벤트와 달리, 서버가 닫힐 때 열려 있지 않았다면 `callback`은 `Error`를 유일한 인자로 받아 호출됩니다.


#### `server[Symbol.asyncDispose]()`[#](https://nodejs.org/docs/latest/api/net.html#serversymbolasyncdispose)

추가된 버전: v20.5.0, v18.18.0

이 메서드는 [`server.close()`](https://nodejs.org/docs/latest/api/net.html#serverclosecallback)를 호출하고, 서버가 완전히 종료될 때까지 기다리는 Promise를 반환합니다.


#### `server.getConnections(callback)`[#](https://nodejs.org/docs/latest/api/net.html#servergetconnectionscallback)

추가된 버전: v0.9.7

-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

서버의 동시 연결 수를 비동기적으로 가져옵니다. 소켓이 포크로 전송된 경우에도 작동합니다.

콜백은 `err`과 `count` 두 개의 인자를 받아야 합니다.


#### `server.listen()`[#](https://nodejs.org/docs/latest/api/net.html#serverlisten)

서버가 연결을 기다리도록 시작합니다. `net.Server`는 TCP 서버 또는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버가 될 수 있으며, 이는 어떤 것을 기다리는지에 따라 결정됩니다.

가능한 시그니처:

-   [`server.listen(handle[, backlog][, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenhandle-backlog-callback)
-   [`server.listen(options[, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenoptions-callback)
-   [`server.listen(path[, backlog][, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenpath-backlog-callback) ([IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버용)
-   [`server.listen([port[, host[, backlog]]][, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenport-host-backlog-callback) (TCP 서버용)

이 함수는 비동기적으로 동작합니다. 서버가 연결을 기다리기 시작하면 [`'listening'`](https://nodejs.org/docs/latest/api/net.html#event-listening) 이벤트가 발생합니다. 마지막 매개변수인 `callback`은 [`'listening'`](https://nodejs.org/docs/latest/api/net.html#event-listening) 이벤트의 리스너로 추가됩니다.

모든 `listen()` 메서드는 `backlog` 매개변수를 받아서 대기 중인 연결 큐의 최대 길이를 지정할 수 있습니다. 실제 길이는 Linux에서 `tcp_max_syn_backlog` 및 `somaxconn`과 같은 sysctl 설정에 의해 결정됩니다. 이 매개변수의 기본값은 511입니다 (512가 아님).

모든 [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)은 `SO_REUSEADDR`로 설정됩니다 (자세한 내용은 [`socket(7)`](https://man7.org/linux/man-pages/man7/socket.7.html) 참조).

`server.listen()` 메서드는 첫 번째 `server.listen()` 호출 중에 오류가 발생했거나 `server.close()`가 호출된 경우에만 다시 호출할 수 있습니다. 그렇지 않으면 `ERR_SERVER_ALREADY_LISTEN` 오류가 발생합니다.

연결을 기다릴 때 가장 흔히 발생하는 오류 중 하나는 `EADDRINUSE`입니다. 이 오류는 다른 서버가 이미 요청된 `port`/`path`/`handle`에서 연결을 기다리고 있을 때 발생합니다. 이를 처리하는 한 가지 방법은 일정 시간 후에 다시 시도하는 것입니다:

```js
server.on('error', (e) => {
    if (e.code === 'EADDRINUSE') {
        console.error('Address in use, retrying...');
        setTimeout(() => {
            server.close();
            server.listen(PORT, HOST);
        }, 1000);
    }
});
```


##### `server.listen(handle[, backlog][, callback])`[#](https://nodejs.org/docs/latest/api/net.html#serverlistenhandle-backlog-callback)

추가된 버전: v0.5.10

-   `handle` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
-   `backlog` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten) 함수의 공통 인자
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

이미 포트, 유닉스 도메인 소켓, 또는 윈도우 명명된 파이프에 바인딩된 `handle`에서 연결을 기다리는 서버를 시작합니다.

`handle` 객체는 서버, 소켓(내부적으로 `_handle` 멤버를 가진 모든 객체), 또는 유효한 파일 디스크립터를 가진 `fd` 멤버를 가진 객체일 수 있습니다.

윈도우에서는 파일 디스크립터를 통한 리스닝이 지원되지 않습니다.


##### `server.listen(options[, callback])`

- `options` [`<Object>`] (필수) 다음 속성을 지원합니다:
    - `backlog` [`<number>`] [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten) 함수의 공통 매개변수입니다.
    - `exclusive` [`<boolean>`] **기본값:** `false`
    - `host` [`<string>`]
    - `ipv6Only` [`<boolean>`] TCP 서버에서 `ipv6Only`를 `true`로 설정하면 듀얼 스택 지원이 비활성화됩니다. 즉, 호스트 `::`에 바인딩해도 `0.0.0.0`이 바인딩되지 않습니다. **기본값:** `false`.
    - `reusePort` [`<boolean>`] TCP 서버에서 `reusePort`를 `true`로 설정하면 동일한 호스트의 여러 소켓이 동일한 포트에 바인딩될 수 있습니다. 들어오는 연결은 운영체제가 리스닝 소켓에 분배합니다. 이 옵션은 Linux 3.9+, DragonFlyBSD 3.6+, FreeBSD 12.0+, Solaris 11.4, AIX 7.2.5+ 등 일부 플랫폼에서만 사용 가능합니다. **기본값:** `false`.
    - `path` [`<string>`] `port`가 지정된 경우 무시됩니다. [IPC 연결을 위한 경로 식별](https://nodejs.org/docs/latest/api/net.html#identifying-paths-for-ipc-connections)을 참조하세요.
    - `port` [`<number>`]
    - `readableAll` [`<boolean>`] IPC 서버에서 파이프를 모든 사용자가 읽을 수 있게 만듭니다. **기본값:** `false`.
    - `signal` [`<AbortSignal>`] 리스닝 서버를 닫는 데 사용할 수 있는 AbortSignal입니다.
    - `writableAll` [`<boolean>`] IPC 서버에서 파이프를 모든 사용자가 쓸 수 있게 만듭니다. **기본값:** `false`.
- `callback` [`<Function>`] 함수입니다.
- 반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

`port`가 지정된 경우, [`server.listen([port[, host[, backlog]]][, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenport-host-backlog-callback)와 동일하게 동작합니다. `path`가 지정된 경우, [`server.listen(path[, backlog][, callback])`](https://nodejs.org/docs/latest/api/net.html#serverlistenpath-backlog-callback)와 동일하게 동작합니다. 둘 다 지정되지 않으면 오류가 발생합니다.

`exclusive`가 `false`(기본값)인 경우, 클러스터 워커는 동일한 핸들을 사용하여 연결 처리 작업을 공유할 수 있습니다. `exclusive`가 `true`인 경우, 핸들이 공유되지 않으며 포트 공유 시도는 오류를 발생시킵니다. 아래는 독점 포트에서 리스닝하는 예제입니다.

```js
server.listen({ host: 'localhost', port: 80, exclusive: true });
```

`exclusive`가 `true`이고 기본 핸들이 공유되는 경우, 여러 워커가 서로 다른 `backlog`로 핸들을 쿼리할 수 있습니다. 이 경우, 마스터 프로세스에 전달된 첫 번째 `backlog`가 사용됩니다.

루트 권한으로 IPC 서버를 시작하면 권한이 없는 사용자가 서버 경로에 접근할 수 없을 수 있습니다. `readableAll`과 `writableAll`을 사용하면 모든 사용자가 서버에 접근할 수 있습니다.

`signal` 옵션이 활성화된 경우, 해당 `AbortController`에서 `.abort()`를 호출하는 것은 서버에서 `.close()`를 호출하는 것과 유사합니다:

```js
const controller = new AbortController();
server.listen({ host: 'localhost', port: 80, signal: controller.signal });

// 나중에 서버를 닫고 싶을 때
controller.abort();
```


##### `server.listen(path[, backlog][, callback])`[#](https://nodejs.org/docs/latest/api/net.html#serverlistenpath-backlog-callback)

추가된 버전: v0.1.90

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 서버가 리슨할 경로. [IPC 연결을 위한 경로 식별](https://nodejs.org/docs/latest/api/net.html#identifying-paths-for-ipc-connections)을 참고하세요.
-   `backlog` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten) 함수의 공통 매개변수.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 콜백 함수.
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

주어진 `path`에서 연결을 기다리는 IPC 서버를 시작합니다.


##### `server.listen([port[, host[, backlog]]][, callback])`[#](https://nodejs.org/docs/latest/api/net.html#serverlistenport-host-backlog-callback)

추가된 버전: v0.1.90

-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `backlog` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) [`server.listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten) 함수의 공통 인자.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function).
-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

주어진 `port`와 `host`에서 연결을 기다리는 TCP 서버를 시작합니다.

`port`가 생략되거나 0으로 설정되면, 운영체제가 사용 가능한 임의의 포트를 할당합니다. 이 포트는 [`'listening'`](https://nodejs.org/docs/latest/api/net.html#event-listening) 이벤트가 발생한 후 `server.address().port`를 사용해 확인할 수 있습니다.

`host`가 생략되면, 서버는 IPv6가 사용 가능한 경우 [지정되지 않은 IPv6 주소](https://en.wikipedia.org/wiki/IPv6_address#Unspecified_address) (`::`)에서 연결을 수락하고, 그렇지 않으면 [지정되지 않은 IPv4 주소](https://en.wikipedia.org/wiki/0.0.0.0) (`0.0.0.0`)에서 연결을 수락합니다.

대부분의 운영체제에서 [지정되지 않은 IPv6 주소](https://en.wikipedia.org/wiki/IPv6_address#Unspecified_address) (`::`)를 수신하면 `net.Server`가 [지정되지 않은 IPv4 주소](https://en.wikipedia.org/wiki/0.0.0.0) (`0.0.0.0`)에서도 수신할 수 있습니다.


#### `server.listening`[#](https://nodejs.org/docs/latest/api/net.html#serverlistening)

추가된 버전: v5.7.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 서버가 연결을 수신 중인지 여부를 나타냅니다.


#### `server.maxConnections`[#](https://nodejs.org/docs/latest/api/net.html#servermaxconnections)

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

연결 수가 `server.maxConnections` 임계값에 도달하면:

1.  프로세스가 클러스터 모드에서 실행되지 않는 경우, Node.js는 연결을 닫습니다.
    
2.  프로세스가 클러스터 모드에서 실행되는 경우, Node.js는 기본적으로 연결을 다른 워커 프로세스로 라우팅합니다. 대신 연결을 닫으려면 \[`server.dropMaxConnection`\]\[\]을 `true`로 설정하세요.
    

[`child_process.fork()`](https://nodejs.org/docs/latest/api/child_process.html#child_processforkmodulepath-args-options)를 통해 소켓이 자식 프로세스로 전송된 후에는 이 옵션을 사용하지 않는 것이 좋습니다.


#### `server.dropMaxConnection`[#](https://nodejs.org/docs/latest/api/net.html#serverdropmaxconnection)

추가된 버전: v23.1.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

이 속성을 `true`로 설정하면 연결 수가 \[`server.maxConnections`\]\[\] 임계값에 도달했을 때 연결을 닫기 시작합니다. 이 설정은 클러스터 모드에서만 유효합니다.


#### `server.ref()`[#](https://nodejs.org/docs/latest/api/net.html#serverref)

추가된 버전: v0.9.1

-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

`unref()`의 반대 동작입니다. 이전에 `unref`된 서버에서 `ref()`를 호출하면, 해당 서버가 마지막으로 남은 서버일 때 프로그램이 종료되지 않습니다(기본 동작). 이미 `ref`된 서버에서 `ref()`를 다시 호출해도 아무런 효과가 없습니다.


#### `server.unref()`[#](https://nodejs.org/docs/latest/api/net.html#serverunref)

추가된 버전: v0.9.1

-   반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

서버에서 `unref()`를 호출하면, 이 서버가 이벤트 시스템에서 유일하게 활성화된 서버일 경우 프로그램이 종료될 수 있도록 허용합니다. 이미 `unref` 상태인 서버에서 `unref()`를 다시 호출해도 아무런 효과가 없습니다.


### 클래스: `net.Socket`[#](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

추가된 버전: v0.3.4

-   상속: [`<stream.Duplex>`](https://nodejs.org/docs/latest/api/stream.html#class-streamduplex)

이 클래스는 TCP 소켓 또는 스트리밍 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 엔드포인트(윈도우에서는 명명된 파이프를 사용하고, 그 외에는 유닉스 도메인 소켓을 사용)를 추상화한 것입니다. 또한 [`EventEmitter`](https://nodejs.org/docs/latest/api/events.html#class-eventemitter)이기도 합니다.

`net.Socket`은 사용자가 직접 생성하여 서버와 상호작용할 수 있습니다. 예를 들어, [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection)에 의해 반환되므로, 사용자는 이를 통해 서버와 통신할 수 있습니다.

또한 Node.js에 의해 생성되어 연결이 수신될 때 사용자에게 전달될 수도 있습니다. 예를 들어, [`net.Server`](https://nodejs.org/docs/latest/api/net.html#class-netserver)에서 발생한 [`'connection'`](https://nodejs.org/docs/latest/api/net.html#event-connection) 이벤트의 리스너에게 전달되므로, 사용자는 이를 통해 클라이언트와 상호작용할 수 있습니다.


#### `new net.Socket([options])`

- `options` [`<Object>`] 사용 가능한 옵션은 다음과 같습니다:
    - `allowHalfOpen` [`<boolean>`] `false`로 설정하면, 읽기 가능한 쪽이 끝날 때 쓰기 가능한 쪽도 자동으로 종료됩니다. 자세한 내용은 [`net.createServer()`](https://nodejs.org/docs/latest/api/net.html#netcreateserveroptions-connectionlistener)와 [`'end'`](https://nodejs.org/docs/latest/api/net.html#event-end) 이벤트를 참조하세요. **기본값:** `false`.
    - `fd` [`<number>`] 지정된 경우, 주어진 파일 디스크립터로 기존 소켓을 감싸고, 그렇지 않으면 새로운 소켓이 생성됩니다.
    - `onread` [`<Object>`] 지정된 경우, 들어오는 데이터는 단일 `buffer`에 저장되고, 데이터가 소켓에 도착하면 제공된 `callback`으로 전달됩니다. 이로 인해 스트리밍 기능은 데이터를 제공하지 않습니다. 소켓은 `'error'`, `'end'`, `'close'`와 같은 이벤트를 일반적으로 발생시킵니다. `pause()` 및 `resume()`과 같은 메서드도 예상대로 동작합니다.
        - `buffer` [`<Buffer>`] | [`<Uint8Array>`] | [`<Function>`] 들어오는 데이터를 저장하기 위해 재사용 가능한 메모리 청크 또는 이를 반환하는 함수입니다.
        - `callback` [`<Function>`] 들어오는 데이터의 각 청크에 대해 이 함수가 호출됩니다. 두 개의 인자가 전달됩니다: `buffer`에 기록된 바이트 수와 `buffer`에 대한 참조입니다. 이 함수에서 `false`를 반환하면 암시적으로 `pause()`가 호출됩니다. 이 함수는 전역 컨텍스트에서 실행됩니다.
    - `readable` [`<boolean>`] `fd`가 전달된 경우 소켓에서 읽기를 허용하고, 그렇지 않으면 무시됩니다. **기본값:** `false`.
    - `signal` [`<AbortSignal>`] 소켓을 파괴하는 데 사용할 수 있는 Abort 신호입니다.
    - `writable` [`<boolean>`] `fd`가 전달된 경우 소켓에서 쓰기를 허용하고, 그렇지 않으면 무시됩니다. **기본값:** `false`.
- 반환값: [`<net.Socket>`]

새로운 소켓 객체를 생성합니다.

새로 생성된 소켓은 TCP 소켓 또는 스트리밍 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 엔드포인트가 될 수 있으며, 이는 [`connect()`](https://nodejs.org/docs/latest/api/net.html#socketconnect)에 연결된 대상에 따라 달라집니다.


#### 이벤트: `'close'`[#](https://nodejs.org/docs/latest/api/net.html#event-close_1)

추가된 버전: v0.1.90

-   `hadError` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 소켓에 전송 오류가 발생했을 경우 `true`입니다.

소켓이 완전히 닫힐 때 발생하는 이벤트입니다. `hadError` 인자는 소켓이 전송 오류로 인해 닫혔는지 여부를 나타내는 불리언 값입니다.


#### 이벤트: `'connect'`[#](https://nodejs.org/docs/latest/api/net.html#event-connect)

추가된 버전: v0.1.90

소켓 연결이 성공적으로 설정되었을 때 발생합니다. 자세한 내용은 [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection)을 참고하세요.


#### 이벤트: `'connectionAttempt'`[#](https://nodejs.org/docs/latest/api/net.html#event-connectionattempt)

추가된 버전: v21.6.0, v20.12.0

-   `ip` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결을 시도하는 IP 주소.
-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 소켓이 연결을 시도하는 포트 번호.
-   `family` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) IP의 주소 체계. IPv6일 경우 `6`, IPv4일 경우 `4`가 됨.

새로운 연결 시도가 시작될 때 발생하는 이벤트입니다. [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)에서 IP 주소 체계 자동 선택 알고리즘이 활성화된 경우, 이 이벤트는 여러 번 발생할 수 있습니다.


#### 이벤트: `'connectionAttemptFailed'`[#](https://nodejs.org/docs/latest/api/net.html#event-connectionattemptfailed)

추가된 버전: v21.6.0, v20.12.0

-   `ip` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결을 시도한 IP 주소
-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 소켓이 연결을 시도한 포트 번호
-   `family` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) IP 주소의 종류. `6`은 IPv6, `4`는 IPv4를 의미
-   `error` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) 연결 실패와 관련된 오류 객체

이 이벤트는 연결 시도가 실패했을 때 발생합니다. [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)에서 IP 주소 자동 선택 알고리즘이 활성화된 경우, 이 이벤트가 여러 번 발생할 수 있습니다.


#### 이벤트: `'connectionAttemptTimeout'`[#](https://nodejs.org/docs/latest/api/net.html#event-connectionattempttimeout)

추가된 버전: v21.6.0, v20.12.0

-   `ip` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결을 시도한 IP 주소
-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 소켓이 연결을 시도한 포트 번호
-   `family` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) IP 주소의 종류. `6`은 IPv6, `4`는 IPv4를 나타냄

이 이벤트는 연결 시도가 시간 초과되었을 때 발생합니다. 이 이벤트는 [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)에서 IP 주소 자동 선택 알고리즘이 활성화된 경우에만 발생하며, 여러 번 발생할 수 있습니다.


#### 이벤트: `'data'`[#](https://nodejs.org/docs/latest/api/net.html#event-data)

추가된 버전: v0.1.90

-   [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

데이터를 받았을 때 발생하는 이벤트입니다. 인자 `data`는 `Buffer` 또는 `String` 타입입니다. 데이터의 인코딩은 [`socket.setEncoding()`](https://nodejs.org/docs/latest/api/net.html#socketsetencodingencoding)으로 설정할 수 있습니다.

`Socket`이 `'data'` 이벤트를 발생시킬 때, 리스너가 없다면 데이터는 유실됩니다.


#### 이벤트: `'drain'`[#](https://nodejs.org/docs/latest/api/net.html#event-drain)

추가된 버전: v0.1.90

쓰기 버퍼가 비워질 때 발생합니다. 업로드 속도를 조절하는 데 사용할 수 있습니다.

참고: `socket.write()`의 반환 값을 확인해 보세요.


#### 이벤트: `'end'`[#](https://nodejs.org/docs/latest/api/net.html#event-end)

추가된 버전: v0.1.90

이 이벤트는 소켓의 반대편에서 전송 종료를 알릴 때 발생하며, 이로 인해 소켓의 읽기 가능한 부분이 종료됩니다.

기본적으로 (`allowHalfOpen`이 `false`인 경우), 소켓은 전송 종료 패킷을 보내고, 보류 중인 쓰기 큐를 모두 처리한 후 파일 디스크립터를 제거합니다. 그러나 `allowHalfOpen`이 `true`로 설정된 경우, 소켓은 쓰기 가능한 부분을 자동으로 종료하지 않으며, 사용자가 원하는 만큼의 데이터를 계속 쓸 수 있습니다. 이 경우, 사용자는 연결을 종료하기 위해 명시적으로 [`end()`](https://nodejs.org/docs/latest/api/net.html#socketenddata-encoding-callback)를 호출해야 합니다 (즉, FIN 패킷을 보내야 합니다).


#### 이벤트: `'error'`[#](https://nodejs.org/docs/latest/api/net.html#event-error_1)

추가된 버전: v0.1.90

-   [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

에러가 발생할 때 발생하는 이벤트입니다. 이 이벤트가 발생한 직후에 `'close'` 이벤트가 호출됩니다.


#### 이벤트: `'lookup'`[#](https://nodejs.org/docs/latest/api/net.html#event-lookup)

호스트 이름을 해결한 후, 연결하기 전에 발생하는 이벤트입니다. Unix 소켓에는 적용되지 않습니다.

-   `err` [`<Error>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 에러 객체. [`dns.lookup()`](https://nodejs.org/docs/latest/api/dns.html#dnslookuphostname-options-callback)를 참고하세요.
-   `address` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) IP 주소.
-   `family` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<null>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type) 주소 타입. [`dns.lookup()`](https://nodejs.org/docs/latest/api/dns.html#dnslookuphostname-options-callback)를 참고하세요.
-   `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 호스트 이름.


#### 이벤트: `'ready'`[#](https://nodejs.org/docs/latest/api/net.html#event-ready)

추가된 버전: v9.11.0

소켓이 사용 준비가 되었을 때 발생합니다.

`'connect'` 이벤트 직후에 트리거됩니다.


#### 이벤트: `'timeout'`[#](https://nodejs.org/docs/latest/api/net.html#event-timeout)

추가된 버전: v0.1.90

소켓이 비활성 상태로 인해 타임아웃되면 이 이벤트가 발생합니다. 이 이벤트는 단순히 소켓이 유휴 상태임을 알리는 역할만 합니다. 사용자는 직접 연결을 닫아야 합니다.

참고: [`socket.setTimeout()`](https://nodejs.org/docs/latest/api/net.html#socketsettimeouttimeout-callback)


#### `socket.address()`[#](https://nodejs.org/docs/latest/api/net.html#socketaddress)

-   반환값: [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

소켓이 바인딩된 `address`, 주소 `family` 이름, 그리고 운영체제가 보고한 `port`를 객체로 반환합니다. 예를 들면 다음과 같습니다: `{ port: 12346, family: 'IPv4', address: '127.0.0.1' }`


#### `socket.autoSelectFamilyAttemptedAddresses`[#](https://nodejs.org/docs/latest/api/net.html#socketautoselectfamilyattemptedaddresses)

추가된 버전: v19.4.0, v18.18.0

-   [`<string\[\]>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

이 속성은 [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)에서 family 자동 선택 알고리즘이 활성화된 경우에만 존재하며, 시도된 주소들의 배열입니다.

각 주소는 `$IP:$PORT` 형식의 문자열입니다. 연결이 성공했다면, 마지막 주소가 현재 소켓이 연결된 주소입니다.


#### `socket.bufferSize`[#](https://nodejs.org/docs/latest/api/net.html#socketbuffersize)

추가된 버전: v0.3.8  
더 이상 사용되지 않음: v14.6.0 이후

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

이 속성은 쓰기 작업을 위해 버퍼링된 문자 수를 나타냅니다. 버퍼에는 인코딩 후 길이가 아직 알려지지 않은 문자열이 포함될 수 있습니다. 따라서 이 숫자는 버퍼에 있는 바이트 수의 근사치일 뿐입니다.

`net.Socket`은 `socket.write()`가 항상 동작하도록 설계되었습니다. 이는 사용자가 빠르게 시작하고 실행할 수 있도록 돕기 위함입니다. 컴퓨터가 소켓에 쓰여지는 데이터 양을 항상 따라갈 수는 없습니다. 네트워크 연결이 너무 느릴 수도 있습니다. Node.js는 내부적으로 소켓에 쓰여진 데이터를 큐에 쌓아두고 가능할 때마다 네트워크를 통해 전송합니다.

이러한 내부 버퍼링의 결과로 메모리가 증가할 수 있습니다. `bufferSize`가 크거나 계속 증가하는 경우, [`socket.pause()`](https://nodejs.org/docs/latest/api/net.html#socketpause)와 [`socket.resume()`](https://nodejs.org/docs/latest/api/net.html#socketresume)을 사용하여 프로그램의 데이터 흐름을 조절해보는 것이 좋습니다.


#### `socket.bytesRead`[#](https://nodejs.org/docs/latest/api/net.html#socketbytesread)

추가된 버전: v0.5.3

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

받은 바이트의 양을 나타냅니다.


#### `socket.bytesWritten`[#](https://nodejs.org/docs/latest/api/net.html#socketbyteswritten)

추가된 버전: v0.5.3

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

전송된 바이트 수를 나타냅니다.


#### `socket.connect()`[#](https://nodejs.org/docs/latest/api/net.html#socketconnect)

주어진 소켓에서 연결을 시작합니다.

사용 가능한 시그니처:

-   [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)
-   [`socket.connect(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectpath-connectlistener) - [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결용
-   [`socket.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener) - TCP 연결용
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) - 소켓 자체

이 함수는 비동기적으로 동작합니다. 연결이 성공적으로 이루어지면 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트가 발생합니다. 연결 중 문제가 발생하면 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트 대신 [`'error'`](https://nodejs.org/docs/latest/api/net.html#event-error_1) 이벤트가 발생하며, 오류 정보가 [`'error'`](https://nodejs.org/docs/latest/api/net.html#event-error_1) 리스너에 전달됩니다. 마지막 매개변수인 `connectListener`가 제공되면, 이는 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트의 리스너로 **한 번** 추가됩니다.

이 함수는 `'close'` 이벤트가 발생한 후 소켓을 재연결할 때만 사용해야 합니다. 그렇지 않으면 예상치 못한 동작이 발생할 수 있습니다.


```javascript
socket.connect(options[, connectListener])
```

- `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
- `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) `socket.connect()` 메서드의 공통 인자. 이 함수는 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트의 리스너로 한 번 추가된다.
- 반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체.

주어진 소켓에서 연결을 시작한다. 일반적으로 이 메서드는 필요하지 않으며, 소켓은 [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection)을 사용해 생성하고 열어야 한다. 이 메서드는 커스텀 소켓을 구현할 때만 사용한다.

TCP 연결을 위한 `options`는 다음과 같다:

- `autoSelectFamily` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type): `true`로 설정하면, [RFC 8305](https://www.rfc-editor.org/rfc/rfc8305.txt)의 5절을 약간 구현한 가족 자동 감지 알고리즘을 활성화한다. `lookup`에 전달된 `all` 옵션은 `true`로 설정되고, 소켓은 얻은 모든 IPv6 및 IPv4 주소에 순차적으로 연결을 시도한다. 첫 번째 반환된 AAAA 주소를 먼저 시도하고, 그 다음 첫 번째 반환된 A 주소, 두 번째 반환된 AAAA 주소 순으로 시도한다. 각 연결 시도(마지막 시도 제외)는 `autoSelectFamilyAttemptTimeout` 옵션으로 지정된 시간 동안 대기한 후 다음 주소를 시도한다. `family` 옵션이 `0`이 아니거나 `localAddress`가 설정된 경우 무시된다. 연결 시도 중 하나라도 성공하면 연결 오류는 발생하지 않는다. 모든 연결 시도가 실패하면, 모든 실패한 시도를 포함한 단일 `AggregateError`가 발생한다. **기본값:** [`net.getDefaultAutoSelectFamily()`](https://nodejs.org/docs/latest/api/net.html#netgetdefaultautoselectfamily).
- `autoSelectFamilyAttemptTimeout` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type): `autoSelectFamily` 옵션을 사용할 때, 다음 주소를 시도하기 전에 연결 시도가 완료될 때까지 대기하는 시간(밀리초 단위). 양의 정수로 설정하고 `10`보다 작으면 `10`으로 설정된다. **기본값:** [`net.getDefaultAutoSelectFamilyAttemptTimeout()`](https://nodejs.org/docs/latest/api/net.html#netgetdefaultautoselectfamilyattempttimeout).
- `family` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type): IP 스택 버전. `4`, `6`, 또는 `0`이어야 한다. `0`은 IPv4와 IPv6 주소 모두 허용됨을 의미한다. **기본값:** `0`.
- `hints` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 선택적 [`dns.lookup()` 힌트](https://nodejs.org/docs/latest/api/dns.html#supported-getaddrinfo-flags).
- `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결할 호스트. **기본값:** `'localhost'`.
- `keepAlive` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 연결이 성립된 직후 소켓에서 keep-alive 기능을 활성화한다. 이는 [`socket.setKeepAlive()`](https://nodejs.org/docs/latest/api/net.html#socketsetkeepaliveenable-initialdelay)와 유사하다. **기본값:** `false`.
- `keepAliveInitialDelay` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 양수로 설정하면, 유휴 소켓에서 첫 번째 keepalive 프로브를 보내기 전의 초기 지연 시간을 설정한다. **기본값:** `0`.
- `localAddress` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결할 로컬 주소.
- `localPort` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 소켓이 연결할 로컬 포트.
- `lookup` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 커스텀 lookup 함수. **기본값:** [`dns.lookup()`](https://nodejs.org/docs/latest/api/dns.html#dnslookuphostname-options-callback).
- `noDelay` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `true`로 설정하면, 소켓이 성립된 직후 Nagle 알고리즘 사용을 비활성화한다. **기본값:** `false`.
- `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 필수. 소켓이 연결할 포트.
- `blockList` [`<net.BlockList>`](https://nodejs.org/docs/latest/api/net.html#class-netblocklist) `blockList`는 특정 IP 주소, IP 범위 또는 IP 서브넷에 대한 아웃바운드 접근을 비활성화하는 데 사용된다.

[IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결을 위한 `options`는 다음과 같다:

- `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 필수. 클라이언트가 연결할 경로. [IPC 연결을 위한 경로 식별](https://nodejs.org/docs/latest/api/net.html#identifying-paths-for-ipc-connections) 참조. 이 옵션이 제공되면, 위의 TCP 관련 옵션은 무시된다.


```javascript
socket.connect(path[, connectListener])
```

- `path` [`<string>`] 클라이언트가 연결할 경로입니다. [IPC 연결을 위한 경로 식별](https://nodejs.org/docs/latest/api/net.html#identifying-paths-for-ipc-connections)을 참고하세요.
- `connectListener` [`<Function>`] [`socket.connect()`](https://nodejs.org/docs/latest/api/net.html#socketconnect) 메서드의 공통 인자입니다. [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트에 대한 리스너로 한 번 추가됩니다.
- 반환값: [`<net.Socket>`] 소켓 자체를 반환합니다.

주어진 소켓에서 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결을 시작합니다.

`{ path: path }`를 `options`로 사용하여 [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)를 호출하는 것과 동일합니다.


##### `socket.connect(port[, host][, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener)

추가된 버전: v0.1.90

-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 클라이언트가 연결할 포트 번호.
-   `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 클라이언트가 연결할 호스트 주소.
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) [`socket.connect()`](https://nodejs.org/docs/latest/api/net.html#socketconnect) 메서드의 공통 인자. [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트에 대한 리스너로 한 번 추가된다.
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체.

주어진 소켓에서 TCP 연결을 시작한다.

`{port: port, host: host}`를 `options`로 사용하여 [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)를 호출하는 것과 동일하다.


#### `socket.connecting`[#](https://nodejs.org/docs/latest/api/net.html#socketconnecting)

추가된 버전: v6.1.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

이 값이 `true`라면, [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)가 호출되었고 아직 완료되지 않은 상태입니다. 이 값은 소켓이 연결될 때까지 `true`로 유지되며, 연결이 완료되면 `false`로 설정되고 `'connect'` 이벤트가 발생합니다. [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)의 콜백은 `'connect'` 이벤트의 리스너라는 점에 유의하세요.


#### `socket.destroy([error])`[#](https://nodejs.org/docs/latest/api/net.html#socketdestroyerror)

추가된 버전: v0.1.90

-   `error` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

이 소켓에서 더 이상 I/O 작업이 발생하지 않도록 보장합니다. 스트림을 파괴하고 연결을 닫습니다.

자세한 내용은 [`writable.destroy()`](https://nodejs.org/docs/latest/api/stream.html#writabledestroyerror)를 참고하세요.


#### `socket.destroyed`

- **[`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)**  
  연결이 끊어졌는지 여부를 나타냅니다. 연결이 끊어지면 더 이상 데이터를 전송할 수 없습니다.

자세한 내용은 [`writable.destroyed`](https://nodejs.org/docs/latest/api/stream.html#writabledestroyed)를 참고하세요.


#### `socket.destroySoon()`[#](https://nodejs.org/docs/latest/api/net.html#socketdestroysoon)

추가된 버전: v0.3.4

이 메서드는 모든 데이터가 쓰여진 후 소켓을 파괴합니다. 만약 `'finish'` 이벤트가 이미 발생했다면 소켓은 즉시 파괴됩니다. 소켓이 여전히 쓰기 가능한 상태라면, 이 메서드는 암묵적으로 `socket.end()`를 호출합니다.

```javascript
// 예제 코드
const net = require('net');

const server = net.createServer((socket) => {
    socket.write('Hello, client!');
    socket.destroySoon(); // 모든 데이터가 쓰여진 후 소켓 파괴
});

server.listen(3000, () => {
    console.log('Server is listening on port 3000');
});
```


#### `socket.end([data[, encoding]][, callback])`[#](https://nodejs.org/docs/latest/api/net.html#socketenddata-encoding-callback)

추가된 버전: v0.1.90

-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<Uint8Array>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)
-   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) `data`가 문자열일 때만 사용. **기본값:** `'utf8'`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) 소켓이 종료될 때 실행될 선택적 콜백.
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체.

소켓을 반쯤 닫습니다. 즉, FIN 패킷을 보냅니다. 서버가 여전히 일부 데이터를 보낼 가능성이 있습니다.

자세한 내용은 [`writable.end()`](https://nodejs.org/docs/latest/api/stream.html#writableendchunk-encoding-callback)를 참고하세요.


#### `socket.localAddress`[#](https://nodejs.org/docs/latest/api/net.html#socketlocaladdress)

추가된 버전: v0.9.6

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

`socket.localAddress`는 원격 클라이언트가 연결된 로컬 IP 주소를 문자열로 나타냅니다. 예를 들어, 서버가 `'0.0.0.0'`에서 수신 중이고 클라이언트가 `'192.168.1.1'`로 연결하면, `socket.localAddress`의 값은 `'192.168.1.1'`이 됩니다.


#### `socket.localPort`[#](https://nodejs.org/docs/latest/api/net.html#socketlocalport)

추가된 버전: v0.9.6

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

로컬 포트를 숫자로 표현한 값입니다. 예를 들어, `80`이나 `21`과 같은 값을 가질 수 있습니다.


#### `socket.localFamily`[#](https://nodejs.org/docs/latest/api/net.html#socketlocalfamily)

추가된 버전: v18.8.0, v16.18.0

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

로컬 IP 패밀리의 문자열 표현입니다. `'IPv4'` 또는 `'IPv6'` 값을 가집니다.


#### `socket.pause()`[#](https://nodejs.org/docs/latest/api/net.html#socketpause)

-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

데이터 읽기를 일시 중지합니다. 즉, [`'data'`](https://nodejs.org/docs/latest/api/net.html#event-data) 이벤트가 발생하지 않습니다. 업로드 속도를 조절할 때 유용합니다.


#### `socket.pending`[#](https://nodejs.org/docs/latest/api/net.html#socketpending)

추가된 버전: v11.2.0, v10.16.0

-   [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

이 값은 소켓이 아직 연결되지 않았을 때 `true`가 됩니다. `.connect()`가 아직 호출되지 않았거나, 연결 과정 중인 경우(참조: [`socket.connecting`](https://nodejs.org/docs/latest/api/net.html#socketconnecting))에 해당합니다.


#### `socket.ref()`[#](https://nodejs.org/docs/latest/api/net.html#socketref)

추가된 버전: v0.9.1

-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

`unref()`와 반대로, 이전에 `unref`된 소켓에서 `ref()`를 호출하면 프로그램이 종료되지 않도록 합니다(기본 동작). 소켓이 이미 `ref`된 상태에서 다시 `ref`를 호출해도 아무런 효과가 없습니다.


#### `socket.remoteAddress`[#](https://nodejs.org/docs/latest/api/net.html#socketremoteaddress)

추가된 버전: v0.5.10

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

원격 IP 주소의 문자열 표현입니다. 예를 들어, `'74.125.127.100'` 또는 `'2001:4860:a005::68'`과 같은 형태입니다. 소켓이 파괴된 경우(예: 클라이언트가 연결을 끊은 경우) 값은 `undefined`가 될 수 있습니다.


#### `socket.remoteFamily`[#](https://nodejs.org/docs/latest/api/net.html#socketremotefamily)

추가된 버전: v0.11.14

- [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

원격 IP 패밀리의 문자열 표현입니다. `'IPv4'` 또는 `'IPv6'` 값을 가질 수 있습니다. 소켓이 파괴된 경우(예: 클라이언트가 연결을 끊은 경우) 값은 `undefined`가 될 수 있습니다.


#### `socket.remotePort`[#](https://nodejs.org/docs/latest/api/net.html#socketremoteport)

추가된 버전: v0.5.10

-   [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

`socket.remotePort`는 원격 포트의 숫자 표현입니다. 예를 들어, `80`이나 `21`과 같은 값이 될 수 있습니다. 소켓이 파괴된 경우(예: 클라이언트가 연결을 끊은 경우) 이 값은 `undefined`가 될 수 있습니다.


#### `socket.resetAndDestroy()`[#](https://nodejs.org/docs/latest/api/net.html#socketresetanddestroy)

추가된 버전: v18.3.0, v16.17.0

-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

이 메서드는 RST 패킷을 보내 TCP 연결을 종료하고 스트림을 파괴합니다. 만약 이 TCP 소켓이 연결 중인 상태라면, 연결이 완료된 후 RST 패킷을 보내고 TCP 소켓을 파괴합니다. 그렇지 않은 경우, `ERR_SOCKET_CLOSED` 오류와 함께 `socket.destroy`를 호출합니다. 만약 이 소켓이 TCP 소켓이 아닌 경우(예: 파이프), 이 메서드를 호출하면 즉시 `ERR_INVALID_HANDLE_TYPE` 오류가 발생합니다.


#### `socket.resume()`[#](https://nodejs.org/docs/latest/api/net.html#socketresume)

-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

[`socket.pause()`](https://nodejs.org/docs/latest/api/net.html#socketpause) 호출 후 읽기를 재개합니다.


#### `socket.setEncoding([encoding])`[#](https://nodejs.org/docs/latest/api/net.html#socketsetencodingencoding)

추가된 버전: v0.1.90

-   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

소켓의 인코딩을 [Readable Stream](https://nodejs.org/docs/latest/api/stream.html#class-streamreadable)로 설정합니다. 자세한 내용은 [`readable.setEncoding()`](https://nodejs.org/docs/latest/api/stream.html#readablesetencodingencoding)을 참고하세요.


#### `socket.setKeepAlive([enable][, initialDelay])`[#](https://nodejs.org/docs/latest/api/net.html#socketsetkeepaliveenable-initialdelay)

-   `enable` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `false`
-   `initialDelay` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) **기본값:** `0`
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

keep-alive 기능을 활성화하거나 비활성화하고, 선택적으로 유휴 상태의 소켓에서 첫 번째 keepalive 프로브를 보내기 전의 초기 지연 시간을 설정합니다.

`initialDelay`(밀리초 단위)를 설정하여 마지막으로 받은 데이터 패킷과 첫 번째 keepalive 프로브 사이의 지연 시간을 조정합니다. `initialDelay`를 `0`으로 설정하면 기본값(또는 이전 설정)을 그대로 유지합니다.

keep-alive 기능을 활성화하면 다음과 같은 소켓 옵션이 설정됩니다:

-   `SO_KEEPALIVE=1`
-   `TCP_KEEPIDLE=initialDelay`
-   `TCP_KEEPCNT=10`
-   `TCP_KEEPINTVL=1`


#### `socket.setNoDelay([noDelay])`[#](https://nodejs.org/docs/latest/api/net.html#socketsetnodelaynodelay)

추가된 버전: v0.1.90

-   `noDelay` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) **기본값:** `true`
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

Nagle 알고리즘의 사용을 활성화하거나 비활성화합니다.

TCP 연결이 생성되면 Nagle 알고리즘이 기본적으로 활성화됩니다.

Nagle 알고리즘은 데이터를 네트워크로 전송하기 전에 지연시킵니다. 이 알고리즘은 지연 시간을 희생하여 처리량을 최적화하려고 합니다.

`noDelay`에 `true`를 전달하거나 인자를 전달하지 않으면 소켓의 Nagle 알고리즘이 비활성화됩니다. `noDelay`에 `false`를 전달하면 Nagle 알고리즘이 활성화됩니다.


#### `socket.setTimeout(timeout[, callback])`

- `timeout` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
- `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
- 반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

소켓이 `timeout` 밀리초 동안 아무런 활동이 없을 경우 타임아웃을 설정합니다. 기본적으로 `net.Socket`은 타임아웃이 설정되어 있지 않습니다.

타임아웃이 발생하면 소켓은 [`'timeout'`](https://nodejs.org/docs/latest/api/net.html#event-timeout) 이벤트를 받지만, 연결은 자동으로 끊기지 않습니다. 사용자가 직접 [`socket.end()`](https://nodejs.org/docs/latest/api/net.html#socketenddata-encoding-callback) 또는 [`socket.destroy()`](https://nodejs.org/docs/latest/api/net.html#socketdestroyerror)를 호출하여 연결을 종료해야 합니다.

```js
socket.setTimeout(3000);
socket.on('timeout', () => {
    console.log('socket timeout');
    socket.end();
});
```

`timeout`이 0이면 기존의 타임아웃 설정이 비활성화됩니다.

선택적으로 `callback` 매개변수를 추가하면, 이 콜백은 [`'timeout'`](https://nodejs.org/docs/latest/api/net.html#event-timeout) 이벤트에 대한 일회성 리스너로 등록됩니다.


#### `socket.timeout`[#](https://nodejs.org/docs/latest/api/net.html#sockettimeout)

추가된 버전: v10.7.0

-   [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) | [`<undefined>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type)

[`socket.setTimeout()`](https://nodejs.org/docs/latest/api/net.html#socketsettimeouttimeout-callback)을 통해 설정된 소켓 타임아웃 값(밀리초 단위)입니다. 타임아웃이 설정되지 않은 경우 `undefined`로 표시됩니다.


#### `socket.unref()`[#](https://nodejs.org/docs/latest/api/net.html#socketunref)

추가된 버전: v0.9.1

-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 소켓 자체

소켓에서 `unref()`를 호출하면, 이 소켓이 이벤트 시스템에서 유일하게 활성화된 소켓일 경우 프로그램이 종료될 수 있도록 합니다. 이미 `unref`된 소켓에서 `unref()`를 다시 호출해도 아무런 효과가 없습니다.


#### `socket.write(data[, encoding][, callback])`[#](https://nodejs.org/docs/latest/api/net.html#socketwritedata-encoding-callback)

추가된 버전: v0.1.90

-   `data` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) | [`<Buffer>`](https://nodejs.org/docs/latest/api/buffer.html#class-buffer) | [`<Uint8Array>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)
-   `encoding` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 데이터가 `string` 타입일 때만 사용됩니다. **기본값:** `utf8`.
-   `callback` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

소켓에 데이터를 전송합니다. 두 번째 매개변수는 문자열인 경우 인코딩을 지정합니다. 기본값은 UTF8 인코딩입니다.

전체 데이터가 커널 버퍼로 성공적으로 전송되면 `true`를 반환합니다. 데이터의 일부 또는 전체가 사용자 메모리에 대기 중이라면 `false`를 반환합니다. 버퍼가 다시 비워지면 [`'drain'`](https://nodejs.org/docs/latest/api/net.html#event-drain) 이벤트가 발생합니다.

선택적 `callback` 매개변수는 데이터가 최종적으로 기록될 때 실행됩니다. 이는 즉시 발생하지 않을 수 있습니다.

자세한 내용은 `Writable` 스트림의 [`write()`](https://nodejs.org/docs/latest/api/stream.html#writablewritechunk-encoding-callback) 메서드를 참고하세요.


#### `socket.readyState`[#](https://nodejs.org/docs/latest/api/net.html#socketreadystate)

추가된 버전: v0.5.0

-   [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)

이 속성은 연결 상태를 문자열로 나타냅니다.

-   스트림이 연결 중이라면 `socket.readyState`는 `opening`입니다.
-   스트림이 읽기와 쓰기가 가능하다면 `open`입니다.
-   스트림이 읽기만 가능하고 쓰기가 불가능하다면 `readOnly`입니다.
-   스트림이 쓰기만 가능하고 읽기가 불가능하다면 `writeOnly`입니다.


### `net.connect()`[#](https://nodejs.org/docs/latest/api/net.html#netconnect)

`net.connect()`는 [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection)의 별칭(alias)입니다.

사용 가능한 시그니처는 다음과 같습니다:

-   [`net.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netconnectoptions-connectlistener)
-   [`net.connect(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netconnectpath-connectlistener) - [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결을 위한 시그니처
-   [`net.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netconnectport-host-connectlistener) - TCP 연결을 위한 시그니처


#### `net.connect(options[, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netconnectoptions-connectlistener)

추가된 버전: v0.7.0

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

[`net.createConnection(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionoptions-connectlistener)의 별칭입니다.


#### `net.connect(path[, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netconnectpath-connectlistener)

추가된 버전: v0.1.90

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

[`net.createConnection(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionpath-connectlistener)의 별칭입니다.


#### `net.connect(port[, host][, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netconnectport-host-connectlistener)

추가된 버전: v0.1.90

-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)
-   `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)

[`net.createConnection(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionport-host-connectlistener)의 별칭입니다.


### `net.createConnection()`[#](https://nodejs.org/docs/latest/api/net.html#netcreateconnection)

이 함수는 새로운 [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)을 생성하는 팩토리 함수입니다. 생성된 소켓은 즉시 [`socket.connect()`](https://nodejs.org/docs/latest/api/net.html#socketconnect)를 통해 연결을 시작하고, 연결을 시작한 `net.Socket`을 반환합니다.

연결이 성공적으로 이루어지면, 반환된 소켓에서 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트가 발생합니다. 마지막 매개변수인 `connectListener`가 제공되면, 이 리스너는 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트에 **한 번만** 추가됩니다.

가능한 시그니처는 다음과 같습니다:

-   [`net.createConnection(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionoptions-connectlistener)
-   [`net.createConnection(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionpath-connectlistener) - [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결을 위한 시그니처
-   [`net.createConnection(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionport-host-connectlistener) - TCP 연결을 위한 시그니처

[`net.connect()`](https://nodejs.org/docs/latest/api/net.html#netconnect) 함수는 이 함수의 별칭입니다.


#### `net.createConnection(options[, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionoptions-connectlistener)

추가된 버전: v0.1.90

-   `options` [`<Object>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) 필수. 이 옵션은 [`new net.Socket([options])`](https://nodejs.org/docs/latest/api/net.html#new-netsocketoptions) 호출과 [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener) 메서드에 전달된다.
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection) 함수의 공통 매개변수. 제공되면, 반환된 소켓에 [`'connect'`](https://nodejs.org/docs/latest/api/net.html#event-connect) 이벤트 리스너로 추가된다.
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 연결을 시작하는 데 사용되는 새로 생성된 소켓.

사용 가능한 옵션은 [`new net.Socket([options])`](https://nodejs.org/docs/latest/api/net.html#new-netsocketoptions)와 [`socket.connect(options[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)를 참고한다.

추가 옵션:

-   `timeout` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 설정되면, 소켓이 생성된 후 연결을 시작하기 전에 [`socket.setTimeout(timeout)`](https://nodejs.org/docs/latest/api/net.html#socketsettimeouttimeout-callback)를 호출하는 데 사용된다.

다음은 [`net.createServer()`](https://nodejs.org/docs/latest/api/net.html#netcreateserveroptions-connectionlistener) 섹션에서 설명한 에코 서버의 클라이언트 예제다:

```js
import net from 'node:net';

const client = net.createConnection({ port: 8124 }, () => {
    // 'connect' 리스너
    console.log('connected to server!');
    client.write('world!\r\n');
});

client.on('data', (data) => {
    console.log(data.toString());
    client.end();
});

client.on('end', () => {
    console.log('disconnected from server');
});
```

`/tmp/echo.sock` 소켓에 연결하려면:

```js
const client = net.createConnection({ path: '/tmp/echo.sock' });
```

다음은 `port`와 `onread` 옵션을 사용하는 클라이언트 예제다. 이 경우, `onread` 옵션은 `new net.Socket([options])`를 호출하는 데만 사용되고, `port` 옵션은 `socket.connect(options[, connectListener])`를 호출하는 데 사용된다.

```js
import net from 'node:net';
import { Buffer } from 'node:buffer';

net.createConnection({
    port: 8124,
    onread: {
        // 소켓에서 읽을 때마다 4KiB 버퍼를 재사용한다.
        buffer: Buffer.alloc(4 * 1024),
        callback: function(nread, buf) {
            // 수신된 데이터는 `buf`의 0부터 `nread`까지에서 사용 가능하다.
            console.log(buf.toString('utf8', 0, nread));
        },
    },
});
```


#### `net.createConnection(path[, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionpath-connectlistener)

추가된 버전: v0.1.90

-   `path` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결할 경로입니다. 이 값은 [`socket.connect(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectpath-connectlistener)로 전달됩니다. 자세한 내용은 [IPC 연결을 위한 경로 식별](https://nodejs.org/docs/latest/api/net.html#identifying-paths-for-ipc-connections)을 참고하세요.
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection) 함수의 공통 인자로, 초기화된 소켓의 `'connect'` 이벤트에 대한 "한 번만 실행되는" 리스너입니다. 이 값은 [`socket.connect(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectpath-connectlistener)로 전달됩니다.
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 연결을 시작하는 데 사용된 새로 생성된 소켓입니다.

이 함수는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 연결을 시작합니다.

이 함수는 모든 옵션이 기본값으로 설정된 새로운 [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)을 생성하고, [`socket.connect(path[, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectpath-connectlistener)를 통해 즉시 연결을 시작한 후, 연결을 시작하는 `net.Socket`을 반환합니다.


#### `net.createConnection(port[, host][, connectListener])`[#](https://nodejs.org/docs/latest/api/net.html#netcreateconnectionport-host-connectlistener)

추가된 버전: v0.1.90

-   `port` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 소켓이 연결할 포트 번호. [`socket.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener)로 전달된다.
-   `host` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type) 소켓이 연결할 호스트. [`socket.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener)로 전달된다. **기본값:** `'localhost'`.
-   `connectListener` [`<Function>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function) [`net.createConnection()`](https://nodejs.org/docs/latest/api/net.html#netcreateconnection) 함수의 공통 인자로, 소켓의 `'connect'` 이벤트에 대한 "once" 리스너. [`socket.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener)로 전달된다.
-   반환값: [`<net.Socket>`](https://nodejs.org/docs/latest/api/net.html#class-netsocket) 연결을 시작하는 데 사용된 새로 생성된 소켓.

TCP 연결을 시작한다.

이 함수는 모든 옵션이 기본값으로 설정된 새로운 [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)을 생성하고, [`socket.connect(port[, host][, connectListener])`](https://nodejs.org/docs/latest/api/net.html#socketconnectport-host-connectlistener)를 통해 즉시 연결을 시작한 후, 연결을 시작하는 `net.Socket`을 반환한다.


### `net.createServer([options][, connectionListener])`

- `options` [`<Object>`]
    - `allowHalfOpen` [`<boolean>`] `false`로 설정하면, 읽기 가능한 쪽이 끝날 때 쓰기 가능한 쪽도 자동으로 종료됩니다. **기본값:** `false`
    - `highWaterMark` [`<number>`] 모든 [`net.Socket`](https://nodejs.org/docs/latest/api/net.html#class-netsocket)의 `readableHighWaterMark`와 `writableHighWaterMark`를 선택적으로 덮어씁니다. **기본값:** [`stream.getDefaultHighWaterMark()`](https://nodejs.org/docs/latest/api/stream.html#streamgetdefaulthighwatermarkobjectmode) 참조
    - `keepAlive` [`<boolean>`] `true`로 설정하면, 새로운 연결이 들어온 직후 소켓에서 keep-alive 기능을 활성화합니다. 이는 [`socket.setKeepAlive()`](https://nodejs.org/docs/latest/api/net.html#socketsetkeepaliveenable-initialdelay)와 유사합니다. **기본값:** `false`
    - `keepAliveInitialDelay` [`<number>`] 양수로 설정하면, 유휴 상태의 소켓에서 첫 번째 keepalive 프로브를 보내기 전의 초기 지연 시간을 설정합니다. **기본값:** `0`
    - `noDelay` [`<boolean>`] `true`로 설정하면, 새로운 연결이 들어온 직후 Nagle 알고리즘을 비활성화합니다. **기본값:** `false`
    - `pauseOnConnect` [`<boolean>`] `true`로 설정하면, 들어오는 연결과 관련된 소켓이 일시 중지되고, 핸들러에서 데이터를 읽지 않습니다. 이는 데이터를 읽지 않고 연결을 프로세스 간에 전달할 수 있게 합니다. 일시 중지된 소켓에서 데이터 읽기를 시작하려면 [`socket.resume()`](https://nodejs.org/docs/latest/api/net.html#socketresume)을 호출하세요.
    - `blockList` [`<net.BlockList>`] `blockList`는 특정 IP 주소, IP 범위 또는 IP 서브넷에 대한 인바운드 액세스를 비활성화하는 데 사용됩니다. 서버가 리버스 프록시, NAT 등 뒤에 있는 경우 이 기능은 작동하지 않습니다. 왜냐하면 차단 목록에 대해 확인되는 주소는 프록시의 주소 또는 NAT에 의해 지정된 주소이기 때문입니다.
- `connectionListener` [`<Function>`] 자동으로 [`'connection'`](https://nodejs.org/docs/latest/api/net.html#event-connection) 이벤트의 리스너로 설정됩니다.
- 반환값: [`<net.Server>`](https://nodejs.org/docs/latest/api/net.html#class-netserver)

새로운 TCP 또는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버를 생성합니다.

`allowHalfOpen`이 `true`로 설정되면, 소켓의 다른 쪽에서 전송 종료 신호를 보낼 때, 서버는 [`socket.end()`](https://nodejs.org/docs/latest/api/net.html#socketenddata-encoding-callback)가 명시적으로 호출될 때만 전송 종료 신호를 보냅니다. 예를 들어, TCP 컨텍스트에서 FIN 패킷을 받으면, [`socket.end()`](https://nodejs.org/docs/latest/api/net.html#socketenddata-encoding-callback)가 명시적으로 호출될 때만 FIN 패킷을 보냅니다. 그때까지 연결은 반쯤 닫힌 상태(읽을 수는 없지만 여전히 쓸 수 있는 상태)로 유지됩니다. 자세한 내용은 [`'end'`](https://nodejs.org/docs/latest/api/net.html#event-end) 이벤트와 [RFC 1122](https://tools.ietf.org/html/rfc1122) (섹션 4.2.2.13)을 참조하세요.

`pauseOnConnect`가 `true`로 설정되면, 들어오는 각 연결과 관련된 소켓이 일시 중지되고, 핸들러에서 데이터를 읽지 않습니다. 이를 통해 데이터를 읽지 않고 연결을 프로세스 간에 전달할 수 있습니다. 일시 중지된 소켓에서 데이터 읽기를 시작하려면 [`socket.resume()`](https://nodejs.org/docs/latest/api/net.html#socketresume)을 호출하세요.

서버는 [`listen()`](https://nodejs.org/docs/latest/api/net.html#serverlisten)에 따라 TCP 서버 또는 [IPC](https://nodejs.org/docs/latest/api/net.html#ipc-support) 서버가 될 수 있습니다.

다음은 8124 포트에서 연결을 기다리는 TCP 에코 서버 예제입니다:

```js
import net from 'node:net';

const server = net.createServer((c) => {
    // 'connection' 리스너
    console.log('client connected');
    c.on('end', () => {
        console.log('client disconnected');
    });
    c.write('hello\r\n');
    c.pipe(c);
});

server.on('error', (err) => {
    throw err;
});

server.listen(8124, () => {
    console.log('server bound');
});
```

`telnet`을 사용하여 테스트할 수 있습니다:

```bash
telnet localhost 8124
```

`/tmp/echo.sock` 소켓에서 대기하려면:

```js
server.listen('/tmp/echo.sock', () => {
    console.log('server bound');
});
```

Unix 도메인 소켓 서버에 연결하려면 `nc`를 사용하세요:

```bash
nc -U /tmp/echo.sock
```


### `net.getDefaultAutoSelectFamily()`[#](https://nodejs.org/docs/latest/api/net.html#netgetdefaultautoselectfamily)

추가된 버전: v19.4.0

[`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)의 `autoSelectFamily` 옵션의 현재 기본값을 가져옵니다. 초기 기본값은 `true`이며, 커맨드라인 옵션 `--no-network-family-autoselection`이 제공되지 않는 한 이 값이 유지됩니다.

-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) `autoSelectFamily` 옵션의 현재 기본값.


### `net.setDefaultAutoSelectFamily(value)`[#](https://nodejs.org/docs/latest/api/net.html#netsetdefaultautoselectfamilyvalue)

추가된 버전: v19.4.0

이 메서드는 [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)의 `autoSelectFamily` 옵션의 기본값을 설정합니다.

-   `value` [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type) 새로운 기본값입니다. 초기 기본값은 `true`이며, 커맨드라인 옵션 `--no-network-family-autoselection`이 제공되지 않는 한 이 값이 적용됩니다.


### `net.getDefaultAutoSelectFamilyAttemptTimeout()`[#](https://nodejs.org/docs/latest/api/net.html#netgetdefaultautoselectfamilyattempttimeout)

추가된 버전: v19.8.0, v18.18.0

[`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)의 `autoSelectFamilyAttemptTimeout` 옵션의 현재 기본값을 가져옵니다. 초기 기본값은 `250`이거나 커맨드라인 옵션 `--network-family-autoselection-attempt-timeout`으로 지정된 값입니다.

-   반환값: [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) `autoSelectFamilyAttemptTimeout` 옵션의 현재 기본값.


### `net.setDefaultAutoSelectFamilyAttemptTimeout(value)`[#](https://nodejs.org/docs/latest/api/net.html#netsetdefaultautoselectfamilyattempttimeoutvalue)

추가된 버전: v19.8.0, v18.18.0

이 메서드는 [`socket.connect(options)`](https://nodejs.org/docs/latest/api/net.html#socketconnectoptions-connectlistener)의 `autoSelectFamilyAttemptTimeout` 옵션의 기본값을 설정합니다.

-   `value` [`<number>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type) 새로운 기본값으로, 양수여야 합니다. 만약 값이 `10`보다 작다면, `10`으로 대체됩니다. 초기 기본값은 `250`이거나 커맨드라인 옵션 `--network-family-autoselection-attempt-timeout`으로 지정된 값입니다.


### `net.isIP(input)`[#](https://nodejs.org/docs/latest/api/net.html#netisipinput)

추가된 버전: v0.3.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   반환값: [`<integer>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type)

`input`이 IPv6 주소라면 `6`을 반환합니다. `input`이 앞에 0이 없는 [점으로 구분된 십진 표기법](https://en.wikipedia.org/wiki/Dot-decimal_notation)의 IPv4 주소라면 `4`를 반환합니다. 그 외의 경우에는 `0`을 반환합니다.

```js
net.isIP('::1'); // 6을 반환
net.isIP('127.0.0.1'); // 4를 반환
net.isIP('127.000.000.001'); // 0을 반환
net.isIP('127.0.0.1/24'); // 0을 반환
net.isIP('fhqwhgads'); // 0을 반환
```


### `net.isIPv4(input)`[#](https://nodejs.org/docs/latest/api/net.html#netisipv4input)

추가된 버전: v0.3.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

`input`이 [점으로 구분된 십진 표기법](https://en.wikipedia.org/wiki/Dot-decimal_notation)으로 된 IPv4 주소이고, 앞에 0이 붙지 않았다면 `true`를 반환합니다. 그렇지 않으면 `false`를 반환합니다.

```js
net.isIPv4('127.0.0.1'); // true 반환
net.isIPv4('127.000.000.001'); // false 반환
net.isIPv4('127.0.0.1/24'); // false 반환
net.isIPv4('fhqwhgads'); // false 반환
```


### `net.isIPv6(input)`[#](https://nodejs.org/docs/latest/api/net.html#netisipv6input)

추가된 버전: v0.3.0

-   `input` [`<string>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type)
-   반환값: [`<boolean>`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type)

`input`이 IPv6 주소인 경우 `true`를 반환합니다. 그렇지 않으면 `false`를 반환합니다.

```js
net.isIPv6('::1'); // true 반환
net.isIPv6('fhqwhgads'); // false 반환
```


